<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>TypescriptåŸºç¡€ | Niuhe&#39;s Blog</title>
<meta name="keywords" content="Typescript">
<meta name="description" content="Typescript åŸºç¡€ç¬”è®°">
<meta name="author" content="Niuhe">
<link rel="canonical" href="https://blog.niuhemoon.win/posts/tech/typescript-doc/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css" integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe&#43;FVUFzPh7U=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://blog.niuhemoon.win/base/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.niuhemoon.win/base/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.niuhemoon.win/base/favicon.ico">
<link rel="apple-touch-icon" href="https://blog.niuhemoon.win/base/avatar.jpeg">
<link rel="mask-icon" href="https://blog.niuhemoon.win/base/avatar.jpeg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-116933089-1', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content="TypescriptåŸºç¡€" />
<meta property="og:description" content="Typescript åŸºç¡€ç¬”è®°" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.niuhemoon.win/posts/tech/typescript-doc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-01-29T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-01-29T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="TypescriptåŸºç¡€"/>
<meta name="twitter:description" content="Typescript åŸºç¡€ç¬”è®°"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ğŸ“šæ–‡ç« ",
      "item": "https://blog.niuhemoon.win/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯",
      "item": "https://blog.niuhemoon.win/posts/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "TypescriptåŸºç¡€",
      "item": "https://blog.niuhemoon.win/posts/tech/typescript-doc/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "TypescriptåŸºç¡€",
  "name": "TypescriptåŸºç¡€",
  "description": "Typescript åŸºç¡€ç¬”è®°",
  "keywords": [
    "Typescript"
  ],
  "articleBody": "ç®€ä»‹ Typescript å¯ä»¥åœ¨ä»£ç ç¼–å†™å†™åšç±»å‹æ£€æŸ¥ï¼Œå¯ä»¥ç¼–å†™æ›´å¥å£®çš„ä»£ç ã€‚\nå®‰è£… npm config set registry https://registry.npm.taobao.org sudo npm install -g typescript # å®‰è£…REPL sudo npm install -g tsun åŸºæœ¬æ¦‚å¿µ è”åˆç±»å‹\nè¡¨ç¤ºå–å€¼æ˜¯å¤šç§ç±»å‹ä¸­çš„ä¸€ç§ï¼Œå½“ TypeScript ä¸ç¡®å®šä¸€ä¸ªè”åˆç±»å‹çš„å˜é‡åˆ°åº•æ˜¯å“ªä¸ªç±»å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹é‡Œå…±æœ‰çš„å±æ€§æˆ–æ–¹æ³•\nlet myFavoriteNumber: string | number; myFavoriteNumber = \"seven\"; myFavoriteNumber = 7; æ¥å£\nTypeScript ä¸­çš„æ¥å£æ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„æ¦‚å¿µï¼Œé™¤äº†å¯ç”¨äºå¯¹ç±»çš„ä¸€éƒ¨åˆ†è¡Œä¸ºè¿›è¡ŒæŠ½è±¡ä»¥å¤–ï¼Œä¹Ÿå¸¸ç”¨äºå¯¹ã€Œå¯¹è±¡çš„å½¢çŠ¶ï¼ˆShapeï¼‰ã€è¿›è¡Œæè¿°ã€‚ æ¥å£æ˜¯ä¸€ä¸ªç±»å‹ï¼Œä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„å€¼ï¼Œå®ƒåœ¨ç¼–è¯‘ç»“æœä¸­ä¼šè¢«åˆ é™¤\n//ï¼Ÿå¯é€‰å±æ€§ interface Person { name: string; age?: number; } let tom: Person = { name: \"Tom\", }; let tom: Person1 = { name: \"Tom\", age: 25, }; //æ¥å£å¯ä»¥ç»§æ‰¿ interface ApiError extends Error { code: number; } æ¥å£å¯ä»¥å®šä¹‰ä»»æ„ç±»å‹ï¼Œä½†æ˜¯å½“åŒæ—¶å­˜åœ¨å¯é€‰ç±»å‹å’Œä»»æ„ç±»å‹ï¼Œå¯é€‰ç±»å‹éœ€è¦æ˜¯ä»»æ„ç±»å‹çš„å­é›†\ninterface Person { name: string; age?: number; //ä»»æ„ç±»å‹ä¸ºè”åˆç±»å‹ [propName: string]: string | number; } let tom: Person = { name: \"Tom\", age: 25, gender: \"male\", }; æ¥å£å±æ€§åªè¯»ï¼Œæ„å‘³ç€ï¼Œåªæœ‰åœ¨åˆ›å»ºå¯¹è±¡æ—¶å¯è¢«èµ‹å€¼ï¼Œå…¶åæ— æ³•ä¿®æ”¹ï¼Œè€Œä¸”åªè¯»å±æ€§å¿…é¡»åœ¨å¯¹è±¡åˆå§‹åŒ–æ—¶è¿›è¡Œèµ‹å€¼ã€‚\ninterface Person { readonly id: number; name: string; age?: number; [propName: string]: any; } let tom: Person = { id: 89757, name: \"Tom\", gender: \"male\", }; æ•°ç»„\nä¹ æƒ¯æ€§çš„å°†æ•°ç»„ä¸­çš„å…ƒç´ ç±»å‹ä¿æŒç›¸åŒ\nlet fibonacci: number[] = [1, 1, 2, 3, 5]; //æ³›å‹ let fibonacci: Array\u003cnumber\u003e = [1, 1, 2, 3, 5]; //æ¥å£è¡¨ç¤ºæ•°ç»„ //ç”¨æ¥å£è¡¨ç¤ºæ•°ç»„é€šå¸¸ç”¨æ¥æ ‡è¯†ç±»å‹ interface NumberArray { //ç´¢å¼•æ˜¯æ•°å­—ï¼Œç±»å‹æ˜¯æ•°å­— [index: number]: number; } let fibonacci: NumberArray = [1, 1, 2, 3, 5]; interface IArguments { [index: number]: any; length: number; callee: Function; } å‡½æ•°\nåœ¨ JavaScript ä¸­ï¼Œæœ‰ä¸¤ç§å¸¸è§çš„å®šä¹‰å‡½æ•°çš„æ–¹å¼â€”â€”å‡½æ•°å£°æ˜ï¼ˆFunction Declarationï¼‰å’Œå‡½æ•°è¡¨è¾¾å¼ï¼ˆFunction Expressionï¼‰; å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼çš„è¯æ³•ç¯å¢ƒå’Œæ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œå‡½æ•°å£°æ˜ä¼šåšç±»å‹æå‡ã€‚\n// å‡½æ•°å£°æ˜ï¼ˆFunction Declarationï¼‰ function sum(x, y) { return x + y; } // å‡½æ•°è¡¨è¾¾å¼ï¼ˆFunction Expressionï¼‰ let mySum = function (x, y) { return x + y; }; å¯ä»¥æ‰‹åŠ¨ç»™å‡½æ•°è¡¨è¾¾å¼æ·»åŠ ç±»å‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç±»å‹æ¨æ–­ åœ¨ TypeScript çš„ç±»å‹å®šä¹‰ä¸­ï¼Œ=\u003e ç”¨æ¥è¡¨ç¤ºå‡½æ•°çš„å®šä¹‰ï¼Œå·¦è¾¹æ˜¯è¾“å…¥ç±»å‹ï¼Œéœ€è¦ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œå³è¾¹æ˜¯è¾“å‡ºç±»å‹ã€‚ åœ¨ ES6 ä¸­ï¼Œ=\u003e å«åšç®­å¤´å‡½æ•°ï¼Œåº”ç”¨ååˆ†å¹¿æ³›\nlet mySum: (x: number, y: number) =\u003e number = function ( x: number, y: number ): number { return x + y; }; å¯é€‰å‚æ•°ç”¨ï¼Ÿæ ‡è¯†ï¼Œå¿…é¡»æ¥åœ¨å¿…éœ€å‚æ•°çš„åé¢\nfunction buildName(firstName: string, lastName?: string) { if (lastName) { return firstName + \" \" + lastName; } else { return firstName; } } let tomcat = buildName(\"Tom\", \"Cat\"); let tom = buildName(\"Tom\"); ES6 ä¸­å…è®¸ç»™å‚æ•°æ·»åŠ é»˜è®¤å€¼ï¼ŒTypescript å°†æ·»åŠ é»˜è®¤å€¼çš„å‚æ•°è¯†åˆ«ä¸ºå¯é€‰å‚æ•°ï¼Œå¹¶ä¸”æ·»åŠ é»˜è®¤å€¼åï¼Œå°±ä¸å—ã€Œå¯é€‰å‚æ•°å¿…é¡»æ¥åœ¨å¿…éœ€å‚æ•°åé¢ã€çš„é™åˆ¶äº† é»˜è®¤å€¼å‚æ•°åœ¨å¿…éœ€å‚æ•°å‰çš„è¯ï¼Œéœ€è¦ä¼ ä¸€ä¸ª undefined è¿›å»å ä½ï¼Œå› æ­¤æ¨èå°†é»˜è®¤å€¼å‚æ•°æ”¾åœ¨åé¢\nfunction buildName(firstName: string = \"Tom\", lastName: string) { return firstName + \" \" + lastName; } let tomcat = buildName(\"Tom\", \"Cat\"); //å¦‚æœé»˜è®¤å€¼å‚æ•°åœ¨å¿…éœ€å‚æ•°å‰è¾¹ï¼Œå¿…é¡»ä¼ å…¥undefined console.log(buildName(undefined, \"cat\")); function buildName1(firstName: string, lastName: string = \"Man\") { return firstName + \" \" + lastName; } console.log(buildName(\"good\")); å‰©ä½™ rest å‚æ•°ï¼ˆä¸å®šé•¿å‚æ•°ï¼‰ rest å‚æ•°åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°\n//itemsæ˜¯ä¸€ä¸ªæ•°ç»„ function push(array, ...items) { items.forEach(function (item) { array.push(item); }); } let a: any[] = []; push(a, 1, 2, 3); å‡½æ•°é‡è½½å…è®¸ä¸€ä¸ªå‡½æ•°æ¥å—ä¸åŒæ•°é‡æˆ–ç±»å‹çš„å‚æ•°æ—¶ï¼Œä½œå‡ºä¸åŒçš„å¤„ç†ã€‚ Typescript ä¼šä»æœ€å‰é¢çš„å‡½æ•°å®šä¹‰å¼€å§‹åŒ¹é…\n//å‰å£°æ˜ï¼ˆå®šä¹‰ï¼‰åå®ç°ï¼Œå°†ç²¾ç¡®çš„å£°æ˜å†™åœ¨å‰é¢ function reverse(x: number): number; function reverse(x: string): string; function reverse(x: number | string): number | string { if (typeof x === \"number\") { return Number(x.toString().split(\"\").reverse().join(\"\")); } else if (typeof x === \"string\") { return x.split(\"\").reverse().join(\"\"); } } ç±»å‹æ–­è¨€\nå€¼ as ç±»å‹ ç±»å‹æ–­è¨€åªä¼šå½±å“ TypeScript ç¼–è¯‘æ—¶çš„ç±»å‹ï¼Œç±»å‹æ–­è¨€è¯­å¥åœ¨ç¼–è¯‘ç»“æœä¸­ä¼šè¢«åˆ é™¤ å®ƒä¸ä¼šçœŸçš„å½±å“åˆ°å˜é‡çš„ç±»å‹ã€‚ åº”ç”¨åœºæ™¯:\nå°†ä¸€ä¸ªè”åˆç±»å‹æ–­è¨€ä¸ºå…¶ä¸­ä¸€ä¸ªç±»å‹ï¼Œæ¬ºéª— tsc ç¼–è¯‘å™¨ï¼Œå¯èƒ½å¯¼è‡´è¿è¡Œæ—¶å‡ºé”™ å°†ä¸€ä¸ªçˆ¶ç±»æ–­è¨€ä¸ºæ›´åŠ å…·ä½“çš„å­ç±» å°†ä»»ä½•ä¸€ä¸ªç±»å‹æ–­è¨€ä¸º any å°† any æ–­è¨€ä¸ºä¸€ä¸ªå…·ä½“çš„ç±»å‹ é™åˆ¶ï¼š typescript æ˜¯ç»“æ„ç±»å‹ç³»ç»Ÿï¼Œä¸å…³å¿ƒå®šä¹‰æ—¶çš„ç±»å‹å…³ç³»ï¼Œåªæ¯”è¾ƒæœ€ç»ˆç»“æ„æœ‰ä»€ä¹ˆå…³ç³»\nè”åˆç±»å‹å¯ä»¥è¢«æ–­è¨€ä¸ºå…¶ä¸­ä¸€ä¸ªç±»å‹ çˆ¶ç±»å¯ä»¥è¢«æ–­è¨€ä¸ºå­ç±» ä»»ä½•ç±»å‹éƒ½å¯ä»¥è¢«æ–­è¨€ä¸º any any å¯ä»¥è¢«æ–­è¨€ä¸ºä»»ä½•ç±»å‹ è¦ä½¿å¾— A èƒ½å¤Ÿè¢«æ–­è¨€ä¸º Bï¼Œåªéœ€è¦ A å…¼å®¹ B æˆ– B å…¼å®¹ A å³å¯ //ç±»å‹æ¯”è¾ƒ //ä¸‹é¢ä¸¤ç§Catçš„å®šä¹‰æ˜¯ç­‰ä»·çš„ interface Animal { name: string; } interface Cat { name: string; run(): void; } interface Cat extends Animal { run(): void; } //è”åˆç±»å‹æ–­è¨€ interface Cat { name: string; run(): void; } interface Fish { name: string; swim(): void; } function isFish(animal: Cat | Fish) { if (typeof (animal as Fish).swim === \"function\") { return true; } return false; } //å­ç±»æ–­è¨€ interface ApiError extends Error { code: number; } interface HttpError extends Error { statusCode: number; } function isApiError(error: Error) { if (typeof (error as ApiError).code === \"number\") { return true; } return false; } //ç¡®ä¿ä»£ç æ— è¯¯åï¼Œç»•è¿‡ç±»å‹æ£€æŸ¥ //åœ¨ç±»å‹çš„ä¸¥æ ¼æ€§å’Œå¼€å‘çš„ä¾¿åˆ©æ€§ä¹‹é—´æŒæ¡å¹³è¡¡ (window as any).foo = 1; //æ˜ç¡®ç±»å‹ï¼Œåç»­æœ‰äº†ä»£ç è¡¥å…¨ï¼Œæé«˜å¯ç»´æŠ¤æ€§ function getCacheData(key: string): any { return (window as any).cache[key]; } interface Cat { name: string; run(): void; } const tom = getCacheData(\"tom\") as Cat; tom.run(); ç±»å‹å£°æ˜æ¯”ç±»å‹æ–­è¨€çº¦æŸæ›´ä¸¥æ ¼ï¼Œå¦‚ animal æ–­è¨€ä¸º Catï¼Œåªéœ€è¦æ»¡è¶³ Animal å…¼å®¹ Cat æˆ– Cat å…¼å®¹ Animal å³å¯ animal èµ‹å€¼ç»™ tomï¼Œéœ€è¦æ»¡è¶³ Cat å…¼å®¹ Animal æ‰è¡Œ å¯ä»¥ç”¨æ³›å‹æ›¿ä»£ç±»å‹æ–­è¨€\nfunction getCacheData\u003cT\u003e(key: string): T { return (window as any).cache[key]; } interface Cat { name: string; run(): void; } const tom = getCacheData\u003cCat\u003e(\"tom\"); tom.run(); å£°æ˜æ–‡ä»¶\nå¸¸ç”¨çš„å£°æ˜è¯­æ³•\ndeclare var å£°æ˜å…¨å±€å˜é‡ declare const å£°æ˜å…¨å±€å¸¸é‡ declare function å£°æ˜å…¨å±€æ–¹æ³• declare class å£°æ˜å…¨å±€ç±» declare enum å£°æ˜å…¨å±€æšä¸¾ç±»å‹ declare namespace å£°æ˜ï¼ˆå«æœ‰å­å±æ€§çš„ï¼‰å…¨å±€å¯¹è±¡ interface å’Œ type å£°æ˜å…¨å±€ç±»å‹ export å¯¼å‡ºå˜é‡ export namespace å¯¼å‡ºï¼ˆå«æœ‰å­å±æ€§çš„ï¼‰å¯¹è±¡ export default ES6 é»˜è®¤å¯¼å‡º export = commonjs å¯¼å‡ºæ¨¡å— export as namespace UMD åº“å£°æ˜å…¨å±€å˜é‡ declare global æ‰©å±•å…¨å±€å˜é‡ declare module æ‰©å±•æ¨¡å— /// ä¸‰æ–œçº¿æŒ‡ä»¤ ç±»å‹åˆ«å\nç±»å‹ c è¯­è¨€ typedefï¼Œåœ¨ typescript ä¸­ç”¨ type åˆ›å»ºç±»å‹åˆ«å\ntype Name = string; type NameResolver = () =\u003e string; type NameOrResolver = Name | NameResolver; function getName(n: NameOrResolver): Name { if (typeof n === \"string\") { return n; } else { return n(); } } å­—é¢é‡ç±»å‹\nçº¦æŸå–å€¼åªèƒ½æ˜¯æŸå‡ ä¸ªå€¼ä¸­çš„ä¸€ä¸ª\ntype EventNames = \"click\" | \"scroll\" | \"mousemove\"; function handleEvent(ele: Element, event: EventNames) { // do something } handleEvent(document.getElementById(\"hello\"), \"scroll\"); // æ²¡é—®é¢˜ handleEvent(document.getElementById(\"world\"), \"dblclick\"); // æŠ¥é”™ï¼Œevent ä¸èƒ½ä¸º 'dblclick' å…ƒç»„\næ•°ç»„åˆå¹¶äº†ç›¸åŒç±»å‹çš„å¯¹è±¡ï¼Œè€Œå…ƒç»„ï¼ˆTupleï¼‰åˆå¹¶äº†ä¸åŒç±»å‹çš„å¯¹è±¡; å¯ä»¥å¯¹å…ƒç»„ä¸­çš„å•ä¸ªå…ƒç´ èµ‹å€¼ï¼› å½“ç›´æ¥å¯¹å…ƒç»„ç±»å‹çš„å˜é‡è¿›è¡Œåˆå§‹åŒ–æˆ–è€…èµ‹å€¼çš„æ—¶å€™ï¼Œéœ€è¦æä¾›æ‰€æœ‰å…ƒç»„ç±»å‹ä¸­æŒ‡å®šçš„é¡¹; å½“æ·»åŠ è¶Šç•Œçš„å…ƒç´ æ—¶ï¼Œå®ƒçš„ç±»å‹ä¼šè¢«é™åˆ¶ä¸ºå…ƒç»„ä¸­æ¯ä¸ªç±»å‹çš„è”åˆç±»å‹\nlet tom: [string, number] = [\"Tom\", 25]; let tom: [string, number]; tom[0] = \"Tom\"; tom[1] = 25; tom[0].slice(1); tom[1].toFixed(2); tom = [\"Tom\", 25]; tom.push(\"male\"); æšä¸¾\næšä¸¾ï¼ˆEnumï¼‰ç±»å‹ç”¨äºå–å€¼è¢«é™å®šåœ¨ä¸€å®šèŒƒå›´å†…çš„åœºæ™¯\nenum Days { Sun, Mon, Tue, Wed, Thu, Fri, Sat, } console.log(Days[\"Sun\"] === 0); // true console.log(Days[\"Mon\"] === 1); // true console.log(Days[\"Tue\"] === 2); // true console.log(Days[\"Sat\"] === 6); // true console.log(Days[0] === \"Sun\"); // true console.log(Days[1] === \"Mon\"); // true console.log(Days[2] === \"Tue\"); // true console.log(Days[6] === \"Sat\"); // true ç±»\nä¼ ç»Ÿæ–¹æ³•ä¸­ï¼ŒJavaScript é€šè¿‡æ„é€ å‡½æ•°å®ç°ç±»çš„æ¦‚å¿µï¼Œé€šè¿‡åŸå‹é“¾å®ç°ç»§æ‰¿ã€‚è€Œåœ¨ ES6 ä¸­ï¼Œæˆ‘ä»¬ç»ˆäºè¿æ¥äº† class ä½¿ç”¨ class å®šä¹‰ç±»ï¼Œä½¿ç”¨ constructor å®šä¹‰æ„é€ å‡½æ•°ã€‚ é€šè¿‡ new ç”Ÿæˆæ–°å®ä¾‹çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨æ„é€ å‡½æ•°ã€‚ ä½¿ç”¨ extends å…³é”®å­—å®ç°ç»§æ‰¿ï¼Œå­ç±»ä¸­ä½¿ç”¨ super å…³é”®å­—æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°å’Œæ–¹æ³•ã€‚ ä½¿ç”¨ getter å’Œ setter å¯ä»¥æ”¹å˜å±æ€§çš„èµ‹å€¼å’Œè¯»å–è¡Œä¸ºï¼š ä½¿ç”¨ static ä¿®é¥°ç¬¦ä¿®é¥°çš„æ–¹æ³•ç§°ä¸ºé™æ€æ–¹æ³•ï¼Œå®ƒä»¬ä¸éœ€è¦å®ä¾‹åŒ–ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡ç±»æ¥è°ƒç”¨ï¼Œä¸å¯ä»¥é€šè¿‡å®ä¾‹æ¥è°ƒç”¨ï¼š\nES6 ä¸­å®ä¾‹çš„å±æ€§åªèƒ½é€šè¿‡æ„é€ å‡½æ•°ä¸­çš„ this.xxx æ¥å®šä¹‰ï¼ŒES7 ææ¡ˆä¸­å¯ä»¥ç›´æ¥åœ¨ç±»é‡Œé¢å®šä¹‰ ES7 ææ¡ˆä¸­ï¼Œå¯ä»¥ä½¿ç”¨ static å®šä¹‰ä¸€ä¸ªé™æ€å±æ€§ï¼Œé™æ€å±æ€§å±äºç±»ï¼› å½“æ„é€ å‡½æ•°ä¿®é¥°ä¸º private æ—¶ï¼Œè¯¥ç±»ä¸å…è®¸è¢«ç»§æ‰¿æˆ–è€…å®ä¾‹åŒ–; å½“æ„é€ å‡½æ•°ä¿®é¥°ä¸º protected æ—¶ï¼Œè¯¥ç±»åªå…è®¸è¢«ç»§æ‰¿ï¼Œä¸å…è®¸è¢«å®ä¾‹åŒ–ï¼› ç±»å±æ€§/æ–¹æ³•çš„è®¿é—®é™å®šç¬¦å¦‚ä¸‹:\npublic ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯å…¬æœ‰çš„ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¢«è®¿é—®åˆ°ï¼Œé»˜è®¤æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯ public çš„ private ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯ç§æœ‰çš„ï¼Œä¸èƒ½åœ¨å£°æ˜å®ƒçš„ç±»çš„å¤–éƒ¨è®¿é—® protected ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯å—ä¿æŠ¤çš„ï¼Œå®ƒå’Œ private ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯å®ƒåœ¨å­ç±»ä¸­ä¹Ÿæ˜¯å…è®¸è¢«è®¿é—®çš„ class Animal { private _name: string; age = 23; static num = 42; constructor(name) { this._name = name; } get name() { return \"get \" + this._name; } //nameæ˜¯publicçš„ï¼Œä½†æ˜¯_nameæ˜¯ç§æœ‰çš„ //ä¸èƒ½åœ¨set nameä¸­å†å¯¹nameèµ‹å€¼ï¼Œä¼šé€ æˆæ­»å¾ªç¯ set name(value) { if (value === \"Dog\") { console.log(\"Animal cannot be dog\"); return; } this._name = value; console.log(\"setter: \" + value); } sayHi() { console.log(`My name is ${this._name}`); } static isAnimal(a) { return a instanceof Animal; } } class Cat extends Animal { constructor(name) { super(name); // è°ƒç”¨çˆ¶ç±»çš„ constructor(name) console.log(this.name); } //å‡½æ•°é‡å†™ sayHi() { return \"Meow, \" + super.sayHi(); // è°ƒç”¨çˆ¶ç±»çš„ sayHi() } } let a = new Animal(\"Jack\"); Animal.isAnimal(a); // true let c = new Cat(\"Tom\"); // Tom console.log(c.sayHi()); // Meow, My name is Tom å‚æ•°å±æ€§ ä¿®é¥°ç¬¦å’Œ readonly è¿˜å¯ä»¥ä½¿ç”¨åœ¨æ„é€ å‡½æ•°å‚æ•°ä¸­ï¼Œç­‰åŒäºç±»ä¸­å®šä¹‰è¯¥å±æ€§åŒæ—¶ç»™è¯¥å±æ€§èµ‹å€¼ åªè¯»å±æ€§å…³é”®å­—ï¼Œåªå…è®¸å‡ºç°åœ¨å±æ€§å£°æ˜æˆ–ç´¢å¼•ç­¾åæˆ–æ„é€ å‡½æ•°ä¸­ æ³¨æ„å¦‚æœ readonly å’Œå…¶ä»–è®¿é—®ä¿®é¥°ç¬¦åŒæ—¶å­˜åœ¨çš„è¯ï¼Œéœ€è¦å†™åœ¨å…¶åé¢ã€‚ abstract ç”¨äºå®šä¹‰æŠ½è±¡ç±»å’Œå…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚ æŠ½è±¡ç±»ä¸å…è®¸è¢«å®ä¾‹åŒ–ï¼ŒæŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•å¿…é¡»è¢«å­ç±»å®ç°\nabstract class Animal { //public readonly name; public constructor(public readonly name: string) { this.name = name; } //abstract method public abstract eat(); } class Cat extends Animal { public eat() { console.log(`${this.name} is eating.`); } } let a = new Cat(\"Tom\"); console.log(a.name); // Tom ç±»å’Œæ¥å£\nå®ç°ï¼ˆimplementsï¼‰æ˜¯é¢å‘å¯¹è±¡ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µã€‚ä¸€èˆ¬æ¥è®²ï¼Œä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿è‡ªå¦ä¸€ä¸ªç±»ï¼Œæœ‰æ—¶å€™ä¸åŒç±»ä¹‹é—´å¯ä»¥æœ‰ä¸€äº›å…±æœ‰çš„ç‰¹æ€§ï¼Œè¿™æ—¶å€™å°±å¯ä»¥æŠŠç‰¹ æ€§æå–æˆæ¥å£ï¼ˆinterfacesï¼‰ï¼Œç”¨ implements å…³é”®å­—æ¥å®ç°ã€‚è¿™ä¸ªç‰¹æ€§å¤§å¤§æé«˜äº†é¢å‘å¯¹è±¡çš„çµæ´»æ€§ã€‚\næ¥å£ä¸­æ‰€æœ‰å±æ€§å’Œæ–¹æ³•éƒ½è¦æ±‚æ˜¯ public ä¸€ä¸ªç±»å¯ä»¥å®ç°ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ¥å£ æ¥å£ä¹‹é—´å¯ä»¥æ˜¯ç»§æ‰¿å…³ç³» æ¥å£å¯ä»¥ç»§æ‰¿ç±»ï¼ˆä¸æ¨èï¼‰ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯æ¥å£ç»§æ‰¿æ¥å£ï¼Œå› ä¸ºåœ¨åˆ›å»ºç±»çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªåŒåçš„æ¥å£ç±»å‹ åˆ›å»ºç±»æ—¶è‡ªåŠ¨ç”Ÿæˆçš„ç±»å‹ä¸­åŒ…å«äº†é™¤äº†æ„é€ å‡½æ•°çš„å®ä¾‹å±æ€§å’Œå®ä¾‹æ–¹æ³•ï¼Œä¼šä¿ç•™è®¿é—®é™å®šç¬¦ï¼Œ å¦‚æœç±»å±æ€§æ˜¯ privateï¼Œå°†å¯¼è‡´è¯¥ç±»å‹çš„å¯¹è±¡æ— æ³•è¢«åˆå§‹åŒ–ï¼Œç”Ÿæˆçš„æ¥å£ç±»å‹ä¸­ä¸åŒ…æ‹¬ï¼š\né™æ€ç±»å‹å’Œé™æ€æ–¹æ³• æ„é€ å‡½æ•° interface Alarm { alert(): void; } interface Light { lightOn(): void; lightOff(): void; } class Car implements Alarm, Light { alert() { console.log(\"Car alert\"); } lightOn() { console.log(\"Car light on\"); } lightOff() { console.log(\"Car light off\"); } } æ¥å£ç»§æ‰¿ç±»ï¼ˆæ™¦æ¶©ï¼‰\nclass Point { x: number; y: number; constructor(x: number, y: number) { this.x = x; this.y = y; } } interface PointInstanceType { x: number; y: number; } // ç­‰ä»·äº interface Point3d extends PointInstanceType interface Point3d extends Point { z: number; } let point3d: Point3d = { x: 1, y: 2, z: 3 }; æ³›å‹\næ³›å‹ï¼ˆGenericsï¼‰æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§\nfunction createArray\u003cT\u003e(length: number, value: T): Array\u003cT\u003e { let result: T[] = []; for (let i = 0; i \u003c length; i++) { result[i] = value; } return result; } createArray\u003cstring\u003e(3, \"x\"); // ['x', 'x', 'x'] //å¤šä¸ªç±»å‹å‚æ•° function swap\u003cT, U\u003e(tuple: [T, U]): [U, T] { return [tuple[1], tuple[0]]; } swap([7, \"seven\"]); // ['seven', 7] æ³›å‹çº¦æŸï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–ç±»å‹çº¦æŸï¼Œä¹Ÿå¯ä»¥åœ¨ç±»å‹å‚æ•°ä¹‹é—´è¿›è¡Œçº¦æŸ\nfunction copyFields\u003cT extends U, U\u003e(target: T, source: U): T { for (let id in source) { target[id] = (\u003cT\u003esource)[id]; } return target; } let x = { a: 1, b: 2, c: 3, d: 4 }; copyFields(x, { b: 10, d: 20 }); å‚è€ƒ Typescript å…¥é—¨æ•™ç¨‹\næ·±å…¥ç†è§£Typescript\n",
  "wordCount" : "3694",
  "inLanguage": "zh",
  "datePublished": "2021-01-29T00:00:00Z",
  "dateModified": "2021-01-29T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Niuhe"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.niuhemoon.win/posts/tech/typescript-doc/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Niuhe's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.niuhemoon.win/base/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.niuhemoon.win" accesskey="h" title="Niuhe&#39;s Blog (Alt + H)">
                <img src="https://blog.niuhemoon.win/base/avatar.jpeg" alt="" aria-label="logo"
                    height="35">Niuhe&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.niuhemoon.win/search" title="ğŸ”æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>ğŸ”æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://blog.niuhemoon.win/" title="ğŸ ä¸»é¡µ">
                    <span>ğŸ ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://blog.niuhemoon.win/posts" title="ğŸ“šæ–‡ç« ">
                    <span>ğŸ“šæ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://blog.niuhemoon.win/tags" title="ğŸ”–æ ‡ç­¾">
                    <span>ğŸ”–æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://blog.niuhemoon.win/archives/" title="â±æ—¶é—´è½´">
                    <span>â±æ—¶é—´è½´</span>
                </a>
            </li>
            <li>
                <a href="https://blog.niuhemoon.win/about" title="ğŸ™‹ğŸ»â€â™‚ï¸å…³äº">
                    <span>ğŸ™‹ğŸ»â€â™‚ï¸å…³äº</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://blog.niuhemoon.win">ğŸ ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="https://blog.niuhemoon.win/posts/">ğŸ“šæ–‡ç« </a>&nbsp;Â»&nbsp;<a href="https://blog.niuhemoon.win/posts/tech/">ğŸ‘¨ğŸ»â€ğŸ’» æŠ€æœ¯</a></div>
    <h1 class="post-title">
      TypescriptåŸºç¡€
    </h1>
    <div class="post-description">
      Typescript åŸºç¡€ç¬”è®°
    </div>
    <div class="post-meta"><span title='2021-01-29 00:00:00 +0000 UTC'>2021-01-29</span>&nbsp;Â·&nbsp;8 min&nbsp;Â·&nbsp;3694 å­—&nbsp;Â·&nbsp;Niuhe

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">æ–‡ç« ç›®å½•</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e7%ae%80%e4%bb%8b" aria-label="ç®€ä»‹">ç®€ä»‹</a></li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85" aria-label="å®‰è£…">å®‰è£…</a></li>
                <li>
                    <a href="#%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" aria-label="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</a></li>
                <li>
                    <a href="#%e5%8f%82%e8%80%83" aria-label="å‚è€ƒ">å‚è€ƒ</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="ç®€ä»‹">ç®€ä»‹<a hidden class="anchor" aria-hidden="true" href="#ç®€ä»‹">#</a></h3>
<blockquote>
<p>Typescript å¯ä»¥åœ¨ä»£ç ç¼–å†™å†™åšç±»å‹æ£€æŸ¥ï¼Œå¯ä»¥ç¼–å†™æ›´å¥å£®çš„ä»£ç ã€‚</p>
</blockquote>
<h3 id="å®‰è£…">å®‰è£…<a hidden class="anchor" aria-hidden="true" href="#å®‰è£…">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>npm config <span style="color:#fff;font-weight:bold">set</span> registry https://registry.npm.taobao.org
</span></span><span style="display:flex;"><span>sudo npm install -g typescript
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># å®‰è£…REPL</span>
</span></span><span style="display:flex;"><span>sudo npm install -g tsun
</span></span></code></pre></div><h3 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ<a hidden class="anchor" aria-hidden="true" href="#åŸºæœ¬æ¦‚å¿µ">#</a></h3>
<p><strong>è”åˆç±»å‹</strong></p>
<blockquote>
<p>è¡¨ç¤ºå–å€¼æ˜¯å¤šç§ç±»å‹ä¸­çš„ä¸€ç§ï¼Œå½“ TypeScript ä¸ç¡®å®šä¸€ä¸ªè”åˆç±»å‹çš„å˜é‡åˆ°åº•æ˜¯å“ªä¸ªç±»å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹é‡Œå…±æœ‰çš„å±æ€§æˆ–æ–¹æ³•</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> myFavoriteNumber: <span style="color:#fff;font-weight:bold">string</span> | <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>myFavoriteNumber = <span style="color:#0ff;font-weight:bold">&#34;seven&#34;</span>;
</span></span><span style="display:flex;"><span>myFavoriteNumber = <span style="color:#ff0;font-weight:bold">7</span>;
</span></span></code></pre></div><p><strong>æ¥å£</strong></p>
<blockquote>
<p>TypeScript ä¸­çš„æ¥å£æ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„æ¦‚å¿µï¼Œé™¤äº†å¯ç”¨äºå¯¹ç±»çš„ä¸€éƒ¨åˆ†è¡Œä¸ºè¿›è¡ŒæŠ½è±¡ä»¥å¤–ï¼Œä¹Ÿå¸¸ç”¨äºå¯¹ã€Œå¯¹è±¡çš„å½¢çŠ¶ï¼ˆShapeï¼‰ã€è¿›è¡Œæè¿°ã€‚
æ¥å£æ˜¯ä¸€ä¸ªç±»å‹ï¼Œä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„å€¼ï¼Œå®ƒåœ¨ç¼–è¯‘ç»“æœä¸­ä¼šè¢«åˆ é™¤</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#007f7f">//ï¼Ÿå¯é€‰å±æ€§
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">interface</span> Person {
</span></span><span style="display:flex;"><span>  name: <span style="color:#fff;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span>  age?: <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> tom: <span style="color:#fff;font-weight:bold">Person</span> = {
</span></span><span style="display:flex;"><span>  name: <span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>,
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> tom: <span style="color:#fff;font-weight:bold">Person1</span> = {
</span></span><span style="display:flex;"><span>  name: <span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>,
</span></span><span style="display:flex;"><span>  age: <span style="color:#fff;font-weight:bold">25</span>,
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//æ¥å£å¯ä»¥ç»§æ‰¿
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">interface</span> ApiError <span style="color:#fff;font-weight:bold">extends</span> <span style="color:#fff;font-weight:bold">Error</span> {
</span></span><span style="display:flex;"><span>  code: <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><blockquote>
<p>æ¥å£å¯ä»¥å®šä¹‰ä»»æ„ç±»å‹ï¼Œä½†æ˜¯å½“åŒæ—¶å­˜åœ¨å¯é€‰ç±»å‹å’Œä»»æ„ç±»å‹ï¼Œå¯é€‰ç±»å‹éœ€è¦æ˜¯ä»»æ„ç±»å‹çš„å­é›†</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">interface</span> Person {
</span></span><span style="display:flex;"><span>  name: <span style="color:#fff;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span>  age?: <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#007f7f">//ä»»æ„ç±»å‹ä¸ºè”åˆç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>  [propName: <span style="color:#fff;font-weight:bold">string</span>]: <span style="color:#fff;font-weight:bold">string</span> | <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> tom: <span style="color:#fff;font-weight:bold">Person</span> = {
</span></span><span style="display:flex;"><span>  name: <span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>,
</span></span><span style="display:flex;"><span>  age: <span style="color:#fff;font-weight:bold">25</span>,
</span></span><span style="display:flex;"><span>  gender: <span style="color:#0ff;font-weight:bold">&#34;male&#34;</span>,
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><blockquote>
<p>æ¥å£å±æ€§åªè¯»ï¼Œæ„å‘³ç€ï¼Œåªæœ‰åœ¨åˆ›å»ºå¯¹è±¡æ—¶å¯è¢«èµ‹å€¼ï¼Œå…¶åæ— æ³•ä¿®æ”¹ï¼Œè€Œä¸”åªè¯»å±æ€§å¿…é¡»åœ¨å¯¹è±¡åˆå§‹åŒ–æ—¶è¿›è¡Œèµ‹å€¼ã€‚</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">interface</span> Person {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">readonly</span> id: <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>  name: <span style="color:#fff;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span>  age?: <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>  [propName: <span style="color:#fff;font-weight:bold">string</span>]: <span style="color:#fff;font-weight:bold">any</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> tom: <span style="color:#fff;font-weight:bold">Person</span> = {
</span></span><span style="display:flex;"><span>  id: <span style="color:#fff;font-weight:bold">89757</span>,
</span></span><span style="display:flex;"><span>  name: <span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>,
</span></span><span style="display:flex;"><span>  gender: <span style="color:#0ff;font-weight:bold">&#34;male&#34;</span>,
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p><strong>æ•°ç»„</strong></p>
<blockquote>
<p>ä¹ æƒ¯æ€§çš„å°†æ•°ç»„ä¸­çš„å…ƒç´ ç±»å‹ä¿æŒç›¸åŒ</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> fibonacci: <span style="color:#fff;font-weight:bold">number</span>[] = [<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">5</span>];
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//æ³›å‹
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">let</span> fibonacci: <span style="color:#fff;font-weight:bold">Array</span>&lt;<span style="font-weight:bold">number</span>&gt; = [<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">5</span>];
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//æ¥å£è¡¨ç¤ºæ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">//ç”¨æ¥å£è¡¨ç¤ºæ•°ç»„é€šå¸¸ç”¨æ¥æ ‡è¯†ç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">interface</span> NumberArray {
</span></span><span style="display:flex;"><span>  <span style="color:#007f7f">//ç´¢å¼•æ˜¯æ•°å­—ï¼Œç±»å‹æ˜¯æ•°å­—
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>  [index: <span style="color:#fff;font-weight:bold">number</span>]: <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> fibonacci: <span style="color:#fff;font-weight:bold">NumberArray</span> = [<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">5</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">interface</span> IArguments {
</span></span><span style="display:flex;"><span>  [index: <span style="color:#fff;font-weight:bold">number</span>]: <span style="color:#fff;font-weight:bold">any</span>;
</span></span><span style="display:flex;"><span>  length: <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>  callee: <span style="color:#fff;font-weight:bold">Function</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>å‡½æ•°</strong></p>
<blockquote>
<p>åœ¨ JavaScript ä¸­ï¼Œæœ‰ä¸¤ç§å¸¸è§çš„å®šä¹‰å‡½æ•°çš„æ–¹å¼â€”â€”å‡½æ•°å£°æ˜ï¼ˆFunction Declarationï¼‰å’Œå‡½æ•°è¡¨è¾¾å¼ï¼ˆFunction Expressionï¼‰;
å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼çš„è¯æ³•ç¯å¢ƒå’Œæ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œå‡½æ•°å£°æ˜ä¼šåšç±»å‹æå‡ã€‚</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#007f7f">// å‡½æ•°å£°æ˜ï¼ˆFunction Declarationï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">function</span> sum(x, y) {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> x + y;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// å‡½æ•°è¡¨è¾¾å¼ï¼ˆFunction Expressionï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">let</span> mySum = <span style="color:#fff;font-weight:bold">function</span> (x, y) {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> x + y;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><blockquote>
<p>å¯ä»¥æ‰‹åŠ¨ç»™å‡½æ•°è¡¨è¾¾å¼æ·»åŠ ç±»å‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç±»å‹æ¨æ–­
åœ¨ TypeScript çš„ç±»å‹å®šä¹‰ä¸­ï¼Œ=&gt; ç”¨æ¥è¡¨ç¤ºå‡½æ•°çš„å®šä¹‰ï¼Œå·¦è¾¹æ˜¯è¾“å…¥ç±»å‹ï¼Œéœ€è¦ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œå³è¾¹æ˜¯è¾“å‡ºç±»å‹ã€‚
åœ¨ ES6 ä¸­ï¼Œ=&gt; å«åšç®­å¤´å‡½æ•°ï¼Œåº”ç”¨ååˆ†å¹¿æ³›</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> mySum: (x: <span style="color:#fff;font-weight:bold">number</span>, y: <span style="color:#fff;font-weight:bold">number</span>) =&gt; <span style="color:#fff;font-weight:bold">number</span> = <span style="color:#fff;font-weight:bold">function</span> (
</span></span><span style="display:flex;"><span>  x: <span style="color:#fff;font-weight:bold">number</span>,
</span></span><span style="display:flex;"><span>  y: <span style="color:#fff;font-weight:bold">number</span>
</span></span><span style="display:flex;"><span>): <span style="color:#fff;font-weight:bold">number</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> x + y;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><blockquote>
<p>å¯é€‰å‚æ•°ç”¨ï¼Ÿæ ‡è¯†ï¼Œå¿…é¡»æ¥åœ¨å¿…éœ€å‚æ•°çš„åé¢</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">function</span> buildName(firstName: <span style="color:#fff;font-weight:bold">string</span>, lastName?: <span style="color:#fff;font-weight:bold">string</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">if</span> (lastName) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> firstName + <span style="color:#0ff;font-weight:bold">&#34; &#34;</span> + lastName;
</span></span><span style="display:flex;"><span>  } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> firstName;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> tomcat = buildName(<span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Cat&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> tom = buildName(<span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>);
</span></span></code></pre></div><blockquote>
<p>ES6 ä¸­å…è®¸ç»™å‚æ•°æ·»åŠ é»˜è®¤å€¼ï¼ŒTypescript å°†æ·»åŠ é»˜è®¤å€¼çš„å‚æ•°è¯†åˆ«ä¸ºå¯é€‰å‚æ•°ï¼Œå¹¶ä¸”æ·»åŠ é»˜è®¤å€¼åï¼Œå°±ä¸å—ã€Œå¯é€‰å‚æ•°å¿…é¡»æ¥åœ¨å¿…éœ€å‚æ•°åé¢ã€çš„é™åˆ¶äº†
é»˜è®¤å€¼å‚æ•°åœ¨å¿…éœ€å‚æ•°å‰çš„è¯ï¼Œéœ€è¦ä¼ ä¸€ä¸ª undefined è¿›å»å ä½ï¼Œå› æ­¤æ¨èå°†é»˜è®¤å€¼å‚æ•°æ”¾åœ¨åé¢</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">function</span> buildName(firstName: <span style="color:#fff;font-weight:bold">string</span> = <span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>, lastName: <span style="color:#fff;font-weight:bold">string</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> firstName + <span style="color:#0ff;font-weight:bold">&#34; &#34;</span> + lastName;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> tomcat = buildName(<span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Cat&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//å¦‚æœé»˜è®¤å€¼å‚æ•°åœ¨å¿…éœ€å‚æ•°å‰è¾¹ï¼Œå¿…é¡»ä¼ å…¥undefined
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>console.log(buildName(<span style="color:#fff;font-weight:bold">undefined</span>, <span style="color:#0ff;font-weight:bold">&#34;cat&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">function</span> buildName1(firstName: <span style="color:#fff;font-weight:bold">string</span>, lastName: <span style="color:#fff;font-weight:bold">string</span> = <span style="color:#0ff;font-weight:bold">&#34;Man&#34;</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> firstName + <span style="color:#0ff;font-weight:bold">&#34; &#34;</span> + lastName;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>console.log(buildName(<span style="color:#0ff;font-weight:bold">&#34;good&#34;</span>));
</span></span></code></pre></div><blockquote>
<p>å‰©ä½™ rest å‚æ•°ï¼ˆä¸å®šé•¿å‚æ•°ï¼‰
rest å‚æ•°åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#007f7f">//itemsæ˜¯ä¸€ä¸ªæ•°ç»„
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">function</span> push(array, ...items) {
</span></span><span style="display:flex;"><span>  items.forEach(<span style="color:#fff;font-weight:bold">function</span> (item) {
</span></span><span style="display:flex;"><span>    array.push(item);
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> a: <span style="color:#fff;font-weight:bold">any</span>[] = [];
</span></span><span style="display:flex;"><span>push(a, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>);
</span></span></code></pre></div><blockquote>
<p>å‡½æ•°é‡è½½å…è®¸ä¸€ä¸ªå‡½æ•°æ¥å—ä¸åŒæ•°é‡æˆ–ç±»å‹çš„å‚æ•°æ—¶ï¼Œä½œå‡ºä¸åŒçš„å¤„ç†ã€‚
Typescript ä¼šä»æœ€å‰é¢çš„å‡½æ•°å®šä¹‰å¼€å§‹åŒ¹é…</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#007f7f">//å‰å£°æ˜ï¼ˆå®šä¹‰ï¼‰åå®ç°ï¼Œå°†ç²¾ç¡®çš„å£°æ˜å†™åœ¨å‰é¢
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">function</span> reverse(x: <span style="color:#fff;font-weight:bold">number</span>): <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">function</span> reverse(x: <span style="color:#fff;font-weight:bold">string</span>): <span style="color:#fff;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">function</span> reverse(x: <span style="color:#fff;font-weight:bold">number</span> | <span style="color:#fff;font-weight:bold">string</span>): <span style="color:#fff;font-weight:bold">number</span> | <span style="color:#fff;font-weight:bold">string</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">typeof</span> x === <span style="color:#0ff;font-weight:bold">&#34;number&#34;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">Number</span>(x.toString().split(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>).reverse().join(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>));
</span></span><span style="display:flex;"><span>  } <span style="color:#fff;font-weight:bold">else</span> <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">typeof</span> x === <span style="color:#0ff;font-weight:bold">&#34;string&#34;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> x.split(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>).reverse().join(<span style="color:#0ff;font-weight:bold">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>ç±»å‹æ–­è¨€</strong></p>
<blockquote>
<p>å€¼ as ç±»å‹
ç±»å‹æ–­è¨€åªä¼šå½±å“ TypeScript ç¼–è¯‘æ—¶çš„ç±»å‹ï¼Œç±»å‹æ–­è¨€è¯­å¥åœ¨ç¼–è¯‘ç»“æœä¸­ä¼šè¢«åˆ é™¤
å®ƒä¸ä¼šçœŸçš„å½±å“åˆ°å˜é‡çš„ç±»å‹ã€‚
åº”ç”¨åœºæ™¯:</p>
<ul>
<li>å°†ä¸€ä¸ªè”åˆç±»å‹æ–­è¨€ä¸ºå…¶ä¸­ä¸€ä¸ªç±»å‹ï¼Œæ¬ºéª— tsc ç¼–è¯‘å™¨ï¼Œå¯èƒ½å¯¼è‡´è¿è¡Œæ—¶å‡ºé”™</li>
<li>å°†ä¸€ä¸ªçˆ¶ç±»æ–­è¨€ä¸ºæ›´åŠ å…·ä½“çš„å­ç±»</li>
<li>å°†ä»»ä½•ä¸€ä¸ªç±»å‹æ–­è¨€ä¸º any</li>
<li>å°† any æ–­è¨€ä¸ºä¸€ä¸ªå…·ä½“çš„ç±»å‹</li>
</ul>
<p>é™åˆ¶ï¼š
typescript æ˜¯ç»“æ„ç±»å‹ç³»ç»Ÿï¼Œä¸å…³å¿ƒå®šä¹‰æ—¶çš„ç±»å‹å…³ç³»ï¼Œåªæ¯”è¾ƒæœ€ç»ˆç»“æ„æœ‰ä»€ä¹ˆå…³ç³»</p>
<ul>
<li>è”åˆç±»å‹å¯ä»¥è¢«æ–­è¨€ä¸ºå…¶ä¸­ä¸€ä¸ªç±»å‹</li>
<li>çˆ¶ç±»å¯ä»¥è¢«æ–­è¨€ä¸ºå­ç±»</li>
<li>ä»»ä½•ç±»å‹éƒ½å¯ä»¥è¢«æ–­è¨€ä¸º any</li>
<li>any å¯ä»¥è¢«æ–­è¨€ä¸ºä»»ä½•ç±»å‹</li>
<li>è¦ä½¿å¾— A èƒ½å¤Ÿè¢«æ–­è¨€ä¸º Bï¼Œåªéœ€è¦ A å…¼å®¹ B æˆ– B å…¼å®¹ A å³å¯</li>
</ul>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#007f7f">//ç±»å‹æ¯”è¾ƒ
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">//ä¸‹é¢ä¸¤ç§Catçš„å®šä¹‰æ˜¯ç­‰ä»·çš„
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">interface</span> Animal {
</span></span><span style="display:flex;"><span>  name: <span style="color:#fff;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">interface</span> Cat {
</span></span><span style="display:flex;"><span>  name: <span style="color:#fff;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span>  run(): <span style="color:#fff;font-weight:bold">void</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">interface</span> Cat <span style="color:#fff;font-weight:bold">extends</span> Animal {
</span></span><span style="display:flex;"><span>  run(): <span style="color:#fff;font-weight:bold">void</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#007f7f">//è”åˆç±»å‹æ–­è¨€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">interface</span> Cat {
</span></span><span style="display:flex;"><span>  name: <span style="color:#fff;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span>  run(): <span style="color:#fff;font-weight:bold">void</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">interface</span> Fish {
</span></span><span style="display:flex;"><span>  name: <span style="color:#fff;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span>  swim(): <span style="color:#fff;font-weight:bold">void</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">function</span> isFish(animal: <span style="color:#fff;font-weight:bold">Cat</span> | Fish) {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">typeof</span> (animal <span style="color:#fff;font-weight:bold">as</span> Fish).swim === <span style="color:#0ff;font-weight:bold">&#34;function&#34;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#007f7f">//å­ç±»æ–­è¨€
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">interface</span> ApiError <span style="color:#fff;font-weight:bold">extends</span> <span style="color:#fff;font-weight:bold">Error</span> {
</span></span><span style="display:flex;"><span>  code: <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">interface</span> HttpError <span style="color:#fff;font-weight:bold">extends</span> <span style="color:#fff;font-weight:bold">Error</span> {
</span></span><span style="display:flex;"><span>  statusCode: <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">function</span> isApiError(error: <span style="color:#fff;font-weight:bold">Error</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">typeof</span> (error <span style="color:#fff;font-weight:bold">as</span> ApiError).code === <span style="color:#0ff;font-weight:bold">&#34;number&#34;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> <span style="color:#fff;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#007f7f">//ç¡®ä¿ä»£ç æ— è¯¯åï¼Œç»•è¿‡ç±»å‹æ£€æŸ¥
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">//åœ¨ç±»å‹çš„ä¸¥æ ¼æ€§å’Œå¼€å‘çš„ä¾¿åˆ©æ€§ä¹‹é—´æŒæ¡å¹³è¡¡
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>(<span style="color:#fff;font-weight:bold">window</span> <span style="color:#fff;font-weight:bold">as</span> <span style="color:#fff;font-weight:bold">any</span>).foo = <span style="color:#ff0;font-weight:bold">1</span>;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#007f7f">//æ˜ç¡®ç±»å‹ï¼Œåç»­æœ‰äº†ä»£ç è¡¥å…¨ï¼Œæé«˜å¯ç»´æŠ¤æ€§
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">function</span> getCacheData(key: <span style="color:#fff;font-weight:bold">string</span>): <span style="color:#fff;font-weight:bold">any</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> (<span style="color:#fff;font-weight:bold">window</span> <span style="color:#fff;font-weight:bold">as</span> <span style="color:#fff;font-weight:bold">any</span>).cache[key];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">interface</span> Cat {
</span></span><span style="display:flex;"><span>  name: <span style="color:#fff;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span>  run(): <span style="color:#fff;font-weight:bold">void</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">const</span> tom = getCacheData(<span style="color:#0ff;font-weight:bold">&#34;tom&#34;</span>) <span style="color:#fff;font-weight:bold">as</span> Cat;
</span></span><span style="display:flex;"><span>tom.run();
</span></span></code></pre></div><blockquote>
<p>ç±»å‹å£°æ˜æ¯”ç±»å‹æ–­è¨€çº¦æŸæ›´ä¸¥æ ¼ï¼Œå¦‚
animal æ–­è¨€ä¸º Catï¼Œåªéœ€è¦æ»¡è¶³ Animal å…¼å®¹ Cat æˆ– Cat å…¼å®¹ Animal å³å¯
animal èµ‹å€¼ç»™ tomï¼Œéœ€è¦æ»¡è¶³ Cat å…¼å®¹ Animal æ‰è¡Œ
å¯ä»¥ç”¨æ³›å‹æ›¿ä»£ç±»å‹æ–­è¨€</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">function</span> getCacheData&lt;<span style="font-weight:bold">T</span>&gt;(key: <span style="color:#fff;font-weight:bold">string</span>): T {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> (<span style="color:#fff;font-weight:bold">window</span> <span style="color:#fff;font-weight:bold">as</span> <span style="color:#fff;font-weight:bold">any</span>).cache[key];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">interface</span> Cat {
</span></span><span style="display:flex;"><span>  name: <span style="color:#fff;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span>  run(): <span style="color:#fff;font-weight:bold">void</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">const</span> tom = getCacheData&lt;<span style="font-weight:bold">Cat</span>&gt;(<span style="color:#0ff;font-weight:bold">&#34;tom&#34;</span>);
</span></span><span style="display:flex;"><span>tom.run();
</span></span></code></pre></div><p><strong>å£°æ˜æ–‡ä»¶</strong></p>
<blockquote>
<p>å¸¸ç”¨çš„å£°æ˜è¯­æ³•</p>
<ul>
<li>declare var å£°æ˜å…¨å±€å˜é‡</li>
<li>declare const å£°æ˜å…¨å±€å¸¸é‡</li>
<li>declare function å£°æ˜å…¨å±€æ–¹æ³•</li>
<li>declare class å£°æ˜å…¨å±€ç±»</li>
<li>declare enum å£°æ˜å…¨å±€æšä¸¾ç±»å‹</li>
<li>declare namespace å£°æ˜ï¼ˆå«æœ‰å­å±æ€§çš„ï¼‰å…¨å±€å¯¹è±¡</li>
<li>interface å’Œ type å£°æ˜å…¨å±€ç±»å‹</li>
<li>export å¯¼å‡ºå˜é‡</li>
<li>export namespace å¯¼å‡ºï¼ˆå«æœ‰å­å±æ€§çš„ï¼‰å¯¹è±¡</li>
<li>export default ES6 é»˜è®¤å¯¼å‡º</li>
<li>export = commonjs å¯¼å‡ºæ¨¡å—</li>
<li>export as namespace UMD åº“å£°æ˜å…¨å±€å˜é‡</li>
<li>declare global æ‰©å±•å…¨å±€å˜é‡</li>
<li>declare module æ‰©å±•æ¨¡å—</li>
<li>/// <code>&lt;reference /&gt;</code> ä¸‰æ–œçº¿æŒ‡ä»¤</li>
</ul>
</blockquote>
<p><strong>ç±»å‹åˆ«å</strong></p>
<blockquote>
<p>ç±»å‹ c è¯­è¨€ typedefï¼Œåœ¨ typescript ä¸­ç”¨ type åˆ›å»ºç±»å‹åˆ«å</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">type</span> Name = <span style="color:#fff;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">type</span> NameResolver = () =&gt; <span style="color:#fff;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">type</span> NameOrResolver = Name | NameResolver;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">function</span> getName(n: <span style="color:#fff;font-weight:bold">NameOrResolver</span>): Name {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">if</span> (<span style="color:#fff;font-weight:bold">typeof</span> n === <span style="color:#0ff;font-weight:bold">&#34;string&#34;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> n;
</span></span><span style="display:flex;"><span>  } <span style="color:#fff;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> n();
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>å­—é¢é‡ç±»å‹</strong></p>
<blockquote>
<p>çº¦æŸå–å€¼åªèƒ½æ˜¯æŸå‡ ä¸ªå€¼ä¸­çš„ä¸€ä¸ª</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">type</span> EventNames = <span style="color:#0ff;font-weight:bold">&#34;click&#34;</span> | <span style="color:#0ff;font-weight:bold">&#34;scroll&#34;</span> | <span style="color:#0ff;font-weight:bold">&#34;mousemove&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">function</span> handleEvent(ele: <span style="color:#fff;font-weight:bold">Element</span>, event: <span style="color:#fff;font-weight:bold">EventNames</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#007f7f">// do something
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>handleEvent(<span style="color:#fff;font-weight:bold">document</span>.getElementById(<span style="color:#0ff;font-weight:bold">&#34;hello&#34;</span>), <span style="color:#0ff;font-weight:bold">&#34;scroll&#34;</span>); <span style="color:#007f7f">// æ²¡é—®é¢˜
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>handleEvent(<span style="color:#fff;font-weight:bold">document</span>.getElementById(<span style="color:#0ff;font-weight:bold">&#34;world&#34;</span>), <span style="color:#0ff;font-weight:bold">&#34;dblclick&#34;</span>); <span style="color:#007f7f">// æŠ¥é”™ï¼Œevent ä¸èƒ½ä¸º &#39;dblclick&#39;
</span></span></span></code></pre></div><p><strong>å…ƒç»„</strong></p>
<blockquote>
<p>æ•°ç»„åˆå¹¶äº†ç›¸åŒç±»å‹çš„å¯¹è±¡ï¼Œè€Œå…ƒç»„ï¼ˆTupleï¼‰åˆå¹¶äº†ä¸åŒç±»å‹çš„å¯¹è±¡;
å¯ä»¥å¯¹å…ƒç»„ä¸­çš„å•ä¸ªå…ƒç´ èµ‹å€¼ï¼›
å½“ç›´æ¥å¯¹å…ƒç»„ç±»å‹çš„å˜é‡è¿›è¡Œåˆå§‹åŒ–æˆ–è€…èµ‹å€¼çš„æ—¶å€™ï¼Œéœ€è¦æä¾›æ‰€æœ‰å…ƒç»„ç±»å‹ä¸­æŒ‡å®šçš„é¡¹;
å½“æ·»åŠ è¶Šç•Œçš„å…ƒç´ æ—¶ï¼Œå®ƒçš„ç±»å‹ä¼šè¢«é™åˆ¶ä¸ºå…ƒç»„ä¸­æ¯ä¸ªç±»å‹çš„è”åˆç±»å‹</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> tom: [<span style="color:#fff;font-weight:bold">string</span>, <span style="color:#fff;font-weight:bold">number</span>] = [<span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>, <span style="color:#ff0;font-weight:bold">25</span>];
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> tom: [<span style="color:#fff;font-weight:bold">string</span>, <span style="color:#fff;font-weight:bold">number</span>];
</span></span><span style="display:flex;"><span>tom[<span style="color:#ff0;font-weight:bold">0</span>] = <span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>;
</span></span><span style="display:flex;"><span>tom[<span style="color:#ff0;font-weight:bold">1</span>] = <span style="color:#ff0;font-weight:bold">25</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tom[<span style="color:#ff0;font-weight:bold">0</span>].slice(<span style="color:#ff0;font-weight:bold">1</span>);
</span></span><span style="display:flex;"><span>tom[<span style="color:#ff0;font-weight:bold">1</span>].toFixed(<span style="color:#ff0;font-weight:bold">2</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tom = [<span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>, <span style="color:#ff0;font-weight:bold">25</span>];
</span></span><span style="display:flex;"><span>tom.push(<span style="color:#0ff;font-weight:bold">&#34;male&#34;</span>);
</span></span></code></pre></div><p><strong>æšä¸¾</strong></p>
<blockquote>
<p>æšä¸¾ï¼ˆEnumï¼‰ç±»å‹ç”¨äºå–å€¼è¢«é™å®šåœ¨ä¸€å®šèŒƒå›´å†…çš„åœºæ™¯</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">enum</span> Days {
</span></span><span style="display:flex;"><span>  Sun,
</span></span><span style="display:flex;"><span>  Mon,
</span></span><span style="display:flex;"><span>  Tue,
</span></span><span style="display:flex;"><span>  Wed,
</span></span><span style="display:flex;"><span>  Thu,
</span></span><span style="display:flex;"><span>  Fri,
</span></span><span style="display:flex;"><span>  Sat,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>console.log(Days[<span style="color:#0ff;font-weight:bold">&#34;Sun&#34;</span>] === <span style="color:#ff0;font-weight:bold">0</span>); <span style="color:#007f7f">// true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>console.log(Days[<span style="color:#0ff;font-weight:bold">&#34;Mon&#34;</span>] === <span style="color:#ff0;font-weight:bold">1</span>); <span style="color:#007f7f">// true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>console.log(Days[<span style="color:#0ff;font-weight:bold">&#34;Tue&#34;</span>] === <span style="color:#ff0;font-weight:bold">2</span>); <span style="color:#007f7f">// true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>console.log(Days[<span style="color:#0ff;font-weight:bold">&#34;Sat&#34;</span>] === <span style="color:#ff0;font-weight:bold">6</span>); <span style="color:#007f7f">// true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span>console.log(Days[<span style="color:#ff0;font-weight:bold">0</span>] === <span style="color:#0ff;font-weight:bold">&#34;Sun&#34;</span>); <span style="color:#007f7f">// true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>console.log(Days[<span style="color:#ff0;font-weight:bold">1</span>] === <span style="color:#0ff;font-weight:bold">&#34;Mon&#34;</span>); <span style="color:#007f7f">// true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>console.log(Days[<span style="color:#ff0;font-weight:bold">2</span>] === <span style="color:#0ff;font-weight:bold">&#34;Tue&#34;</span>); <span style="color:#007f7f">// true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>console.log(Days[<span style="color:#ff0;font-weight:bold">6</span>] === <span style="color:#0ff;font-weight:bold">&#34;Sat&#34;</span>); <span style="color:#007f7f">// true
</span></span></span></code></pre></div><p><strong>ç±»</strong></p>
<blockquote>
<p>ä¼ ç»Ÿæ–¹æ³•ä¸­ï¼ŒJavaScript é€šè¿‡æ„é€ å‡½æ•°å®ç°ç±»çš„æ¦‚å¿µï¼Œé€šè¿‡åŸå‹é“¾å®ç°ç»§æ‰¿ã€‚è€Œåœ¨ ES6 ä¸­ï¼Œæˆ‘ä»¬ç»ˆäºè¿æ¥äº† class
ä½¿ç”¨ class å®šä¹‰ç±»ï¼Œä½¿ç”¨ constructor å®šä¹‰æ„é€ å‡½æ•°ã€‚
é€šè¿‡ new ç”Ÿæˆæ–°å®ä¾‹çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨æ„é€ å‡½æ•°ã€‚
ä½¿ç”¨ extends å…³é”®å­—å®ç°ç»§æ‰¿ï¼Œå­ç±»ä¸­ä½¿ç”¨ super å…³é”®å­—æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°å’Œæ–¹æ³•ã€‚
ä½¿ç”¨ getter å’Œ setter å¯ä»¥æ”¹å˜å±æ€§çš„èµ‹å€¼å’Œè¯»å–è¡Œä¸ºï¼š
ä½¿ç”¨ static ä¿®é¥°ç¬¦ä¿®é¥°çš„æ–¹æ³•ç§°ä¸ºé™æ€æ–¹æ³•ï¼Œå®ƒä»¬ä¸éœ€è¦å®ä¾‹åŒ–ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡ç±»æ¥è°ƒç”¨ï¼Œä¸å¯ä»¥é€šè¿‡å®ä¾‹æ¥è°ƒç”¨ï¼š</p>
</blockquote>
<blockquote>
<p>ES6 ä¸­å®ä¾‹çš„å±æ€§åªèƒ½é€šè¿‡æ„é€ å‡½æ•°ä¸­çš„ this.xxx æ¥å®šä¹‰ï¼ŒES7 ææ¡ˆä¸­å¯ä»¥ç›´æ¥åœ¨ç±»é‡Œé¢å®šä¹‰
ES7 ææ¡ˆä¸­ï¼Œå¯ä»¥ä½¿ç”¨ static å®šä¹‰ä¸€ä¸ªé™æ€å±æ€§ï¼Œé™æ€å±æ€§å±äºç±»ï¼›
å½“æ„é€ å‡½æ•°ä¿®é¥°ä¸º private æ—¶ï¼Œè¯¥ç±»ä¸å…è®¸è¢«ç»§æ‰¿æˆ–è€…å®ä¾‹åŒ–;
å½“æ„é€ å‡½æ•°ä¿®é¥°ä¸º protected æ—¶ï¼Œè¯¥ç±»åªå…è®¸è¢«ç»§æ‰¿ï¼Œä¸å…è®¸è¢«å®ä¾‹åŒ–ï¼›
ç±»å±æ€§/æ–¹æ³•çš„è®¿é—®é™å®šç¬¦å¦‚ä¸‹:</p>
<ul>
<li>public ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯å…¬æœ‰çš„ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¢«è®¿é—®åˆ°ï¼Œé»˜è®¤æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯ public çš„</li>
<li>private ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯ç§æœ‰çš„ï¼Œä¸èƒ½åœ¨å£°æ˜å®ƒçš„ç±»çš„å¤–éƒ¨è®¿é—®</li>
<li>protected ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯å—ä¿æŠ¤çš„ï¼Œå®ƒå’Œ private ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯å®ƒåœ¨å­ç±»ä¸­ä¹Ÿæ˜¯å…è®¸è¢«è®¿é—®çš„</li>
</ul>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Animal {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">private</span> _name: <span style="color:#fff;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span>  age = <span style="color:#ff0;font-weight:bold">23</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">static</span> num = <span style="color:#ff0;font-weight:bold">42</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">constructor</span>(name) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>._name = name;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">get</span> name() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;get &#34;</span> + <span style="color:#fff;font-weight:bold">this</span>._name;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#007f7f">//nameæ˜¯publicçš„ï¼Œä½†æ˜¯_nameæ˜¯ç§æœ‰çš„
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>  <span style="color:#007f7f">//ä¸èƒ½åœ¨set nameä¸­å†å¯¹nameèµ‹å€¼ï¼Œä¼šé€ æˆæ­»å¾ªç¯
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>  <span style="color:#fff;font-weight:bold">set</span> name(value) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">if</span> (value === <span style="color:#0ff;font-weight:bold">&#34;Dog&#34;</span>) {
</span></span><span style="display:flex;"><span>      console.log(<span style="color:#0ff;font-weight:bold">&#34;Animal cannot be dog&#34;</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#fff;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>._name = value;
</span></span><span style="display:flex;"><span>    console.log(<span style="color:#0ff;font-weight:bold">&#34;setter: &#34;</span> + value);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  sayHi() {
</span></span><span style="display:flex;"><span>    console.log(<span style="color:#0ff;font-weight:bold">`My name is </span><span style="color:#0ff;font-weight:bold">${</span><span style="color:#fff;font-weight:bold">this</span>._name<span style="color:#0ff;font-weight:bold">}</span><span style="color:#0ff;font-weight:bold">`</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">static</span> isAnimal(a) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> a <span style="color:#fff;font-weight:bold">instanceof</span> Animal;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Cat <span style="color:#fff;font-weight:bold">extends</span> Animal {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">constructor</span>(name) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">super</span>(name); <span style="color:#007f7f">// è°ƒç”¨çˆ¶ç±»çš„ constructor(name)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>    console.log(<span style="color:#fff;font-weight:bold">this</span>.name);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#007f7f">//å‡½æ•°é‡å†™
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>  sayHi() {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">return</span> <span style="color:#0ff;font-weight:bold">&#34;Meow, &#34;</span> + <span style="color:#fff;font-weight:bold">super</span>.sayHi(); <span style="color:#007f7f">// è°ƒç”¨çˆ¶ç±»çš„ sayHi()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> a = <span style="color:#fff;font-weight:bold">new</span> Animal(<span style="color:#0ff;font-weight:bold">&#34;Jack&#34;</span>);
</span></span><span style="display:flex;"><span>Animal.isAnimal(a); <span style="color:#007f7f">// true
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> c = <span style="color:#fff;font-weight:bold">new</span> Cat(<span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>); <span style="color:#007f7f">// Tom
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>console.log(c.sayHi()); <span style="color:#007f7f">// Meow, My name is Tom
</span></span></span></code></pre></div><blockquote>
<p>å‚æ•°å±æ€§
ä¿®é¥°ç¬¦å’Œ readonly è¿˜å¯ä»¥ä½¿ç”¨åœ¨æ„é€ å‡½æ•°å‚æ•°ä¸­ï¼Œç­‰åŒäºç±»ä¸­å®šä¹‰è¯¥å±æ€§åŒæ—¶ç»™è¯¥å±æ€§èµ‹å€¼
åªè¯»å±æ€§å…³é”®å­—ï¼Œåªå…è®¸å‡ºç°åœ¨å±æ€§å£°æ˜æˆ–ç´¢å¼•ç­¾åæˆ–æ„é€ å‡½æ•°ä¸­
æ³¨æ„å¦‚æœ readonly å’Œå…¶ä»–è®¿é—®ä¿®é¥°ç¬¦åŒæ—¶å­˜åœ¨çš„è¯ï¼Œéœ€è¦å†™åœ¨å…¶åé¢ã€‚
abstract ç”¨äºå®šä¹‰æŠ½è±¡ç±»å’Œå…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚
æŠ½è±¡ç±»ä¸å…è®¸è¢«å®ä¾‹åŒ–ï¼ŒæŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•å¿…é¡»è¢«å­ç±»å®ç°</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">abstract</span> <span style="color:#fff;font-weight:bold">class</span> Animal {
</span></span><span style="display:flex;"><span>  <span style="color:#007f7f">//public readonly name;
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>  <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">constructor</span>(<span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">readonly</span> name: <span style="color:#fff;font-weight:bold">string</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.name = name;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#007f7f">//abstract method
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>  <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">abstract</span> eat();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Cat <span style="color:#fff;font-weight:bold">extends</span> Animal {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">public</span> eat() {
</span></span><span style="display:flex;"><span>    console.log(<span style="color:#0ff;font-weight:bold">`</span><span style="color:#0ff;font-weight:bold">${</span><span style="color:#fff;font-weight:bold">this</span>.name<span style="color:#0ff;font-weight:bold">}</span><span style="color:#0ff;font-weight:bold"> is eating.`</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> a = <span style="color:#fff;font-weight:bold">new</span> Cat(<span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>);
</span></span><span style="display:flex;"><span>console.log(a.name); <span style="color:#007f7f">// Tom
</span></span></span></code></pre></div><p><strong>ç±»å’Œæ¥å£</strong></p>
<blockquote>
<p>å®ç°ï¼ˆimplementsï¼‰æ˜¯é¢å‘å¯¹è±¡ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µã€‚ä¸€èˆ¬æ¥è®²ï¼Œä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿è‡ªå¦ä¸€ä¸ªç±»ï¼Œæœ‰æ—¶å€™ä¸åŒç±»ä¹‹é—´å¯ä»¥æœ‰ä¸€äº›å…±æœ‰çš„ç‰¹æ€§ï¼Œè¿™æ—¶å€™å°±å¯ä»¥æŠŠç‰¹
æ€§æå–æˆæ¥å£ï¼ˆinterfacesï¼‰ï¼Œç”¨ implements å…³é”®å­—æ¥å®ç°ã€‚è¿™ä¸ªç‰¹æ€§å¤§å¤§æé«˜äº†é¢å‘å¯¹è±¡çš„çµæ´»æ€§ã€‚</p>
<ul>
<li>æ¥å£ä¸­æ‰€æœ‰å±æ€§å’Œæ–¹æ³•éƒ½è¦æ±‚æ˜¯ public</li>
<li>ä¸€ä¸ªç±»å¯ä»¥å®ç°ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ¥å£</li>
<li>æ¥å£ä¹‹é—´å¯ä»¥æ˜¯ç»§æ‰¿å…³ç³»</li>
<li>æ¥å£å¯ä»¥ç»§æ‰¿ç±»ï¼ˆä¸æ¨èï¼‰ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯æ¥å£ç»§æ‰¿æ¥å£ï¼Œå› ä¸ºåœ¨åˆ›å»ºç±»çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªåŒåçš„æ¥å£ç±»å‹</li>
</ul>
</blockquote>
<blockquote>
<p>åˆ›å»ºç±»æ—¶è‡ªåŠ¨ç”Ÿæˆçš„ç±»å‹ä¸­åŒ…å«äº†é™¤äº†æ„é€ å‡½æ•°çš„å®ä¾‹å±æ€§å’Œå®ä¾‹æ–¹æ³•ï¼Œä¼šä¿ç•™è®¿é—®é™å®šç¬¦ï¼Œ
å¦‚æœç±»å±æ€§æ˜¯ privateï¼Œå°†å¯¼è‡´è¯¥ç±»å‹çš„å¯¹è±¡æ— æ³•è¢«åˆå§‹åŒ–ï¼Œç”Ÿæˆçš„æ¥å£ç±»å‹ä¸­ä¸åŒ…æ‹¬ï¼š</p>
<ul>
<li>é™æ€ç±»å‹å’Œé™æ€æ–¹æ³•</li>
<li>æ„é€ å‡½æ•°</li>
</ul>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">interface</span> Alarm {
</span></span><span style="display:flex;"><span>  alert(): <span style="color:#fff;font-weight:bold">void</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">interface</span> Light {
</span></span><span style="display:flex;"><span>  lightOn(): <span style="color:#fff;font-weight:bold">void</span>;
</span></span><span style="display:flex;"><span>  lightOff(): <span style="color:#fff;font-weight:bold">void</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Car <span style="color:#fff;font-weight:bold">implements</span> Alarm, Light {
</span></span><span style="display:flex;"><span>  alert() {
</span></span><span style="display:flex;"><span>    console.log(<span style="color:#0ff;font-weight:bold">&#34;Car alert&#34;</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  lightOn() {
</span></span><span style="display:flex;"><span>    console.log(<span style="color:#0ff;font-weight:bold">&#34;Car light on&#34;</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  lightOff() {
</span></span><span style="display:flex;"><span>    console.log(<span style="color:#0ff;font-weight:bold">&#34;Car light off&#34;</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><blockquote>
<p>æ¥å£ç»§æ‰¿ç±»ï¼ˆæ™¦æ¶©ï¼‰</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">class</span> Point {
</span></span><span style="display:flex;"><span>  x: <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>  y: <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">constructor</span>(x: <span style="color:#fff;font-weight:bold">number</span>, y: <span style="color:#fff;font-weight:bold">number</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.x = x;
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">this</span>.y = y;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">interface</span> PointInstanceType {
</span></span><span style="display:flex;"><span>  x: <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>  y: <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">// ç­‰ä»·äº interface Point3d extends PointInstanceType
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">interface</span> Point3d <span style="color:#fff;font-weight:bold">extends</span> Point {
</span></span><span style="display:flex;"><span>  z: <span style="color:#fff;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> point3d: <span style="color:#fff;font-weight:bold">Point3d</span> = { x: <span style="color:#fff;font-weight:bold">1</span>, y: <span style="color:#fff;font-weight:bold">2</span>, z: <span style="color:#fff;font-weight:bold">3</span> };
</span></span></code></pre></div><p><strong>æ³›å‹</strong></p>
<blockquote>
<p>æ³›å‹ï¼ˆGenericsï¼‰æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">function</span> createArray&lt;<span style="font-weight:bold">T</span>&gt;(length: <span style="color:#fff;font-weight:bold">number</span>, value: <span style="color:#fff;font-weight:bold">T</span>): <span style="color:#fff;font-weight:bold">Array</span>&lt;<span style="font-weight:bold">T</span>&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">let</span> result: <span style="color:#fff;font-weight:bold">T</span>[] = [];
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">let</span> i = <span style="color:#ff0;font-weight:bold">0</span>; i &lt; length; i++) {
</span></span><span style="display:flex;"><span>    result[i] = value;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> result;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>createArray&lt;<span style="font-weight:bold">string</span>&gt;(<span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#0ff;font-weight:bold">&#34;x&#34;</span>); <span style="color:#007f7f">// [&#39;x&#39;, &#39;x&#39;, &#39;x&#39;]
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">//å¤šä¸ªç±»å‹å‚æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">function</span> swap&lt;<span style="font-weight:bold">T</span><span style="color:#f00">,</span> <span style="color:#007f7f">U</span>&gt;(tuple: [T, U]): [U, T] {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> [tuple[<span style="color:#ff0;font-weight:bold">1</span>], tuple[<span style="color:#ff0;font-weight:bold">0</span>]];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>swap([<span style="color:#ff0;font-weight:bold">7</span>, <span style="color:#0ff;font-weight:bold">&#34;seven&#34;</span>]); <span style="color:#007f7f">// [&#39;seven&#39;, 7]
</span></span></span></code></pre></div><blockquote>
<p>æ³›å‹çº¦æŸï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–ç±»å‹çº¦æŸï¼Œä¹Ÿå¯ä»¥åœ¨ç±»å‹å‚æ•°ä¹‹é—´è¿›è¡Œçº¦æŸ</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">function</span> copyFields&lt;<span style="font-weight:bold">T</span> <span style="color:#007f7f">extends</span> <span style="color:#007f7f">U</span><span style="color:#f00">,</span> <span style="color:#007f7f">U</span>&gt;(target: <span style="color:#fff;font-weight:bold">T</span>, source: <span style="color:#fff;font-weight:bold">U</span>): T {
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">let</span> id <span style="color:#fff;font-weight:bold">in</span> source) {
</span></span><span style="display:flex;"><span>    target[id] = (&lt;<span style="font-weight:bold">T</span>&gt;source)[id];
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#fff;font-weight:bold">return</span> target;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">let</span> x = { a: <span style="color:#fff;font-weight:bold">1</span>, b: <span style="color:#fff;font-weight:bold">2</span>, c: <span style="color:#fff;font-weight:bold">3</span>, d: <span style="color:#fff;font-weight:bold">4</span> };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>copyFields(x, { b: <span style="color:#fff;font-weight:bold">10</span>, d: <span style="color:#fff;font-weight:bold">20</span> });
</span></span></code></pre></div><h3 id="å‚è€ƒ">å‚è€ƒ<a hidden class="anchor" aria-hidden="true" href="#å‚è€ƒ">#</a></h3>
<p><a href="https://ts.xcatliu.com/">Typescript å…¥é—¨æ•™ç¨‹</a></p>
<p><a href="https://jkchao.github.io/typescript-book-chinese/">æ·±å…¥ç†è§£Typescript</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://blog.niuhemoon.win/tags/typescript/">Typescript</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://blog.niuhemoon.win/posts/tech/golang-makefile/">
    <span class="title">Â« ä¸Šä¸€é¡µ</span>
    <br>
    <span>Goè¯­è¨€å’ŒMakefile</span>
  </a>
  <a class="next" href="https://blog.niuhemoon.win/posts/tech/docker-tutorial/">
    <span class="title">ä¸‹ä¸€é¡µ Â»</span>
    <br>
    <span>dockeråŸºæœ¬ä½¿ç”¨</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://blog.niuhemoon.win">Niuhe&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'ğŸ“„å¤åˆ¶';

        function copyingDone() {
            copybutton.innerHTML = 'ğŸ‘ŒğŸ»å·²å¤åˆ¶!';
            setTimeout(() => {
                copybutton.innerHTML = 'ğŸ“„å¤åˆ¶';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
