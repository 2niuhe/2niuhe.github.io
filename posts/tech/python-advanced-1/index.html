<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Python进阶上 | Niuhe&#39;s Blog</title>
<meta name="keywords" content="Python">
<meta name="description" content="Python进阶技巧总结,包含Python基本书据类型的使用">
<meta name="author" content="Niuhe">
<link rel="canonical" href="https://blog.niuhemoon.win/posts/tech/python-advanced-1/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css" integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe&#43;FVUFzPh7U=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://blog.niuhemoon.win/base/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.niuhemoon.win/base/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.niuhemoon.win/base/favicon.ico">
<link rel="apple-touch-icon" href="https://blog.niuhemoon.win/base/avatar.jpeg">
<link rel="mask-icon" href="https://blog.niuhemoon.win/base/avatar.jpeg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-116933089-1', 'auto');
	
	ga('send', 'pageview');
}
</script><meta property="og:title" content="Python进阶上" />
<meta property="og:description" content="Python进阶技巧总结,包含Python基本书据类型的使用" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.niuhemoon.win/posts/tech/python-advanced-1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-09-26T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-09-26T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Python进阶上"/>
<meta name="twitter:description" content="Python进阶技巧总结,包含Python基本书据类型的使用"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "📚文章",
      "item": "https://blog.niuhemoon.win/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "👨🏻‍💻 技术",
      "item": "https://blog.niuhemoon.win/posts/tech/"
    }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "Python进阶上",
      "item": "https://blog.niuhemoon.win/posts/tech/python-advanced-1/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Python进阶上",
  "name": "Python进阶上",
  "description": "Python进阶技巧总结,包含Python基本书据类型的使用",
  "keywords": [
    "Python"
  ],
  "articleBody": "Python种基本类型的比较：\nList is a collection which is ordered and mutable. Allows duplicate members. Tuple is a collection which is ordered and immutable. Allows duplicate members. Set is a collection which is unordered and unindexed. No duplicate members. Dictionary is a collection which is unordered, mutable and indexed. No duplicate members. Strings are immutable sequences of Unicode code points. List Python中的list是一个有序容器，容纳不同类型的数据（但推荐列表内数据类型相同)，同时其是可变类型的．\n创建列表 list_1 = [\"banana\", \"cherry\", \"apple\"] print(list_1) # Or create an empty list with the list function list_2 = list() print(list_2) # Lists allow different data types list_3 = [5, True, \"apple\"] print(list_3) # Lists allow duplicates list_4 = [0, 0, 1, 1] print(list_4) 内置方法 修改列表的方法尽量使用内置方法，内置方法效率较高\nmy_list = [\"banana\", \"cherry\", \"apple\"] # len() : get the number of elements in a list print(\"Length:\", len(my_list)) # append() : adds an element to the end of the list my_list.append(\"orange\") # insert() : adds an element at the specified position my_list.insert(1, \"blueberry\") print(my_list) # pop() : removes and returns the item at the given position, default is the last item item = my_list.pop() print(\"Popped item: \", item) # remove() : removes an item from the list my_list.remove(\"cherry\") # Value error if not in the list print(my_list) # clear() : removes all items from the list my_list.clear() print(my_list) # reverse() : reverse the items my_list = [\"banana\", \"cherry\", \"apple\"] my_list.reverse() print('Reversed: ', my_list) # sort() : sort items in ascending order my_list.sort() print('Sorted: ', my_list) # use sorted() to get a new list, and leave the original unaffected. # sorted() works on any iterable type, not just lists my_list = [\"banana\", \"cherry\", \"apple\"] new_list = sorted(my_list) # create list with repeated elements list_with_zeros = [0] * 5 print(list_with_zeros) # concatenation list_concat = list_with_zeros + my_list print(list_concat) # convert string to list string_to_list = list('Hello') print(string_to_list) 复制列表 注意拷贝列表内容还是拷贝引用\nlist_org = [\"banana\", \"cherry\", \"apple\"] # this just copies the reference to the list, so be careful list_copy = list_org # now modifying the copy also affects the original list_copy.append(True) print(list_copy) print(list_org) # use copy(), or list(x) to actually copy the list # slicing also works: list_copy = list_org[:] list_org = [\"banana\", \"cherry\", \"apple\"] list_copy = list_org.copy() # list_copy = list(list_org) # list_copy = list_org[:] # now modifying the copy does not affect the original list_copy.append(True) print(list_copy) print(list_org) 列表切片 # a[start:stop:step], default step is 1 a = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] b = a[1:3] # Note that the last index is not included print(b) b = a[2:] # until the end print(b) b = a[:3] # from beginning print(b) a[0:3] = [0] # replace sub-parts, you need an iterable here print(a) b = a[::2] # start to end with every second item print(b) a = a[::-1] # reverse the list with a negative step: print(a) b = a[:] # copy a list with slicing print(b) Tuple Tuple又称为元组，和List列表类似，主要区别在于元组是不可变类型．不可变意味着元组中的元素无法被重新赋值．使用元组而非列表的有如下原因：\nGenerally used for objects that belong together. Use tuple for heterogeneous (different) datatypes and list for homogeneous (similar) datatypes. Since tuple are immutable, iterating through tuple is slightly faster than with list. Tuples with their immutable elements can be used as key for a dictionary. This is not possible with lists. If you have data that doesn’t change, implementing it as tuple will guarantee that it remains write-protected. 创建元组 tuple_1 = (\"Max\", 28, \"New York\") tuple_2 = \"Linda\", 25, \"Miami\" # Parentheses are optional # Special case: a tuple with only one element needs to have a comma at the end, # otherwise it is not recognized as tuple tuple_3 = (25,) print(tuple_1) print(tuple_2) print(tuple_3) # Or convert an iterable (list, dict, string) with the built-in tuple function tuple_4 = tuple([1,2,3]) print(tuple_4) 不可变解释 元组不提供修改元素的方法，其中的item本身无法被赋值，即其指向的对象id（类似内存地址)无法改变，但是若元组中元素item自身是可变类型的，元素本身可以改变．\nPython中可变类型的解释：\npython中对可变数据类型的定义为：当该数据类型的对应变量的值发生了改变，那么它对应的内存地址不发生改变，就称可变数据类型。包括：set（集合）、list（列表）、dict（字典）\nIn [7]: a = (1,[2,3]) In [8]: a[1] Out[8]: [2, 3] In [9]: a[1] = [1,2,3] --------------------------------------------------------------------------- TypeError Traceback (most recent call last) ",
  "wordCount" : "3404",
  "inLanguage": "zh",
  "datePublished": "2020-09-26T00:00:00Z",
  "dateModified": "2020-09-26T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Niuhe"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.niuhemoon.win/posts/tech/python-advanced-1/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Niuhe's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.niuhemoon.win/base/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.niuhemoon.win" accesskey="h" title="Niuhe&#39;s Blog (Alt + H)">
                <img src="https://blog.niuhemoon.win/base/avatar.jpeg" alt="" aria-label="logo"
                    height="35">Niuhe&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.niuhemoon.win/search" title="🔍搜索 (Alt &#43; /)" accesskey=/>
                    <span>🔍搜索</span>
                </a>
            </li>
            <li>
                <a href="https://blog.niuhemoon.win/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://blog.niuhemoon.win/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://blog.niuhemoon.win/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://blog.niuhemoon.win/archives/" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://blog.niuhemoon.win/about" title="🙋🏻‍♂️关于">
                    <span>🙋🏻‍♂️关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://blog.niuhemoon.win">🏠主页</a>&nbsp;»&nbsp;<a href="https://blog.niuhemoon.win/posts/">📚文章</a>&nbsp;»&nbsp;<a href="https://blog.niuhemoon.win/posts/tech/">👨🏻‍💻 技术</a></div>
    <h1 class="post-title">
      Python进阶上
    </h1>
    <div class="post-description">
      Python进阶技巧总结,包含Python基本书据类型的使用
    </div>
    <div class="post-meta"><span title='2020-09-26 00:00:00 +0000 UTC'>2020-09-26</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;3404 字&nbsp;·&nbsp;Niuhe

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">文章目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#list" aria-label="List">List</a><ul>
                        
                <li>
                    <a href="#%e5%88%9b%e5%bb%ba%e5%88%97%e8%a1%a8" aria-label="创建列表">创建列表</a></li>
                <li>
                    <a href="#%e5%86%85%e7%bd%ae%e6%96%b9%e6%b3%95" aria-label="内置方法">内置方法</a></li>
                <li>
                    <a href="#%e5%a4%8d%e5%88%b6%e5%88%97%e8%a1%a8" aria-label="复制列表">复制列表</a></li>
                <li>
                    <a href="#%e5%88%97%e8%a1%a8%e5%88%87%e7%89%87" aria-label="列表切片">列表切片</a></li></ul>
                </li>
                <li>
                    <a href="#tuple" aria-label="Tuple">Tuple</a><ul>
                        
                <li>
                    <a href="#%e5%88%9b%e5%bb%ba%e5%85%83%e7%bb%84" aria-label="创建元组">创建元组</a></li>
                <li>
                    <a href="#%e4%b8%8d%e5%8f%af%e5%8f%98%e8%a7%a3%e9%87%8a" aria-label="不可变解释">不可变解释</a></li>
                <li>
                    <a href="#%e5%86%85%e7%bd%ae%e6%96%b9%e6%b3%95-1" aria-label="内置方法">内置方法</a></li>
                <li>
                    <a href="#%e5%85%83%e7%bb%84%e5%88%87%e7%89%87" aria-label="元组切片">元组切片</a></li>
                <li>
                    <a href="#%e5%85%83%e7%bb%84%e8%a7%a3%e5%8c%85" aria-label="元组解包">元组解包</a></li>
                <li>
                    <a href="#%e5%85%83%e7%bb%84%e5%88%97%e8%a1%a8%e5%af%b9%e6%af%94" aria-label="元组列表对比">元组列表对比</a></li></ul>
                </li>
                <li>
                    <a href="#dictionary" aria-label="Dictionary">Dictionary</a><ul>
                        
                <li>
                    <a href="#%e5%ad%97%e5%85%b8%e5%88%9b%e5%bb%ba" aria-label="字典创建">字典创建</a></li>
                <li>
                    <a href="#%e5%b8%b8%e7%94%a8%e6%96%b9%e6%b3%95" aria-label="常用方法">常用方法</a></li></ul>
                </li>
                <li>
                    <a href="#sets" aria-label="Sets">Sets</a><ul>
                        
                <li>
                    <a href="#%e5%88%9b%e5%bb%ba%e9%9b%86%e5%90%88" aria-label="创建集合">创建集合</a></li>
                <li>
                    <a href="#%e5%b8%b8%e7%94%a8%e6%96%b9%e6%b3%95-1" aria-label="常用方法">常用方法</a></li>
                <li>
                    <a href="#frozenset%e4%b8%8d%e5%8f%af%e5%8f%98%e9%9b%86%e5%90%88" aria-label="Frozenset不可变集合">Frozenset不可变集合</a></li></ul>
                </li>
                <li>
                    <a href="#strings" aria-label="Strings">Strings</a><ul>
                        
                <li>
                    <a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%88%9b%e5%bb%ba" aria-label="字符串创建">字符串创建</a></li>
                <li>
                    <a href="#%e8%ae%bf%e9%97%ae%e5%ad%97%e7%ac%a6%e6%88%96%e8%80%85%e5%ad%90%e4%b8%b2" aria-label="访问字符或者子串">访问字符或者子串</a></li>
                <li>
                    <a href="#%e5%b8%b8%e7%94%a8%e6%96%b9%e6%b3%95-2" aria-label="常用方法">常用方法</a></li>
                <li>
                    <a href="#%e6%a0%bc%e5%bc%8f%e5%8c%96%e5%ad%97%e7%ac%a6%e4%b8%b2" aria-label="格式化字符串">格式化字符串</a></li>
                <li>
                    <a href="#more-on-immutability-and-concatenation" aria-label="More on immutability and concatenation">More on immutability and concatenation</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%8f%82%e8%80%83" aria-label="参考">参考</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>Python种基本类型的比较：</p>
<ul>
<li>List is a collection which is ordered and mutable. Allows duplicate members.</li>
<li>Tuple is a collection which is ordered and immutable. Allows duplicate members.</li>
<li>Set is a collection which is unordered and unindexed. No duplicate members.</li>
<li>Dictionary is a collection which is unordered, mutable and indexed. No duplicate members.</li>
<li>Strings are immutable sequences of Unicode code points.</li>
</ul>
<h3 id="list">List<a hidden class="anchor" aria-hidden="true" href="#list">#</a></h3>
<blockquote>
<p>Python中的list是一个有序容器，容纳不同类型的数据（但推荐列表内数据类型相同)，同时其是可变类型的．</p>
</blockquote>
<h4 id="创建列表">创建列表<a hidden class="anchor" aria-hidden="true" href="#创建列表">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list_1 = [<span style="color:#0ff;font-weight:bold">&#34;banana&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;cherry&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>]
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(list_1)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Or create an empty list with the list function</span>
</span></span><span style="display:flex;"><span>list_2 = <span style="color:#fff;font-weight:bold">list</span>()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(list_2)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Lists allow different data types</span>
</span></span><span style="display:flex;"><span>list_3 = [<span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#fff;font-weight:bold">True</span>, <span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>]
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(list_3)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Lists allow duplicates</span>
</span></span><span style="display:flex;"><span>list_4 = [<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">1</span>]
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(list_4)
</span></span></code></pre></div><h4 id="内置方法">内置方法<a hidden class="anchor" aria-hidden="true" href="#内置方法">#</a></h4>
<blockquote>
<p>修改列表的方法尽量使用内置方法，内置方法效率较高</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>my_list = [<span style="color:#0ff;font-weight:bold">&#34;banana&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;cherry&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># len() : get the number of elements in a list</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;Length:&#34;</span>, <span style="color:#fff;font-weight:bold">len</span>(my_list))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># append() : adds an element to the end of the list</span>
</span></span><span style="display:flex;"><span>my_list.append(<span style="color:#0ff;font-weight:bold">&#34;orange&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># insert() : adds an element at the specified position</span>
</span></span><span style="display:flex;"><span>my_list.insert(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#0ff;font-weight:bold">&#34;blueberry&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_list)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># pop() : removes and returns the item at the given position, default is the last item</span>
</span></span><span style="display:flex;"><span>item = my_list.pop()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;Popped item: &#34;</span>, item)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># remove() : removes an item from the list</span>
</span></span><span style="display:flex;"><span>my_list.remove(<span style="color:#0ff;font-weight:bold">&#34;cherry&#34;</span>) <span style="color:#007f7f"># Value error if not in the list</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_list)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># clear() : removes all items from the list</span>
</span></span><span style="display:flex;"><span>my_list.clear()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_list)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># reverse() : reverse the items</span>
</span></span><span style="display:flex;"><span>my_list = [<span style="color:#0ff;font-weight:bold">&#34;banana&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;cherry&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>]
</span></span><span style="display:flex;"><span>my_list.reverse()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#39;Reversed: &#39;</span>, my_list)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># sort() : sort items in ascending order</span>
</span></span><span style="display:flex;"><span>my_list.sort()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#39;Sorted: &#39;</span>, my_list)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># use sorted() to get a new list, and leave the original unaffected.</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># sorted() works on any iterable type, not just lists</span>
</span></span><span style="display:flex;"><span>my_list = [<span style="color:#0ff;font-weight:bold">&#34;banana&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;cherry&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>]
</span></span><span style="display:flex;"><span>new_list = <span style="color:#fff;font-weight:bold">sorted</span>(my_list)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># create list with repeated elements</span>
</span></span><span style="display:flex;"><span>list_with_zeros = [<span style="color:#ff0;font-weight:bold">0</span>] * <span style="color:#ff0;font-weight:bold">5</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(list_with_zeros)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># concatenation</span>
</span></span><span style="display:flex;"><span>list_concat = list_with_zeros + my_list
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(list_concat)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># convert string to list</span>
</span></span><span style="display:flex;"><span>string_to_list = <span style="color:#fff;font-weight:bold">list</span>(<span style="color:#0ff;font-weight:bold">&#39;Hello&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(string_to_list)
</span></span></code></pre></div><h4 id="复制列表">复制列表<a hidden class="anchor" aria-hidden="true" href="#复制列表">#</a></h4>
<blockquote>
<p>注意拷贝列表内容还是拷贝引用</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>list_org = [<span style="color:#0ff;font-weight:bold">&#34;banana&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;cherry&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># this just copies the reference to the list, so be careful</span>
</span></span><span style="display:flex;"><span>list_copy = list_org
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># now modifying the copy also affects the original</span>
</span></span><span style="display:flex;"><span>list_copy.append(<span style="color:#fff;font-weight:bold">True</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(list_copy)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(list_org)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># use copy(), or list(x) to actually copy the list</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># slicing also works: list_copy = list_org[:]</span>
</span></span><span style="display:flex;"><span>list_org = [<span style="color:#0ff;font-weight:bold">&#34;banana&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;cherry&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>list_copy = list_org.copy()
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># list_copy = list(list_org)</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># list_copy = list_org[:]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># now modifying the copy does not affect the original</span>
</span></span><span style="display:flex;"><span>list_copy.append(<span style="color:#fff;font-weight:bold">True</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(list_copy)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(list_org)
</span></span></code></pre></div><h4 id="列表切片">列表切片<a hidden class="anchor" aria-hidden="true" href="#列表切片">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#007f7f"># a[start:stop:step], default step is 1</span>
</span></span><span style="display:flex;"><span>a = [<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">6</span>, <span style="color:#ff0;font-weight:bold">7</span>, <span style="color:#ff0;font-weight:bold">8</span>, <span style="color:#ff0;font-weight:bold">9</span>, <span style="color:#ff0;font-weight:bold">10</span>]
</span></span><span style="display:flex;"><span>b = a[<span style="color:#ff0;font-weight:bold">1</span>:<span style="color:#ff0;font-weight:bold">3</span>] <span style="color:#007f7f"># Note that the last index is not included</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span><span style="display:flex;"><span>b = a[<span style="color:#ff0;font-weight:bold">2</span>:] <span style="color:#007f7f"># until the end</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span><span style="display:flex;"><span>b = a[:<span style="color:#ff0;font-weight:bold">3</span>] <span style="color:#007f7f"># from beginning</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span><span style="display:flex;"><span>a[<span style="color:#ff0;font-weight:bold">0</span>:<span style="color:#ff0;font-weight:bold">3</span>] = [<span style="color:#ff0;font-weight:bold">0</span>] <span style="color:#007f7f"># replace sub-parts, you need an iterable here</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span><span style="display:flex;"><span>b = a[::<span style="color:#ff0;font-weight:bold">2</span>] <span style="color:#007f7f"># start to end with every second item</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span><span style="display:flex;"><span>a = a[::-<span style="color:#ff0;font-weight:bold">1</span>] <span style="color:#007f7f"># reverse the list with a negative step:</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span><span style="display:flex;"><span>b = a[:] <span style="color:#007f7f"># copy a list with slicing</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span></code></pre></div><h3 id="tuple">Tuple<a hidden class="anchor" aria-hidden="true" href="#tuple">#</a></h3>
<blockquote>
<p>Tuple又称为元组，和List列表类似，主要区别在于元组是不可变类型．不可变意味着元组中的元素无法被重新赋值．使用元组而非列表的有如下原因：</p>
<ul>
<li>Generally used for objects that belong together.</li>
<li>Use tuple for heterogeneous (different) datatypes and list for homogeneous (similar) datatypes.</li>
<li>Since tuple are immutable, iterating through tuple is slightly faster than with list.</li>
<li>Tuples with their immutable elements can be used as key for a dictionary. This is not possible with lists.</li>
<li>If you have data that doesn&rsquo;t change, implementing it as tuple will guarantee that it remains write-protected.</li>
</ul>
</blockquote>
<h4 id="创建元组">创建元组<a hidden class="anchor" aria-hidden="true" href="#创建元组">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>tuple_1 = (<span style="color:#0ff;font-weight:bold">&#34;Max&#34;</span>, <span style="color:#ff0;font-weight:bold">28</span>, <span style="color:#0ff;font-weight:bold">&#34;New York&#34;</span>)
</span></span><span style="display:flex;"><span>tuple_2 = <span style="color:#0ff;font-weight:bold">&#34;Linda&#34;</span>, <span style="color:#ff0;font-weight:bold">25</span>, <span style="color:#0ff;font-weight:bold">&#34;Miami&#34;</span> <span style="color:#007f7f"># Parentheses are optional</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Special case: a tuple with only one element needs to have a comma at the end, </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># otherwise it is not recognized as tuple</span>
</span></span><span style="display:flex;"><span>tuple_3 = (<span style="color:#ff0;font-weight:bold">25</span>,)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(tuple_1)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(tuple_2)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(tuple_3)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Or convert an iterable (list, dict, string) with the built-in tuple function</span>
</span></span><span style="display:flex;"><span>tuple_4 = <span style="color:#fff;font-weight:bold">tuple</span>([<span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#ff0;font-weight:bold">2</span>,<span style="color:#ff0;font-weight:bold">3</span>])
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(tuple_4)
</span></span></code></pre></div><h4 id="不可变解释">不可变解释<a hidden class="anchor" aria-hidden="true" href="#不可变解释">#</a></h4>
<blockquote>
<p>元组不提供修改元素的方法，其中的item本身无法被赋值，即其指向的对象id（类似内存地址)无法改变，但是若元组中元素item自身是可变类型的，元素本身可以改变．</p>
<p>Python中可变类型的解释：</p>
<blockquote>
<p>python中对可变数据类型的定义为：<strong>当该数据类型的对应变量的值发生了改变，那么它对应的内存地址不发生改变，就称可变数据类型</strong>。包括：set（集合）、list（列表）、dict（字典）</p>
</blockquote>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>In [<span style="color:#ff0;font-weight:bold">7</span>]: a = (<span style="color:#ff0;font-weight:bold">1</span>,[<span style="color:#ff0;font-weight:bold">2</span>,<span style="color:#ff0;font-weight:bold">3</span>])                                                           
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#ff0;font-weight:bold">8</span>]: a[<span style="color:#ff0;font-weight:bold">1</span>]                                                                    
</span></span><span style="display:flex;"><span>Out[<span style="color:#ff0;font-weight:bold">8</span>]: [<span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#ff0;font-weight:bold">9</span>]: a[<span style="color:#ff0;font-weight:bold">1</span>] = [<span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#ff0;font-weight:bold">2</span>,<span style="color:#ff0;font-weight:bold">3</span>]                                                          
</span></span><span style="display:flex;"><span>---------------------------------------------------------------------------
</span></span><span style="display:flex;"><span>TypeError                                 Traceback (most recent call last)
</span></span><span style="display:flex;"><span>&lt;ipython-<span style="color:#fff;font-weight:bold">input</span>-<span style="color:#ff0;font-weight:bold">9</span>-f8fa7e0d45e2&gt; in &lt;module&gt;
</span></span><span style="display:flex;"><span>----&gt; <span style="color:#ff0;font-weight:bold">1</span> a[<span style="color:#ff0;font-weight:bold">1</span>] = [<span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#ff0;font-weight:bold">2</span>,<span style="color:#ff0;font-weight:bold">3</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>TypeError: <span style="color:#0ff;font-weight:bold">&#39;tuple&#39;</span> <span style="color:#fff;font-weight:bold">object</span> does not support item assignment
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#ff0;font-weight:bold">10</span>]: a[<span style="color:#ff0;font-weight:bold">1</span>].append(<span style="color:#ff0;font-weight:bold">3</span>)                                                         
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>In [<span style="color:#ff0;font-weight:bold">11</span>]: a                                                                      
</span></span><span style="display:flex;"><span>Out[<span style="color:#ff0;font-weight:bold">11</span>]: (<span style="color:#ff0;font-weight:bold">1</span>, [<span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">3</span>])
</span></span></code></pre></div><blockquote>
<p>以此执行下面指令，可以理解一下浅拷贝和深拷贝</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a = [<span style="color:#ff0;font-weight:bold">1</span>]
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># shadow copy</span>
</span></span><span style="display:flex;"><span>b = a
</span></span><span style="display:flex;"><span>b is a　　<span style="color:#007f7f"># True,has same address</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">id</span>(a)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">id</span>(b)
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># deep copy,a point to another memory address</span>
</span></span><span style="display:flex;"><span>a = a+[<span style="color:#ff0;font-weight:bold">2</span>]
</span></span><span style="display:flex;"><span>a
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">id</span>(a)
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># b&#39;s address doesn&#39;t change</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">id</span>(b)
</span></span></code></pre></div><h4 id="内置方法-1">内置方法<a hidden class="anchor" aria-hidden="true" href="#内置方法-1">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>my_tuple = (<span style="color:#0ff;font-weight:bold">&#39;a&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;p&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;p&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;l&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;e&#39;</span>,)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># len() : get the number of elements in a tuple</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#fff;font-weight:bold">len</span>(my_tuple))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># count(x) : Return the number of items that is equal to x</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_tuple.count(<span style="color:#0ff;font-weight:bold">&#39;p&#39;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># index(x) : Return index of first item that is equal to x</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_tuple.index(<span style="color:#0ff;font-weight:bold">&#39;l&#39;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># repetition</span>
</span></span><span style="display:flex;"><span>my_tuple = (<span style="color:#0ff;font-weight:bold">&#39;a&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;b&#39;</span>) * <span style="color:#ff0;font-weight:bold">5</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_tuple)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># concatenation</span>
</span></span><span style="display:flex;"><span>my_tuple = (<span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#ff0;font-weight:bold">2</span>,<span style="color:#ff0;font-weight:bold">3</span>) + (<span style="color:#ff0;font-weight:bold">4</span>,<span style="color:#ff0;font-weight:bold">5</span>,<span style="color:#ff0;font-weight:bold">6</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_tuple)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># convert list to a tuple and vice versa</span>
</span></span><span style="display:flex;"><span>my_list = [<span style="color:#0ff;font-weight:bold">&#39;a&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;b&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;c&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;d&#39;</span>]
</span></span><span style="display:flex;"><span>list_to_tuple = <span style="color:#fff;font-weight:bold">tuple</span>(my_list)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(list_to_tuple)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tuple_to_list = <span style="color:#fff;font-weight:bold">list</span>(list_to_tuple)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(tuple_to_list)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># convert string to tuple</span>
</span></span><span style="display:flex;"><span>string_to_tuple = <span style="color:#fff;font-weight:bold">tuple</span>(<span style="color:#0ff;font-weight:bold">&#39;Hello&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(string_to_tuple)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Result</span>
</span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">5
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">2
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">3
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">(&#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;b&#39;)
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">(1, 2, 3, 4, 5, 6)
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;)
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">(&#39;H&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;)
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">&#34;&#34;&#34;</span>
</span></span></code></pre></div><h4 id="元组切片">元组切片<a hidden class="anchor" aria-hidden="true" href="#元组切片">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># a[start:stop:step], default step is 1</span>
</span></span><span style="display:flex;"><span>a = (<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">6</span>, <span style="color:#ff0;font-weight:bold">7</span>, <span style="color:#ff0;font-weight:bold">8</span>, <span style="color:#ff0;font-weight:bold">9</span>, <span style="color:#ff0;font-weight:bold">10</span>)
</span></span><span style="display:flex;"><span>b = a[<span style="color:#ff0;font-weight:bold">1</span>:<span style="color:#ff0;font-weight:bold">3</span>] <span style="color:#007f7f"># Note that the last index is not included</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span><span style="display:flex;"><span>b = a[<span style="color:#ff0;font-weight:bold">2</span>:] <span style="color:#007f7f"># until the end</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span><span style="display:flex;"><span>b = a[:<span style="color:#ff0;font-weight:bold">3</span>] <span style="color:#007f7f"># from beginning</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span><span style="display:flex;"><span>b = a[::<span style="color:#ff0;font-weight:bold">2</span>] <span style="color:#007f7f"># start to end with every second item</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span><span style="display:flex;"><span>b = a[::-<span style="color:#ff0;font-weight:bold">1</span>] <span style="color:#007f7f"># reverse tuple</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># don&#39;t change a ,create a new tuple and assign it to b</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Result</span>
</span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">(2, 3)
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">(3, 4, 5, 6, 7, 8, 9, 10)
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">(1, 2, 3)
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">(1, 3, 5, 7, 9)
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">(10, 9, 8, 7, 6, 5, 4, 3, 2, 1)
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">&#34;&#34;&#34;</span>
</span></span></code></pre></div><h4 id="元组解包">元组解包<a hidden class="anchor" aria-hidden="true" href="#元组解包">#</a></h4>
<blockquote>
<p>在Python中互换两个变量的值，如</p>
<p><code>a,b = b,a</code></p>
<p>就是等号右侧将b,a自动打包为元组<code>(b,a)</code>，赋值给左侧后再自动解包，同样的，Python中函数返回多个值，也是隐式的将多个值打包为元组，并返回一个元组．</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#007f7f"># number of variables have to match number of tuple elements</span>
</span></span><span style="display:flex;"><span>tuple_1 = (<span style="color:#0ff;font-weight:bold">&#34;Max&#34;</span>, <span style="color:#ff0;font-weight:bold">28</span>, <span style="color:#0ff;font-weight:bold">&#34;New York&#34;</span>)
</span></span><span style="display:flex;"><span>name, age, city = tuple_1
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(name)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(age)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(city)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># tip: unpack multiple elements to a list with *</span>
</span></span><span style="display:flex;"><span>my_tuple = (<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>)
</span></span><span style="display:flex;"><span>item_first, *items_between, item_last = my_tuple
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(item_first)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(items_between)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(item_last)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Result</span>
</span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">Max
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">28
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">New York
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">0
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">[1, 2, 3, 4]
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">5
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">&#34;&#34;&#34;</span>
</span></span></code></pre></div><h4 id="元组列表对比">元组列表对比<a hidden class="anchor" aria-hidden="true" href="#元组列表对比">#</a></h4>
<blockquote>
<p>容纳同样的数据，元组的占用空间和迭代速度更高</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#007f7f"># compare the size</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> sys
</span></span><span style="display:flex;"><span>my_list = [<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#0ff;font-weight:bold">&#34;hello&#34;</span>, <span style="color:#fff;font-weight:bold">True</span>]
</span></span><span style="display:flex;"><span>my_tuple = (<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#0ff;font-weight:bold">&#34;hello&#34;</span>, <span style="color:#fff;font-weight:bold">True</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(sys.getsizeof(my_list), <span style="color:#0ff;font-weight:bold">&#34;bytes&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(sys.getsizeof(my_tuple), <span style="color:#0ff;font-weight:bold">&#34;bytes&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># compare the execution time of a list vs. tuple creation statement</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">import</span> timeit
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(timeit.timeit(stmt=<span style="color:#0ff;font-weight:bold">&#34;[0, 1, 2, 3, 4, 5]&#34;</span>, number=<span style="color:#ff0;font-weight:bold">1000000</span>))
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(timeit.timeit(stmt=<span style="color:#0ff;font-weight:bold">&#34;(0, 1, 2, 3, 4, 5)&#34;</span>, number=<span style="color:#ff0;font-weight:bold">1000000</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Result</span>
</span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">104 bytes
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">88 bytes
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">0.12474981700000853
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">0.014836141000017733
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">&#34;&#34;&#34;</span>
</span></span></code></pre></div><h3 id="dictionary">Dictionary<a hidden class="anchor" aria-hidden="true" href="#dictionary">#</a></h3>
<blockquote>
<p>字典是无序的、可变的、可索引的一种数据类型。</p>
</blockquote>
<h4 id="字典创建">字典创建<a hidden class="anchor" aria-hidden="true" href="#字典创建">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>my_dict = {<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;Max&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;age&#34;</span>:<span style="color:#ff0;font-weight:bold">28</span>, <span style="color:#0ff;font-weight:bold">&#34;city&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;New York&#34;</span>}
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_dict)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># or use the dict constructor, note: no quotes necessary for keys</span>
</span></span><span style="display:flex;"><span>my_dict_2 = <span style="color:#fff;font-weight:bold">dict</span>(name=<span style="color:#0ff;font-weight:bold">&#34;Lisa&#34;</span>, age=<span style="color:#ff0;font-weight:bold">27</span>, city=<span style="color:#0ff;font-weight:bold">&#34;Boston&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_dict_2)
</span></span></code></pre></div><h4 id="常用方法">常用方法<a hidden class="anchor" aria-hidden="true" href="#常用方法">#</a></h4>
<ul>
<li>删除字典元素</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>my_dict = {<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;Max&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;age&#34;</span>:<span style="color:#ff0;font-weight:bold">28</span>, <span style="color:#0ff;font-weight:bold">&#34;city&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;New York&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># delete a key-value pair</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">del</span> my_dict[<span style="color:#0ff;font-weight:bold">&#34;email&#34;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># this returns the value and removes the key-value pair</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;popped value:&#34;</span>, my_dict.pop(<span style="color:#0ff;font-weight:bold">&#34;age&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># return and removes the last inserted key-value pair </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (in versions before Python 3.7 it removes an arbitrary pair)</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;popped item:&#34;</span>, my_dict.popitem())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_dict)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># clear() : remove all pairs</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># my_dict.clear()</span>
</span></span></code></pre></div><ul>
<li>检查key是否存在</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>my_dict = {<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;Max&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;age&#34;</span>:<span style="color:#ff0;font-weight:bold">28</span>, <span style="color:#0ff;font-weight:bold">&#34;city&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;New York&#34;</span>}
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># use if .. in ..</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">if</span> <span style="color:#0ff;font-weight:bold">&#34;name&#34;</span> in my_dict:
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">print</span>(my_dict[<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># use try except</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">try</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">print</span>(my_dict[<span style="color:#0ff;font-weight:bold">&#34;firstname&#34;</span>])
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">except</span> KeyError:
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;No key found&#34;</span>)
</span></span></code></pre></div><ul>
<li>迭代字典元素</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#007f7f"># loop over keys</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">for</span> key in my_dict:
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">print</span>(key, my_dict[key])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># loop over keys</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">for</span> key in my_dict.keys():
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">print</span>(key)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># loop over values</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">for</span> value in my_dict.values():
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">print</span>(value)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># loop over keys and values</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">for</span> key, value in my_dict.items():
</span></span><span style="display:flex;"><span>    <span style="color:#fff;font-weight:bold">print</span>(key, value)
</span></span></code></pre></div><ul>
<li>复制字典</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dict_org = {<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;Max&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;age&#34;</span>:<span style="color:#ff0;font-weight:bold">28</span>, <span style="color:#0ff;font-weight:bold">&#34;city&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;New York&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># this just copies the reference to the dict, so be careful</span>
</span></span><span style="display:flex;"><span>dict_copy = dict_org
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># now modifying the copy also affects the original</span>
</span></span><span style="display:flex;"><span>dict_copy[<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>] = <span style="color:#0ff;font-weight:bold">&#34;Lisa&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(dict_copy)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(dict_org)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># use copy(), or dict(x) to actually copy the dict</span>
</span></span><span style="display:flex;"><span>dict_org = {<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;Max&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;age&#34;</span>:<span style="color:#ff0;font-weight:bold">28</span>, <span style="color:#0ff;font-weight:bold">&#34;city&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;New York&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dict_copy = dict_org.copy()
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># dict_copy = dict(dict_org)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># now modifying the copy does not affect the original</span>
</span></span><span style="display:flex;"><span>dict_copy[<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>] = <span style="color:#0ff;font-weight:bold">&#34;Lisa&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(dict_copy)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(dict_org)
</span></span></code></pre></div><ul>
<li>合并两个字典</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#007f7f"># Use the update() method to merge 2 dicts</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># existing keys are overwritten, new keys are added</span>
</span></span><span style="display:flex;"><span>my_dict = {<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;Max&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;age&#34;</span>:<span style="color:#ff0;font-weight:bold">28</span>, <span style="color:#0ff;font-weight:bold">&#34;email&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;max@xyz.com&#34;</span>}
</span></span><span style="display:flex;"><span>my_dict_2 = <span style="color:#fff;font-weight:bold">dict</span>(name=<span style="color:#0ff;font-weight:bold">&#34;Lisa&#34;</span>, age=<span style="color:#ff0;font-weight:bold">27</span>, city=<span style="color:#0ff;font-weight:bold">&#34;Boston&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>my_dict.update(my_dict_2)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_dict)
</span></span></code></pre></div><ul>
<li>可能的Key类型</li>
</ul>
<blockquote>
<p>任何不可变类型都可以作为字典的key，包括数字、字符串。元组如果所有元素都是不可变的，也可以作为key。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#007f7f"># use numbers as key, but be careful</span>
</span></span><span style="display:flex;"><span>my_dict = {<span style="color:#ff0;font-weight:bold">3</span>: <span style="color:#ff0;font-weight:bold">9</span>, <span style="color:#ff0;font-weight:bold">6</span>: <span style="color:#ff0;font-weight:bold">36</span>, <span style="color:#ff0;font-weight:bold">9</span>:<span style="color:#ff0;font-weight:bold">81</span>}
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># do not mistake the keys as indices of a list, e.g my_dict[0] is not possible here</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_dict[<span style="color:#ff0;font-weight:bold">3</span>], my_dict[<span style="color:#ff0;font-weight:bold">6</span>], my_dict[<span style="color:#ff0;font-weight:bold">9</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># use a tuple with immutable elements (e.g. number, string)</span>
</span></span><span style="display:flex;"><span>my_tuple = (<span style="color:#ff0;font-weight:bold">8</span>, <span style="color:#ff0;font-weight:bold">7</span>)
</span></span><span style="display:flex;"><span>my_dict = {my_tuple: <span style="color:#ff0;font-weight:bold">15</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_dict[my_tuple])
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># print(my_dict[8, 7])</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># a list is not possible because it is not immutable</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># this will raise an Error:</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># my_list = [8, 7]</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># my_dict = {my_list: 15}</span>
</span></span></code></pre></div><h3 id="sets">Sets<a hidden class="anchor" aria-hidden="true" href="#sets">#</a></h3>
<blockquote>
<p>A Set is an unordered collection data type that is unindexed, mutable, and has no duplicate elements.</p>
</blockquote>
<h4 id="创建集合">创建集合<a hidden class="anchor" aria-hidden="true" href="#创建集合">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>my_set = {<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;banana&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;cherry&#34;</span>}
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_set)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># or use the set function and create from an iterable, e.g. list, tuple, string</span>
</span></span><span style="display:flex;"><span>my_set_2 = <span style="color:#fff;font-weight:bold">set</span>([<span style="color:#0ff;font-weight:bold">&#34;one&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;two&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;three&#34;</span>])
</span></span><span style="display:flex;"><span>my_set_2 = <span style="color:#fff;font-weight:bold">set</span>((<span style="color:#0ff;font-weight:bold">&#34;one&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;two&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;three&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_set_2)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>my_set_3 = <span style="color:#fff;font-weight:bold">set</span>(<span style="color:#0ff;font-weight:bold">&#34;aaabbbcccdddeeeeeffff&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_set_3)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># careful: an empty set cannot be created with {}, as this is interpreted as dict</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># use set() instead</span>
</span></span><span style="display:flex;"><span>a = {}
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#fff;font-weight:bold">type</span>(a))
</span></span><span style="display:flex;"><span>a = <span style="color:#fff;font-weight:bold">set</span>()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#fff;font-weight:bold">type</span>(a))
</span></span></code></pre></div><h4 id="常用方法-1">常用方法<a hidden class="anchor" aria-hidden="true" href="#常用方法-1">#</a></h4>
<ul>
<li>添加元素</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>my_set = <span style="color:#fff;font-weight:bold">set</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># use the add() method to add elements</span>
</span></span><span style="display:flex;"><span>my_set.add(<span style="color:#ff0;font-weight:bold">42</span>)
</span></span><span style="display:flex;"><span>my_set.add(<span style="color:#fff;font-weight:bold">True</span>)
</span></span><span style="display:flex;"><span>my_set.add(<span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># note: the order does not matter, and might differ when printed</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_set)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># nothing happens when the element is already present:</span>
</span></span><span style="display:flex;"><span>my_set.add(<span style="color:#ff0;font-weight:bold">42</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_set)
</span></span></code></pre></div><ul>
<li>移除元素</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#007f7f"># remove(x): removes x, raises a KeyError if element is not present</span>
</span></span><span style="display:flex;"><span>my_set = {<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;banana&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;cherry&#34;</span>}
</span></span><span style="display:flex;"><span>my_set.remove(<span style="color:#0ff;font-weight:bold">&#34;apple&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_set)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># KeyError:</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># my_set.remove(&#34;orange&#34;)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># discard(x): removes x, does nothing if element is not present</span>
</span></span><span style="display:flex;"><span>my_set.discard(<span style="color:#0ff;font-weight:bold">&#34;cherry&#34;</span>)
</span></span><span style="display:flex;"><span>my_set.discard(<span style="color:#0ff;font-weight:bold">&#34;blueberry&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_set)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># clear() : remove all elements</span>
</span></span><span style="display:flex;"><span>my_set.clear()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_set)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># pop() : return and remove a random element</span>
</span></span><span style="display:flex;"><span>a = {<span style="color:#fff;font-weight:bold">True</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#fff;font-weight:bold">False</span>, <span style="color:#0ff;font-weight:bold">&#34;hi&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;hello&#34;</span>}
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a.pop())
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span></code></pre></div><ul>
<li>交集和并集</li>
</ul>
<blockquote>
<p>不改变原有集合，只是会产生新的集合</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>odds = {<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">7</span>, <span style="color:#ff0;font-weight:bold">9</span>}
</span></span><span style="display:flex;"><span>evens = {<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">6</span>, <span style="color:#ff0;font-weight:bold">8</span>}
</span></span><span style="display:flex;"><span>primes = {<span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">7</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># union() : combine elements from both sets, no duplication</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># note that this does not change the two sets</span>
</span></span><span style="display:flex;"><span>u = odds.union(evens)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(u)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># intersection(): take elements that are in both sets</span>
</span></span><span style="display:flex;"><span>i = odds.intersection(evens)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(i)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>i = odds.intersection(primes)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(i)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>i = evens.intersection(primes)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(i)
</span></span></code></pre></div><ul>
<li>差集</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>setB = {<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">10</span>, <span style="color:#ff0;font-weight:bold">11</span>, <span style="color:#ff0;font-weight:bold">12</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># difference() : returns a set with all the elements from the setA that are not in setB.</span>
</span></span><span style="display:flex;"><span>diff_set = setA.difference(setB)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(diff_set)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># A.difference(B) is not the same as B.difference(A)</span>
</span></span><span style="display:flex;"><span>diff_set = setB.difference(setA)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(diff_set)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># symmetric_difference() : returns a set with all the elements that are in setA and setB but not in both</span>
</span></span><span style="display:flex;"><span>diff_set = setA.symmetric_difference(setB)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(diff_set)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># A.symmetric_difference(B) = B.symmetric_difference(A)</span>
</span></span><span style="display:flex;"><span>diff_set = setB.symmetric_difference(setA)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(diff_set)
</span></span></code></pre></div><ul>
<li>更新集合（交/并/差）</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>setA = {<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">6</span>, <span style="color:#ff0;font-weight:bold">7</span>, <span style="color:#ff0;font-weight:bold">8</span>, <span style="color:#ff0;font-weight:bold">9</span>}
</span></span><span style="display:flex;"><span>setB = {<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">10</span>, <span style="color:#ff0;font-weight:bold">11</span>, <span style="color:#ff0;font-weight:bold">12</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># update() : Update the set by adding elements from another set.</span>
</span></span><span style="display:flex;"><span>setA.update(setB)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(setA)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># intersection_update() : Update the set by keeping only the elements found in both</span>
</span></span><span style="display:flex;"><span>setA = {<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">6</span>, <span style="color:#ff0;font-weight:bold">7</span>, <span style="color:#ff0;font-weight:bold">8</span>, <span style="color:#ff0;font-weight:bold">9</span>}
</span></span><span style="display:flex;"><span>setA.intersection_update(setB)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(setA)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># difference_update() : Update the set by removing elements found in another set.</span>
</span></span><span style="display:flex;"><span>setA = {<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">6</span>, <span style="color:#ff0;font-weight:bold">7</span>, <span style="color:#ff0;font-weight:bold">8</span>, <span style="color:#ff0;font-weight:bold">9</span>}
</span></span><span style="display:flex;"><span>setA.difference_update(setB)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(setA)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># symmetric_difference_update() : Update the set by only keeping the elements found in either set, but not in both</span>
</span></span><span style="display:flex;"><span>setA = {<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">6</span>, <span style="color:#ff0;font-weight:bold">7</span>, <span style="color:#ff0;font-weight:bold">8</span>, <span style="color:#ff0;font-weight:bold">9</span>}
</span></span><span style="display:flex;"><span>setA.symmetric_difference_update(setB)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(setA)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Note: all update methods also work with other iterables as argument, e.g lists, tuples</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># setA.update([1, 2, 3, 4, 5, 6])</span>
</span></span></code></pre></div><ul>
<li>复制集合</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>set_org = {<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># this just copies the reference to the set, so be careful</span>
</span></span><span style="display:flex;"><span>set_copy = set_org
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># now modifying the copy also affects the original</span>
</span></span><span style="display:flex;"><span>set_copy.update([<span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">6</span>, <span style="color:#ff0;font-weight:bold">7</span>])
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(set_copy)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(set_org)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># use copy() to actually copy the set</span>
</span></span><span style="display:flex;"><span>set_org = {<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>}
</span></span><span style="display:flex;"><span>set_copy = set_org.copy()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># now modifying the copy does not affect the original</span>
</span></span><span style="display:flex;"><span>set_copy.update([<span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">6</span>, <span style="color:#ff0;font-weight:bold">7</span>])
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(set_copy)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(set_org)
</span></span></code></pre></div><ul>
<li>子集/不相交</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>setA = {<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">6</span>}
</span></span><span style="display:flex;"><span>setB = {<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>}
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># issubset(setX): Returns True if setX contains the set</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(setA.issubset(setB))
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(setB.issubset(setA)) <span style="color:#007f7f"># True</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># issuperset(setX): Returns True if the set contains setX</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(setA.issuperset(setB)) <span style="color:#007f7f"># True</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(setB.issuperset(setA))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># isdisjoint(setX) : Return True if both sets have a null intersection, i.e. no same elements</span>
</span></span><span style="display:flex;"><span>setC = {<span style="color:#ff0;font-weight:bold">7</span>, <span style="color:#ff0;font-weight:bold">8</span>, <span style="color:#ff0;font-weight:bold">9</span>}
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(setA.isdisjoint(setB))
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(setA.isdisjoint(setC))
</span></span></code></pre></div><h4 id="frozenset不可变集合">Frozenset不可变集合<a hidden class="anchor" aria-hidden="true" href="#frozenset不可变集合">#</a></h4>
<blockquote>
<p>Frozen set是一种不可变的集合，其在创建以后，集合中的元素id不可变</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a = <span style="color:#fff;font-weight:bold">frozenset</span>([<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># The following is not allowed:</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># a.add(5)</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># a.remove(1)</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># a.discard(1)</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># a.clear()</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Also no update methods are allowed:</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># a.update([1,2,3])</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Other set operations work</span>
</span></span><span style="display:flex;"><span>odds = <span style="color:#fff;font-weight:bold">frozenset</span>({<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">7</span>, <span style="color:#ff0;font-weight:bold">9</span>})
</span></span><span style="display:flex;"><span>evens = <span style="color:#fff;font-weight:bold">frozenset</span>({<span style="color:#ff0;font-weight:bold">0</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">6</span>, <span style="color:#ff0;font-weight:bold">8</span>})
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(odds.union(evens))
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(odds.intersection(evens))
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(odds.difference(evens))
</span></span></code></pre></div><h3 id="strings">Strings<a hidden class="anchor" aria-hidden="true" href="#strings">#</a></h3>
<blockquote>
<p>字符串是一个字符序列，是不可变类型，对于同一个id下的字符串不可变。</p>
</blockquote>
<h4 id="字符串创建">字符串创建<a hidden class="anchor" aria-hidden="true" href="#字符串创建">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> <span style="color:#007f7f"># use singe or double quotes</span>
</span></span><span style="display:flex;"><span>my_string = <span style="color:#0ff;font-weight:bold">&#39;Hello&#39;</span>
</span></span><span style="display:flex;"><span>my_string = <span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>
</span></span><span style="display:flex;"><span>my_string = <span style="color:#0ff;font-weight:bold">&#34;I&#39; m  a &#39;Geek&#39;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># escaping backslash</span>
</span></span><span style="display:flex;"><span>my_string = <span style="color:#0ff;font-weight:bold">&#39;I</span><span style="color:#0ff;font-weight:bold">\&#39;</span><span style="color:#0ff;font-weight:bold"> m  a &#34;Geek&#34;&#39;</span>
</span></span><span style="display:flex;"><span>my_string = <span style="color:#0ff;font-weight:bold">&#39;I</span><span style="color:#0ff;font-weight:bold">\&#39;</span><span style="color:#0ff;font-weight:bold"> m a </span><span style="color:#0ff;font-weight:bold">\&#39;</span><span style="color:#0ff;font-weight:bold">Geek</span><span style="color:#0ff;font-weight:bold">\&#39;</span><span style="color:#0ff;font-weight:bold">&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_string)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># triple quotes for multiline strings</span>
</span></span><span style="display:flex;"><span>my_string = <span style="color:#0ff;font-weight:bold">&#34;&#34;&#34;Hello
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold">World&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_string)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># backslash if you want to continue in the next line</span>
</span></span><span style="display:flex;"><span>my_string = <span style="color:#0ff;font-weight:bold">&#34;Hello </span><span style="color:#0ff;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#0ff;font-weight:bold"></span><span style="color:#0ff;font-weight:bold">World&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_string)
</span></span></code></pre></div><h4 id="访问字符或者子串">访问字符或者子串<a hidden class="anchor" aria-hidden="true" href="#访问字符或者子串">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>my_string = <span style="color:#0ff;font-weight:bold">&#34;Hello World&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># get character by referring to index</span>
</span></span><span style="display:flex;"><span>b = my_string[<span style="color:#ff0;font-weight:bold">0</span>]
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Substrings with slicing</span>
</span></span><span style="display:flex;"><span>b = my_string[<span style="color:#ff0;font-weight:bold">1</span>:<span style="color:#ff0;font-weight:bold">3</span>] <span style="color:#007f7f"># Note that the last index is not included</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span><span style="display:flex;"><span>b = my_string[:<span style="color:#ff0;font-weight:bold">5</span>] <span style="color:#007f7f"># from beginning</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span><span style="display:flex;"><span>b = my_string[<span style="color:#ff0;font-weight:bold">6</span>:] <span style="color:#007f7f"># until the end</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span><span style="display:flex;"><span>b = my_string[::<span style="color:#ff0;font-weight:bold">2</span>] <span style="color:#007f7f"># start to end with every second item</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span><span style="display:flex;"><span>b = my_string[::-<span style="color:#ff0;font-weight:bold">1</span>] <span style="color:#007f7f"># reverse the string with a negative step:</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(b)
</span></span></code></pre></div><h4 id="常用方法-2">常用方法<a hidden class="anchor" aria-hidden="true" href="#常用方法-2">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>my_string = <span style="color:#0ff;font-weight:bold">&#34;     Hello World &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># remove white space</span>
</span></span><span style="display:flex;"><span>my_string = my_string.strip()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_string)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># number of characters</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#fff;font-weight:bold">len</span>(my_string))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Upper and lower cases</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_string.upper())
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(my_string.lower())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># startswith and endswith</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;hello&#34;</span>.startswith(<span style="color:#0ff;font-weight:bold">&#34;he&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;hello&#34;</span>.endswith(<span style="color:#0ff;font-weight:bold">&#34;llo&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># find first index of a given substring, -1 otherwise</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>.find(<span style="color:#0ff;font-weight:bold">&#34;o&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># count number of characters/substrings</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>.count(<span style="color:#0ff;font-weight:bold">&#34;e&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># replace a substring with another string (only if the substring is found)</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Note: The original string stays the same</span>
</span></span><span style="display:flex;"><span>message = <span style="color:#0ff;font-weight:bold">&#34;Hello World&#34;</span>
</span></span><span style="display:flex;"><span>new_message = message.replace(<span style="color:#0ff;font-weight:bold">&#34;World&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Universe&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(new_message)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># split the string into a list</span>
</span></span><span style="display:flex;"><span>my_string = <span style="color:#0ff;font-weight:bold">&#34;how are you doing&#34;</span>
</span></span><span style="display:flex;"><span>a = my_string.split() <span style="color:#007f7f"># default argument is &#34; &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span><span style="display:flex;"><span>my_string = <span style="color:#0ff;font-weight:bold">&#34;one,two,three&#34;</span>
</span></span><span style="display:flex;"><span>a = my_string.split(<span style="color:#0ff;font-weight:bold">&#34;,&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># join elements of a list into a string</span>
</span></span><span style="display:flex;"><span>my_list = [<span style="color:#0ff;font-weight:bold">&#39;How&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;are&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;you&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;doing&#39;</span>]
</span></span><span style="display:flex;"><span>a = <span style="color:#0ff;font-weight:bold">&#39; &#39;</span>.join(my_list) <span style="color:#007f7f"># the given string is the separator, e.g. &#39; &#39; between each argument</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span></code></pre></div><h4 id="格式化字符串">格式化字符串<a hidden class="anchor" aria-hidden="true" href="#格式化字符串">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#007f7f"># use braces as placeholders</span>
</span></span><span style="display:flex;"><span>a = <span style="color:#0ff;font-weight:bold">&#34;Hello </span><span style="color:#0ff;font-weight:bold">{0}</span><span style="color:#0ff;font-weight:bold"> and </span><span style="color:#0ff;font-weight:bold">{1}</span><span style="color:#0ff;font-weight:bold">&#34;</span>.format(<span style="color:#0ff;font-weight:bold">&#34;Bob&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># the positions are optional for the default order</span>
</span></span><span style="display:flex;"><span>a = <span style="color:#0ff;font-weight:bold">&#34;Hello </span><span style="color:#0ff;font-weight:bold">{}</span><span style="color:#0ff;font-weight:bold"> and </span><span style="color:#0ff;font-weight:bold">{}</span><span style="color:#0ff;font-weight:bold">&#34;</span>.format(<span style="color:#0ff;font-weight:bold">&#34;Bob&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>a = <span style="color:#0ff;font-weight:bold">&#34;The integer value is </span><span style="color:#0ff;font-weight:bold">{}</span><span style="color:#0ff;font-weight:bold">&#34;</span>.format(<span style="color:#ff0;font-weight:bold">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># some special format rules for numbers</span>
</span></span><span style="display:flex;"><span>a = <span style="color:#0ff;font-weight:bold">&#34;The float value is </span><span style="color:#0ff;font-weight:bold">{0:.3f}</span><span style="color:#0ff;font-weight:bold">&#34;</span>.format(<span style="color:#ff0;font-weight:bold">2.1234</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span><span style="display:flex;"><span>a = <span style="color:#0ff;font-weight:bold">&#34;The float value is </span><span style="color:#0ff;font-weight:bold">{0:e}</span><span style="color:#0ff;font-weight:bold">&#34;</span>.format(<span style="color:#ff0;font-weight:bold">2.1234</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span><span style="display:flex;"><span>a = <span style="color:#0ff;font-weight:bold">&#34;The binary value is </span><span style="color:#0ff;font-weight:bold">{0:b}</span><span style="color:#0ff;font-weight:bold">&#34;</span>.format(<span style="color:#ff0;font-weight:bold">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># old style formatting by using % operator</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;Hello </span><span style="color:#0ff;font-weight:bold">%s</span><span style="color:#0ff;font-weight:bold"> and </span><span style="color:#0ff;font-weight:bold">%s</span><span style="color:#0ff;font-weight:bold">&#34;</span> % (<span style="color:#0ff;font-weight:bold">&#34;Bob&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Tom&#34;</span>)) <span style="color:#007f7f"># must be a tuple for multiple arguments</span>
</span></span><span style="display:flex;"><span>val =  <span style="color:#ff0;font-weight:bold">3.14159265359</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;The decimal value is </span><span style="color:#0ff;font-weight:bold">%d</span><span style="color:#0ff;font-weight:bold">&#34;</span> % val)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;The float value is </span><span style="color:#0ff;font-weight:bold">%f</span><span style="color:#0ff;font-weight:bold">&#34;</span> % val)
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;The float value is </span><span style="color:#0ff;font-weight:bold">%.2f</span><span style="color:#0ff;font-weight:bold">&#34;</span> % val)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># since python3.6</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Use the variables directly inside the braces.</span>
</span></span><span style="display:flex;"><span>name = <span style="color:#0ff;font-weight:bold">&#34;Eric&#34;</span>
</span></span><span style="display:flex;"><span>age = <span style="color:#ff0;font-weight:bold">25</span>
</span></span><span style="display:flex;"><span>a = <span style="color:#0ff;font-weight:bold">f</span><span style="color:#0ff;font-weight:bold">&#34;Hello, </span><span style="color:#0ff;font-weight:bold">{</span>name<span style="color:#0ff;font-weight:bold">}</span><span style="color:#0ff;font-weight:bold">. You are </span><span style="color:#0ff;font-weight:bold">{</span>age<span style="color:#0ff;font-weight:bold">}</span><span style="color:#0ff;font-weight:bold">.&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span><span style="display:flex;"><span>pi = <span style="color:#ff0;font-weight:bold">3.14159</span>
</span></span><span style="display:flex;"><span>a = <span style="color:#0ff;font-weight:bold">f</span><span style="color:#0ff;font-weight:bold">&#34;Pi is </span><span style="color:#0ff;font-weight:bold">{</span>pi<span style="color:#0ff;font-weight:bold">:</span><span style="color:#0ff;font-weight:bold">.3f</span><span style="color:#0ff;font-weight:bold">}</span><span style="color:#0ff;font-weight:bold">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># f-Strings are evaluated at runtime, which allows expressions</span>
</span></span><span style="display:flex;"><span>a = <span style="color:#0ff;font-weight:bold">f</span><span style="color:#0ff;font-weight:bold">&#34;The value is </span><span style="color:#0ff;font-weight:bold">{</span><span style="color:#ff0;font-weight:bold">2</span>*<span style="color:#ff0;font-weight:bold">60</span><span style="color:#0ff;font-weight:bold">}</span><span style="color:#0ff;font-weight:bold">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(a)
</span></span></code></pre></div><h4 id="more-on-immutability-and-concatenation">More on immutability and concatenation<a hidden class="anchor" aria-hidden="true" href="#more-on-immutability-and-concatenation">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#007f7f"># since a string is immutable, adding strings with +,  or += always </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># creates a new string, and therefore is expensive for multiple operations</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># --&gt; join method is much faster</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> timeit <span style="color:#fff;font-weight:bold">import</span> default_timer <span style="color:#fff;font-weight:bold">as</span> timer
</span></span><span style="display:flex;"><span>my_list = [<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>] * <span style="color:#ff0;font-weight:bold">1000000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># bad</span>
</span></span><span style="display:flex;"><span>start = timer()
</span></span><span style="display:flex;"><span>a = <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">for</span> i in my_list:
</span></span><span style="display:flex;"><span>    a += i
</span></span><span style="display:flex;"><span>end = timer()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;concatenate string with + : </span><span style="color:#0ff;font-weight:bold">%.5f</span><span style="color:#0ff;font-weight:bold">&#34;</span> % (end - start))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># good</span>
</span></span><span style="display:flex;"><span>start = timer()
</span></span><span style="display:flex;"><span>a = <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>.join(my_list)
</span></span><span style="display:flex;"><span>end = timer()
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">&#34;concatenate string with join(): </span><span style="color:#0ff;font-weight:bold">%.5f</span><span style="color:#0ff;font-weight:bold">&#34;</span> % (end - start))
</span></span></code></pre></div><h3 id="参考">参考<a hidden class="anchor" aria-hidden="true" href="#参考">#</a></h3>
<p><a href="https://github.com/python-engineer/python-engineer-notebooks">Python-Notebook</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://blog.niuhemoon.win/tags/python/">Python</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://blog.niuhemoon.win/posts/tech/angular-devenv/">
    <span class="title">« 上一页</span>
    <br>
    <span>Angular开发环境搭建</span>
  </a>
  <a class="next" href="https://blog.niuhemoon.win/posts/tech/microstack-usage/">
    <span class="title">下一页 »</span>
    <br>
    <span>Microstack 基本使用</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://blog.niuhemoon.win">Niuhe&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '📄复制';

        function copyingDone() {
            copybutton.innerHTML = '👌🏻已复制!';
            setTimeout(() => {
                copybutton.innerHTML = '📄复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
