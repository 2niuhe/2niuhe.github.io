<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="author" content="niuhe" />
    <meta name="robots" content="index, follow"/>

    <meta property="og:title" content="正则表达式基本使用"/>
    <meta property="og:url" content="../../../../../pages/2020/10/11/Re-Usage/"/>
    <meta property="og:site_name" content="Niuhe's Blog"/>
    <meta property="og:type" content="article"/>

    <link rel="canonical" href="../../../../../pages/2020/10/11/Re-Usage/" />

    <title>正则表达式基本使用 | Niuhe's Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?">
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" />
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" />

    <link rel="stylesheet" type="text/css" href="../../../../../theme/css/main.css" />

    <script type="text/javascript">var switchTo5x=true;</script>
    <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
    <script type="text/javascript">
        stLight.options({
            publisher: "",
            doNotHash: false,
            doNotCopy: false,
            hashAddressBar: false
        });
    </script>
</head>

<body id="index">
<a class="hidden-phone" href="https://github.com/2niuhe">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub" />
</a>
    <div class="row-fluid">
        <div class="span10 offset1">
            <header id="banner" >
                <h1>
                    <a href="../../../../../">Niuhe's Blog </a>
                </h1>
                <nav class="navbar">
                    <div class="navbar-inner">
                        <ul class="nav">
                            <li ><a href="../../../../../category/angular.html">Angular</a></li>
                            <li ><a href="../../../../../category/arduino.html">Arduino</a></li>
                            <li ><a href="../../../../../category/go.html">Go</a></li>
                            <li ><a href="../../../../../category/golang.html">Golang</a></li>
                            <li ><a href="../../../../../category/kubernetes.html">Kubernetes</a></li>
                            <li ><a href="../../../../../category/life.html">Life : )</a></li>
                            <li ><a href="../../../../../category/linux.html">Linux</a></li>
                            <li ><a href="../../../../../category/openstack.html">Openstack</a></li>
                            <li ><a href="../../../../../category/others.html">Others</a></li>
                            <li class="active"><a href="../../../../../category/python.html">Python</a></li>
                            <li ><a href="../../../../../category/raspberry.html">Raspberry</a></li>
                            <li ><a href="../../../../../category/ros.html">ROS</a></li>
                        </ul>

                    </div>
                </nav>
            </header><!-- /#banner -->
        </div>
    </div>

    <div class="row-fluid">
        <div class="span10 offset1">
            <div class="row-fluid">
<div class="span10 offset1">
  <section>
    <article>
      <header>
        <h1 class="entry-title">
          <a href="../../../../../pages/2020/10/11/Re-Usage/" rel="bookmark"
             title="Permalink to 正则表达式基本使用">正则表达式基本使用</a></h1>
      </header>
      <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="../../../../../author/niuhe.html">niuhe</a>
    </address>

    in <a href="../../../../../category/python.html">Python</a>

    on 2020-10-11

        |
        tags:         <a href="../../../../../tag/re.html">Re</a>
        <a href="../../../../../tag/python.html">Python</a>


        |
        <a href="../../../../../pages/2020/10/11/Re-Usage/#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->

        <h3>基础</h3>
<h4>1.1 字符匹配</h4>
<table>
<thead>
<tr>
<th>字符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>\</td>
<td>转义符</td>
</tr>
<tr>
<td>\d</td>
<td>[0-9]。表示是一位数字。</td>
</tr>
<tr>
<td>\D</td>
<td>[^0-9]。表示除数字外的任意字符。</td>
</tr>
<tr>
<td>\w</td>
<td>[0-9a-zA-Z_]。表示数字、大小写字母和下划线。</td>
</tr>
<tr>
<td>\W</td>
<td>[^0-9a-za-z_]。非单词字符。</td>
</tr>
<tr>
<td>\s</td>
<td>[\t\v\n\r\f]。表示空白符，包括空格、水平制表符、 垂直制表符、换行符、回车符、换页符。</td>
</tr>
<tr>
<td>\S</td>
<td>[^\t\v\n\r\f]。非空白符。</td>
</tr>
<tr>
<td>.</td>
<td>[^\n\r\u2028\u2029]。通配符，表示几乎任意字符。 换行符、回车符、行分隔符和段分隔符除外。</td>
</tr>
<tr>
<td>\uxxxx</td>
<td>查找以十六进制数 xxxx 规定的 Unicode 字符。</td>
</tr>
<tr>
<td>\f</td>
<td>匹配一个换页符 (U+000C)。</td>
</tr>
<tr>
<td>\n</td>
<td>匹配一个换行符 (U+000A)。</td>
</tr>
<tr>
<td>\r</td>
<td>匹配一个回车符 (U+000D)。</td>
</tr>
<tr>
<td>\t</td>
<td>匹配一个水平制表符 (U+0009)。</td>
</tr>
<tr>
<td>\v</td>
<td>匹配一个垂直制表符 (U+000B)。</td>
</tr>
<tr>
<td>\0</td>
<td>匹配 NULL（U+0000）字符， 不要在这后面跟其它小数，因为 \0 是一个 八进制转义序列。</td>
</tr>
<tr>
<td>[\b]</td>
<td>匹配一个退格(U+0008)。（不要和\b 混淆了。）</td>
</tr>
<tr>
<td>[abc]</td>
<td>any of a, b, or c</td>
</tr>
<tr>
<td>[^abc]</td>
<td>not a, b, or c</td>
</tr>
<tr>
<td>[a-g]</td>
<td>character between a &amp; g</td>
</tr>
</tbody>
</table>
<h4>1.2 位置匹配</h4>
<table>
<thead>
<tr>
<th>字符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>\b</td>
<td>是单词边界，具体就是\w 和\W 之间的位置，也包括\w 和 ^ 之间的位置， 也包括\w 和 之间的位置。</td>
</tr>
<tr>
<td>\B</td>
<td>是\b 的反面的意思，非单词边界。例如在字符串中所有位置中，扣掉\b， 剩下的都是\B 的。</td>
</tr>
<tr>
<td>^abc$</td>
<td>字符串开始、结束的位置</td>
</tr>
</tbody>
</table>
<h4>1.3 组</h4>
<table>
<thead>
<tr>
<th>字符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>(abc)</td>
<td>capture group，捕获组</td>
</tr>
<tr>
<td>\n</td>
<td>backreference to group #n，分组引用，引用第 n 个捕获组匹配的内容, 其中 n 是正整数</td>
</tr>
<tr>
<td>(?:abc)</td>
<td>non-capturing group，非捕获组</td>
</tr>
</tbody>
</table>
<h4>1.4 先行断言</h4>
<table>
<thead>
<tr>
<th>字符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>a(?=b)</td>
<td>positive lookahead，先行断言，a 只有在 b 前面才匹配</td>
</tr>
<tr>
<td>a(?!b)</td>
<td>negative lookahead，先行否定断言，a 只有不在 b 前面才匹配</td>
</tr>
</tbody>
</table>
<h4>1.5 后行断言</h4>
<table>
<thead>
<tr>
<th>字符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>(?&lt;=b)a</td>
<td>positive lookbehind，后行断言，a 只有在 b 后面才匹配</td>
</tr>
<tr>
<td>(?&lt;!b)a</td>
<td>negative lookbehind，后行否定断言，a 只有不在 b 后面才匹配</td>
</tr>
</tbody>
</table>
<h4>1.6 量词和分支</h4>
<table>
<thead>
<tr>
<th>字符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>a*</td>
<td>0 or more</td>
</tr>
<tr>
<td>a+</td>
<td>1 or more</td>
</tr>
<tr>
<td>a?</td>
<td>0 or 1</td>
</tr>
<tr>
<td 5>a</td>
<td>exactly five</td>
</tr>
<tr>
<td 2_="2,">a</td>
<td>two or more</td>
</tr>
<tr>
<td 1_3="1,3">a</td>
<td>between one &amp; three</td>
</tr>
<tr>
<td 2_="2,">a+? a</td>
<td>match as few as possible，惰性匹配，就是尽可能少的匹配</td>
</tr>
</tbody>
</table>
<p>以下都是惰性匹配：
{m,n}?
{m,}?
??
+?
*?</p>
<h4>1.7 分支</h4>
<table>
<thead>
<tr>
<th>字符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ab|cd</td>
<td>match ab or cd，匹配'ab'或者'cd'字符子串</td>
</tr>
</tbody>
</table>
<h4>1.8 修饰符</h4>
<table>
<thead>
<tr>
<th>字符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>i</td>
<td>执行对大小写不敏感的匹配。</td>
</tr>
<tr>
<td>g</td>
<td>执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）。</td>
</tr>
<tr>
<td>m</td>
<td>执行多行匹配。</td>
</tr>
<tr>
<td>u</td>
<td>开启"Unicode 模式"，用来正确处理大于\uFFFF 的 Unicode 字符。也就是说，会正确处理四个字节的 UTF-16 编码。</td>
</tr>
<tr>
<td>s</td>
<td>允许 . 匹配换行符。</td>
</tr>
<tr>
<td>y</td>
<td>y 修饰符的作用与 g 修饰符类似，也是全局匹配，后一次匹配都从上一次匹配成功的下一个位置开始。不同之处在于，g 修饰符只要剩余位置中存在匹配就可，而 y 修饰符确保匹配必须从剩余的第一个位置开始，这也就是"粘连"的涵义</td>
</tr>
</tbody>
</table>
<h3>2. 运算符优先级</h3>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>\</td>
<td>转义符</td>
</tr>
<tr>
<td>(), (?:), (?=), []</td>
<td>圆括号和方括号</td>
</tr>
<tr>
<td n>*, +, ?, </td>
<td>限定符</td>
</tr>
<tr>
<td>^, $, \任何元字符、任何字符</td>
<td>定位点和序列（即：位置和顺序）</td>
</tr>
<tr>
<td>|</td>
<td>替换，"或"操作 字符具有高于替换运算符的优先级，使得"m|food"匹配"m"或"food"。若要匹配"mood"或"food"，请使用括号创建子表达式，从而产生"(m|f)ood"。</td>
</tr>
</tbody>
</table>
<p><img alt="正则表达式" src="/img/regex_basic.png"></p>
<h3>使用案例</h3>
<h4>一、20 个最常用的正则表达式</h4>
<div class="highlight"><pre><span></span><code><span class="n">#1</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="n">校验密码强度</span><span class="err">：</span><span class="n">密码的强度必须是包含大小写字母和数字的组合</span><span class="err">，</span><span class="n">不能使用特殊字符</span><span class="err">，</span><span class="n">长度在8</span><span class="o">-</span><span class="mi">10</span><span class="n">之间</span><span class="w"></span>
<span class="o">^</span><span class="p">(</span><span class="vm">?</span><span class="o">=</span><span class="p">.</span><span class="o">*</span><span class="err">\\</span><span class="n">d</span><span class="p">)(</span><span class="vm">?</span><span class="o">=</span><span class="p">.</span><span class="o">*[</span><span class="n">a-z</span><span class="o">]</span><span class="p">)(</span><span class="vm">?</span><span class="o">=</span><span class="p">.</span><span class="o">*[</span><span class="n">A-Z</span><span class="o">]</span><span class="p">).</span><span class="err">{</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="err">}$</span><span class="w"></span>

<span class="n">#2</span><span class="p">.</span><span class="w"> </span><span class="n">校验中文</span><span class="err">：</span><span class="n">字符串仅能是中文</span><span class="w"></span>
<span class="o">^[</span><span class="n">\\u4e00-\\u9fa5</span><span class="o">]</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="err">}$</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="mf">3.</span><span class="w"> </span><span class="n">由数字</span><span class="err">、</span><span class="mi">26</span><span class="n">个英文字母或下划线组成的字符串</span><span class="err">：</span><span class="w"></span>
<span class="o">^</span><span class="err">\\</span><span class="n">w</span><span class="o">+</span><span class="err">$</span><span class="w"></span>

<span class="n">#4</span><span class="p">.</span><span class="w"> </span><span class="n">校验E</span><span class="o">-</span><span class="n">Mail</span><span class="w"> </span><span class="n">地址</span><span class="err">：</span><span class="n">同密码一样</span><span class="err">，</span><span class="n">下面是E</span><span class="o">-</span><span class="n">mail地址合规性的正则检查语句</span><span class="err">。</span><span class="w"></span>
<span class="o">[</span><span class="n">\\w!#$%&amp;&#39;*+/=?^_`{|}~-</span><span class="o">]+</span><span class="p">(</span><span class="vm">?</span><span class="err">:\\</span><span class="p">.</span><span class="o">[</span><span class="n">\\w!#$%&amp;&#39;*+/=?^_`{|}~-</span><span class="o">]+</span><span class="p">)</span><span class="o">*</span><span class="err">@</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="o">[</span><span class="n">\\w</span><span class="o">]</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="o">[</span><span class="n">\\w-</span><span class="o">]*[</span><span class="n">\\w</span><span class="o">]</span><span class="p">)</span><span class="vm">?</span><span class="err">\\</span><span class="p">.)</span><span class="o">+[</span><span class="n">\\w</span><span class="o">]</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="o">[</span><span class="n">\\w</span>

<span class="n">#5. 校验身份证号码：下面是身份证号码的正则校验。15 或 18位。</span>
<span class="n">#15位</span>
<span class="n">^[1-9</span><span class="o">]</span><span class="err">\\</span><span class="n">d</span><span class="err">{</span><span class="mi">7</span><span class="err">}</span><span class="p">((</span><span class="mi">0</span><span class="err">\\</span><span class="n">d</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="mi">1</span><span class="o">[</span><span class="n">0-2</span><span class="o">]</span><span class="p">))((</span><span class="o">[</span><span class="n">0|1|2</span><span class="o">]</span><span class="err">\\</span><span class="n">d</span><span class="p">)</span><span class="o">|</span><span class="mi">3</span><span class="o">[</span><span class="n">0-1</span><span class="o">]</span><span class="p">)</span><span class="err">\\</span><span class="n">d</span><span class="err">{</span><span class="mi">3</span><span class="err">}$</span><span class="w"></span>
<span class="n">#18位</span><span class="w"></span>
<span class="o">^[</span><span class="n">1-9</span><span class="o">]</span><span class="err">\\</span><span class="n">d</span><span class="err">{</span><span class="mi">5</span><span class="err">}</span><span class="o">[</span><span class="n">1-9</span><span class="o">]</span><span class="err">\\</span><span class="n">d</span><span class="err">{</span><span class="mi">3</span><span class="err">}</span><span class="p">((</span><span class="mi">0</span><span class="err">\\</span><span class="n">d</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="mi">1</span><span class="o">[</span><span class="n">0-2</span><span class="o">]</span><span class="p">))((</span><span class="o">[</span><span class="n">0|1|2</span><span class="o">]</span><span class="err">\\</span><span class="n">d</span><span class="p">)</span><span class="o">|</span><span class="mi">3</span><span class="o">[</span><span class="n">0-1</span><span class="o">]</span><span class="p">)</span><span class="err">\\</span><span class="n">d</span><span class="err">{</span><span class="mi">3</span><span class="err">}</span><span class="p">(</span><span class="o">[</span><span class="n">0-9</span><span class="o">]|</span><span class="n">X</span><span class="p">)</span><span class="err">$</span><span class="w"></span>

<span class="n">#6</span><span class="p">.</span><span class="w"> </span><span class="n">校验日期</span><span class="err">：“</span><span class="n">yyyy</span><span class="o">-</span><span class="n">mm</span><span class="o">-</span><span class="n">dd</span><span class="err">“</span><span class="w"> </span><span class="n">格式的日期校验</span><span class="err">，</span><span class="n">已考虑平闰年</span><span class="err">。</span><span class="w"></span>
<span class="o">^</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="p">(</span><span class="vm">?</span><span class="err">!</span><span class="mi">0000</span><span class="p">)</span><span class="o">[</span><span class="n">0-9</span><span class="o">]</span><span class="err">{</span><span class="mi">4</span><span class="err">}</span><span class="o">-</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="mi">0</span><span class="o">[</span><span class="n">1-9</span><span class="o">]|</span><span class="mi">1</span><span class="o">[</span><span class="n">0-2</span><span class="o">]</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="mi">0</span><span class="o">[</span><span class="n">1-9</span><span class="o">]|</span><span class="mi">1</span><span class="o">[</span><span class="n">0-9</span><span class="o">]|</span><span class="mi">2</span><span class="o">[</span><span class="n">0-8</span><span class="o">]</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="mi">0</span><span class="o">[</span><span class="n">13-9</span><span class="o">]|</span><span class="mi">1</span><span class="o">[</span><span class="n">0-2</span><span class="o">]</span><span class="p">)</span><span class="o">-</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="mi">29</span><span class="o">|</span><span class="mi">30</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="mi">0</span><span class="o">[</span><span class="n">13578</span><span class="o">]|</span><span class="mi">1</span><span class="o">[</span><span class="n">02</span><span class="o">]</span><span class="p">)</span><span class="o">-</span><span class="mi">31</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="o">[</span><span class="n">0-9</span><span class="o">]</span><span class="err">{</span><span class="mi">2</span><span class="err">}</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="mi">0</span><span class="o">[</span><span class="n">48</span><span class="o">]|[</span><span class="n">2468</span><span class="o">][</span><span class="n">048</span><span class="o">]|[</span><span class="n">13579</span><span class="o">][</span><span class="n">26</span><span class="o">]</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="mi">0</span><span class="o">[</span><span class="n">48</span><span class="o">]|[</span><span class="n">2468</span><span class="o">][</span><span class="n">048</span><span class="o">]|[</span><span class="n">13579</span><span class="o">][</span><span class="n">26</span><span class="o">]</span><span class="p">)</span><span class="mi">00</span><span class="p">)</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">29</span><span class="p">)</span><span class="err">$</span><span class="w"></span>

<span class="n">#7</span><span class="p">.</span><span class="w"> </span><span class="n">校验金额</span><span class="err">：</span><span class="n">金额校验</span><span class="err">，</span><span class="n">精确到2位小数</span><span class="err">。</span><span class="w"></span>
<span class="o">^[</span><span class="n">0-9</span><span class="o">]+</span><span class="p">(.</span><span class="o">[</span><span class="n">0-9</span><span class="o">]</span><span class="err">{</span><span class="mi">2</span><span class="err">}</span><span class="p">)</span><span class="vm">?</span><span class="err">$</span><span class="w"></span>

<span class="n">#8</span><span class="p">.</span><span class="w"> </span><span class="n">校验手机号</span><span class="err">：</span><span class="n">下面是国内</span><span class="w"> </span><span class="mi">13</span><span class="err">、</span><span class="mi">15</span><span class="err">、</span><span class="mi">18</span><span class="n">开头的手机号正则表达式</span><span class="err">。</span><span class="w"></span>
<span class="o">^</span><span class="p">(</span><span class="mi">13</span><span class="o">[</span><span class="n">0-9</span><span class="o">]|</span><span class="mi">14</span><span class="o">[</span><span class="n">5|7</span><span class="o">]|</span><span class="mi">15</span><span class="o">[</span><span class="n">0|1|2|3|5|6|7|8|9</span><span class="o">]|</span><span class="mi">18</span><span class="o">[</span><span class="n">0|1|2|3|5|6|7|8|9</span><span class="o">]</span><span class="p">)</span><span class="err">\\</span><span class="n">d</span><span class="err">{</span><span class="mi">8</span><span class="err">}$</span><span class="w"></span>

<span class="n">#9</span><span class="p">.</span><span class="w"> </span><span class="n">判断IE的版本</span><span class="err">：</span><span class="n">IE目前还没被完全取代</span><span class="err">，</span><span class="n">很多页面还是需要做版本兼容</span><span class="err">，</span><span class="n">下面是IE版本检查的表达式</span><span class="err">。</span><span class="w"></span>
<span class="o">^</span><span class="p">.</span><span class="o">*</span><span class="n">MSIE</span><span class="w"> </span><span class="o">[</span><span class="n">5-8</span><span class="o">]</span><span class="p">(</span><span class="vm">?</span><span class="err">:\\</span><span class="p">.</span><span class="o">[</span><span class="n">0-9</span><span class="o">]+</span><span class="p">)</span><span class="vm">?</span><span class="p">(</span><span class="vm">?</span><span class="err">!</span><span class="p">.</span><span class="o">*</span><span class="n">Trident</span><span class="err">\\</span><span class="o">/[</span><span class="n">5-9</span><span class="o">]</span><span class="err">\\</span><span class="mf">.0</span><span class="p">).</span><span class="o">*</span><span class="err">$</span><span class="w"></span>

<span class="n">#10</span><span class="p">.</span><span class="w"> </span><span class="n">校验IP</span><span class="o">-</span><span class="n">v4地址</span><span class="err">：</span><span class="n">IP4</span><span class="w"> </span><span class="n">正则语句</span><span class="w"></span>
<span class="err">\\</span><span class="n">b</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="mi">25</span><span class="o">[</span><span class="n">0-5</span><span class="o">]|</span><span class="mi">2</span><span class="o">[</span><span class="n">0-4</span><span class="o">][</span><span class="n">0-9</span><span class="o">]|[</span><span class="n">01</span><span class="o">]</span><span class="vm">?</span><span class="o">[</span><span class="n">0-9</span><span class="o">][</span><span class="n">0-9</span><span class="o">]</span><span class="vm">?</span><span class="p">)</span><span class="err">\\</span><span class="p">.)</span><span class="err">{</span><span class="mi">3</span><span class="err">}</span><span class="p">(</span><span class="vm">?</span><span class="err">:</span><span class="mi">25</span><span class="o">[</span><span class="n">0-5</span><span class="o">]|</span><span class="mi">2</span><span class="o">[</span><span class="n">0-4</span><span class="o">][</span><span class="n">0-9</span><span class="o">]|[</span><span class="n">01</span><span class="o">]</span><span class="vm">?</span><span class="o">[</span><span class="n">0-9</span><span class="o">][</span><span class="n">0-9</span><span class="o">]</span><span class="vm">?</span><span class="p">)</span><span class="err">\\</span><span class="n">b</span><span class="w"></span>

<span class="n">#11</span><span class="p">.</span><span class="w"> </span><span class="n">校验IP</span><span class="o">-</span><span class="n">v6地址</span><span class="err">：</span><span class="n">IP6</span><span class="w"> </span><span class="n">正则语句</span><span class="err">。</span><span class="w"></span>
<span class="p">((</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}:</span><span class="p">)</span><span class="err">{</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="err">}</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}</span><span class="o">|</span><span class="p">(</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}:</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="err">}:</span><span class="o">|</span><span class="p">(</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}:</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="err">}:</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}</span><span class="o">|</span><span class="p">(</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}:</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="err">}</span><span class="p">(</span><span class="err">:</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="err">}</span><span class="o">|</span><span class="p">(</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}:</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}</span><span class="p">(</span><span class="err">:</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="err">}</span><span class="o">|</span><span class="p">(</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}:</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="err">}</span><span class="p">(</span><span class="err">:</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}</span><span class="o">|</span><span class="p">(</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}:</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="err">}</span><span class="p">(</span><span class="err">:</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="err">}</span><span class="o">|[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}:</span><span class="p">((</span><span class="err">:</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="err">}</span><span class="p">)</span><span class="o">|</span><span class="err">:</span><span class="p">((</span><span class="err">:</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="err">}</span><span class="o">|</span><span class="err">:</span><span class="p">)</span><span class="o">|</span><span class="nl">fe80</span><span class="p">:(</span><span class="err">:</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="err">}</span><span class="p">)</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="err">}</span><span class="o">%[</span><span class="n">0-9a-zA-Z</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="err">}</span><span class="o">|::</span><span class="p">(</span><span class="n">ffff</span><span class="p">(</span><span class="err">:</span><span class="mi">0</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}</span><span class="p">)</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="err">}:</span><span class="p">)</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="err">}</span><span class="p">((</span><span class="mi">25</span><span class="o">[</span><span class="n">0-5</span><span class="o">]|</span><span class="p">(</span><span class="mi">2</span><span class="o">[</span><span class="n">0-4</span><span class="o">]|</span><span class="mi">1</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="err">}</span><span class="o">[</span><span class="n">0-9</span><span class="o">]</span><span class="p">)</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="err">}</span><span class="o">[</span><span class="n">0-9</span><span class="o">]</span><span class="p">)</span><span class="err">\\</span><span class="p">.)</span><span class="err">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="err">}</span><span class="p">(</span><span class="mi">25</span><span class="o">[</span><span class="n">0-5</span><span class="o">]|</span><span class="p">(</span><span class="mi">2</span><span class="o">[</span><span class="n">0-4</span><span class="o">]|</span><span class="mi">1</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="err">}</span><span class="o">[</span><span class="n">0-9</span><span class="o">]</span><span class="p">)</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="err">}</span><span class="o">[</span><span class="n">0-9</span><span class="o">]</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="o">[</span><span class="n">0-9a-fA-F</span><span class="o">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}:</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="err">}:</span><span class="p">((</span><span class="mi">25</span><span class="o">[</span><span class="n">0-5</span><span class="o">]|</span><span class="p">(</span><span class="mi">2</span><span class="o">[</span><span class="n">0-4</span><span class="o">]|</span><span class="mi">1</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="err">}</span><span class="o">[</span><span class="n">0-9</span><span class="o">]</span><span class="p">)</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="err">}</span><span class="o">[</span><span class="n">0-9</span><span class="o">]</span><span class="p">)</span><span class="err">\\</span><span class="p">.)</span><span class="err">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="err">}</span><span class="p">(</span><span class="mi">25</span><span class="o">[</span><span class="n">0-5</span><span class="o">]|</span><span class="p">(</span><span class="mi">2</span><span class="o">[</span><span class="n">0-4</span><span class="o">]|</span><span class="mi">1</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="err">}</span><span class="o">[</span><span class="n">0-9</span><span class="o">]</span><span class="p">)</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="err">}</span><span class="o">[</span><span class="n">0-9</span><span class="o">]</span><span class="p">))</span><span class="w"></span>

<span class="n">#12</span><span class="p">.</span><span class="w"> </span><span class="n">检查URL的前缀</span><span class="err">：</span><span class="n">应用开发中很多时候需要区分请求是HTTPS还是HTTP</span><span class="err">，</span><span class="n">通过下面的表达式可以取出一个url的前缀然后再逻辑判断</span><span class="err">。</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="err">!</span><span class="n">s</span><span class="p">.</span><span class="k">match</span><span class="p">(</span><span class="o">/^[</span><span class="n">a-zA-Z</span><span class="o">]+</span><span class="err">:\\</span><span class="o">/</span><span class="err">\\</span><span class="o">//</span><span class="p">))</span><span class="w"></span>
<span class="err">{</span><span class="w"></span>
<span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;http://&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w"></span>
<span class="err">}</span><span class="w"></span>

<span class="n">#13</span><span class="p">.</span><span class="w"> </span><span class="n">提取URL链接</span><span class="err">：</span><span class="n">下面的这个表达式可以筛选出一段文本中的URL</span><span class="err">。</span><span class="w"></span>
<span class="o">^</span><span class="p">(</span><span class="n">f</span><span class="o">|</span><span class="n">ht</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="err">}</span><span class="p">(</span><span class="n">tp</span><span class="o">|</span><span class="n">tps</span><span class="p">)</span><span class="err">:\\</span><span class="o">/</span><span class="err">\\</span><span class="o">/</span><span class="p">(</span><span class="o">[</span><span class="n">\\w-</span><span class="o">]+</span><span class="err">\\</span><span class="p">.)</span><span class="o">+[</span><span class="n">\\w-</span><span class="o">]+</span><span class="p">(</span><span class="err">\\</span><span class="o">/[</span><span class="n">\\w- ./?%&amp;=</span><span class="o">]*</span><span class="p">)</span><span class="vm">?</span><span class="w"></span>

<span class="n">#14</span><span class="p">.</span><span class="w"> </span><span class="n">文件路径及扩展名校验</span><span class="err">：</span><span class="n">下面的这个表达式可以筛选出一段文本中的URL</span><span class="err">。</span><span class="w"></span>
<span class="o">^</span><span class="p">(</span><span class="n">f</span><span class="o">|</span><span class="n">ht</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="err">}</span><span class="p">(</span><span class="n">tp</span><span class="o">|</span><span class="n">tps</span><span class="p">)</span><span class="err">:\\</span><span class="o">/</span><span class="err">\\</span><span class="o">/</span><span class="p">(</span><span class="o">[</span><span class="n">\\w-</span><span class="o">]+</span><span class="err">\\</span><span class="p">.)</span><span class="o">+[</span><span class="n">\\w-</span><span class="o">]+</span><span class="p">(</span><span class="err">\\</span><span class="o">/[</span><span class="n">\\w- ./?%&amp;=</span><span class="o">]*</span><span class="p">)</span><span class="vm">?</span><span class="w"></span>

<span class="n">#14</span><span class="p">.</span><span class="w"> </span><span class="n">文件路径及扩展名校验</span><span class="err">：</span><span class="n">验证文件路径和扩展名</span><span class="w"></span>
<span class="o">^</span><span class="p">(</span><span class="o">[</span><span class="n">a-zA-Z</span><span class="o">]</span><span class="err">\\:</span><span class="o">|</span><span class="err">\\\\</span><span class="p">)</span><span class="err">\\\\</span><span class="p">(</span><span class="o">[</span><span class="n">^\\\\</span><span class="o">]+</span><span class="err">\\\\</span><span class="p">)</span><span class="o">*[</span><span class="n">^\\/:*?&quot;&lt;&gt;|</span><span class="o">]+</span><span class="err">\\</span><span class="p">.</span><span class="n">txt</span><span class="p">(</span><span class="n">l</span><span class="p">)</span><span class="vm">?</span><span class="err">$</span><span class="w"></span>

<span class="n">#15</span><span class="p">.</span><span class="w"> </span><span class="n">提取Color</span><span class="w"> </span><span class="n">Hex</span><span class="w">  </span><span class="n">Codes</span><span class="err">：</span><span class="n">有时需要抽取网页中的颜色代码</span><span class="err">，</span><span class="n">可以使用下面的表达式</span><span class="err">。</span><span class="w"></span>
<span class="err">\\#</span><span class="p">(</span><span class="o">[</span><span class="n">a-fA-F</span><span class="o">]|[</span><span class="n">0-9</span><span class="o">]</span><span class="p">)</span><span class="err">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="err">}</span><span class="w"></span>

<span class="n">#16</span><span class="p">.</span><span class="w"> </span><span class="n">提取网页图片</span><span class="err">：</span><span class="n">假若你想提取网页中所有图片信息</span><span class="err">，</span><span class="n">可以利用下面的表达式</span><span class="err">。</span><span class="w"></span>
<span class="err">\\</span><span class="o">&lt;</span><span class="w"> </span><span class="o">*[</span><span class="n">img</span><span class="o">][</span><span class="n">^\\&gt;</span><span class="o">]*[</span><span class="n">src</span><span class="o">]</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="o">*[</span><span class="n">\\&quot;\\&#39;</span><span class="o">]</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="err">}</span><span class="p">(</span><span class="o">[</span><span class="n">^\\&quot;\\&#39;\\ &gt;</span><span class="o">]*</span><span class="p">)</span><span class="w"></span>

<span class="n">#17</span><span class="p">.</span><span class="w"> </span><span class="n">提取页面超链接</span><span class="err">：</span><span class="n">提取html中的超链接</span><span class="err">。</span><span class="w"></span>
<span class="p">(</span><span class="o">&lt;</span><span class="p">;</span><span class="n">a</span><span class="err">\\</span><span class="n">s</span><span class="o">*</span><span class="p">(</span><span class="vm">?</span><span class="err">!</span><span class="p">.</span><span class="o">*</span><span class="err">\\</span><span class="n">brel</span><span class="o">=</span><span class="p">)</span><span class="o">[</span><span class="n">^&gt;;</span><span class="o">]*</span><span class="p">)(</span><span class="n">href</span><span class="o">=</span><span class="ss">&quot;https?://)((?!(?:(?:www\\.)?&#39;.implode(&#39;|(?:www\\.)?&#39;, $follow_list)</span>

<span class="ss">#18. 精炼CSS：通过下面的表达式，可以搜索相同属性值的CSS，从而达到精炼代码的目的。</span>
<span class="ss">^\\s*[a-zA-Z\\-]+\\s*[:]{1}\\s[a-zA-Z0-9\\s.#]+[;]{1}</span>

<span class="ss">#19. 抽取注释：如果你需要移除HMTL中的注释，可以使用如下的表达式。</span>
<span class="ss">&lt;!--(.*?)--&gt;</span>

<span class="ss">#20. 匹配HTML标签：通过下面的表达式可以匹配出HTML中的标签。</span>
<span class="ss">&lt;/?\\w+((\\s+\\w+(\\s*=\\s*(?:&quot;</span><span class="p">.</span><span class="o">*</span><span class="vm">?</span><span class="ss">&quot;|&#39;.*?&#39;|[\\^&#39;&quot;</span><span class="o">&gt;</span><span class="err">\\</span><span class="n">s</span><span class="err">]</span><span class="o">+</span><span class="p">))</span><span class="vm">?</span><span class="p">)</span><span class="o">+</span><span class="err">\\</span><span class="n">s</span><span class="o">*|</span><span class="err">\\</span><span class="n">s</span><span class="o">*</span><span class="p">)</span><span class="o">/</span><span class="vm">?</span><span class="o">&gt;</span><span class="w"></span>
</code></pre></div>


<h4>二、校验数字表达式</h4>
<div class="highlight"><pre><span></span><code><span class="mi">1</span> <span class="err">数字：</span><span class="o">^</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="err">$</span>

<span class="mi">2</span> <span class="n">n位的数字</span><span class="err">：</span><span class="o">^</span><span class="err">\</span><span class="n">d</span><span class="err">{</span><span class="n">n</span><span class="err">}$</span>

<span class="mi">3</span> <span class="err">至少</span><span class="n">n位的数字</span><span class="err">：</span><span class="o">^</span><span class="err">\</span><span class="n">d</span><span class="err">{</span><span class="n">n</span><span class="p">,</span><span class="err">}$</span>

<span class="mi">4</span> <span class="n">m</span><span class="o">-</span><span class="n">n位的数字</span><span class="err">：</span><span class="o">^</span><span class="err">\</span><span class="n">d</span><span class="err">{</span><span class="n">m</span><span class="p">,</span><span class="n">n</span><span class="err">}$</span>

<span class="mi">5</span> <span class="err">零和非零开头的数字：</span><span class="o">^</span><span class="p">(</span><span class="mi">0</span><span class="o">|</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="p">)</span><span class="err">$</span>

<span class="mi">6</span> <span class="err">非零开头的最多带两位小数的数字：</span><span class="o">^</span><span class="p">([</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="p">)</span><span class="o">+</span><span class="p">(.[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="err">}</span><span class="p">)</span><span class="o">?</span><span class="err">$</span>

<span class="mi">7</span> <span class="err">带</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="err">位小数的正数或负数：</span><span class="o">^</span><span class="p">(</span><span class="err">\</span><span class="o">-</span><span class="p">)</span><span class="o">?</span><span class="err">\</span><span class="n">d</span><span class="o">+</span><span class="p">(</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="err">}</span><span class="p">)</span><span class="o">?</span><span class="err">$</span>

<span class="mi">8</span> <span class="err">正数、负数、和小数：</span><span class="o">^</span><span class="p">(</span><span class="err">\</span><span class="o">-|</span><span class="err">\</span><span class="o">+</span><span class="p">)</span><span class="o">?</span><span class="err">\</span><span class="n">d</span><span class="o">+</span><span class="p">(</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">+</span><span class="p">)</span><span class="o">?</span><span class="err">$</span>

<span class="mi">9</span> <span class="err">有两位小数的正实数：</span><span class="o">^</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="p">(.[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">{</span><span class="mi">2</span><span class="err">}</span><span class="p">)</span><span class="o">?</span><span class="err">$</span>

<span class="mi">10</span> <span class="err">有</span><span class="mi">1</span><span class="o">~</span><span class="mi">3</span><span class="err">位小数的正实数：</span><span class="o">^</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="p">(.[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="err">}</span><span class="p">)</span><span class="o">?</span><span class="err">$</span>

<span class="mi">11</span> <span class="err">非零的正整数：</span><span class="o">^</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="err">$</span> <span class="err">或</span> <span class="o">^</span><span class="p">([</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="p">)</span><span class="err">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="err">}$</span> <span class="err">或</span> <span class="o">^</span><span class="err">\</span><span class="o">+?</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="err">$</span>

<span class="mi">12</span> <span class="err">非零的负整数：</span><span class="o">^</span><span class="err">\</span><span class="o">-</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">][]</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="err">&quot;</span><span class="o">*</span><span class="err">$</span> <span class="err">或</span> <span class="o">^-</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="err">$</span>

<span class="mi">13</span> <span class="err">非负整数：</span><span class="o">^</span><span class="err">\</span><span class="n">d</span><span class="o">+</span><span class="err">$</span> <span class="err">或</span> <span class="o">^</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="o">*|</span><span class="mi">0</span><span class="err">$</span>

<span class="mi">14</span> <span class="err">非正整数：</span><span class="o">^-</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="o">*|</span><span class="mi">0</span><span class="err">$</span> <span class="err">或</span> <span class="o">^</span><span class="p">((</span><span class="o">-</span><span class="err">\</span><span class="n">d</span><span class="o">+</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="mi">0</span><span class="o">+</span><span class="p">))</span><span class="err">$</span>

<span class="mi">15</span> <span class="err">非负浮点数：</span><span class="o">^</span><span class="err">\</span><span class="n">d</span><span class="o">+</span><span class="p">(</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">+</span><span class="p">)</span><span class="o">?</span><span class="err">$</span> <span class="err">或</span> <span class="o">^</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">*|</span><span class="mi">0</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="o">*|</span><span class="mi">0</span><span class="o">?</span><span class="err">\</span><span class="p">.</span><span class="mi">0</span><span class="o">+|</span><span class="mi">0</span><span class="err">$</span>

<span class="mi">16</span> <span class="err">非正浮点数：</span><span class="o">^</span><span class="p">((</span><span class="o">-</span><span class="err">\</span><span class="n">d</span><span class="o">+</span><span class="p">(</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">+</span><span class="p">)</span><span class="o">?</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="mi">0</span><span class="o">+</span><span class="p">(</span><span class="err">\</span><span class="p">.</span><span class="mi">0</span><span class="o">+</span><span class="p">)</span><span class="o">?</span><span class="p">))</span><span class="err">$</span> <span class="err">或</span> <span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="p">([</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">*|</span><span class="mi">0</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="p">))</span><span class="o">|</span><span class="mi">0</span><span class="o">?</span><span class="err">\</span><span class="p">.</span><span class="mi">0</span><span class="o">+|</span><span class="mi">0</span><span class="err">$</span>

<span class="mi">17</span> <span class="err">正浮点数：</span><span class="o">^</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">*|</span><span class="mi">0</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="err">$</span> <span class="err">或</span> <span class="o">^</span><span class="p">(([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="err">\</span><span class="p">.[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="p">)</span><span class="o">|</span><span class="p">([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="err">\</span><span class="p">.[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="p">)</span><span class="o">|</span><span class="p">([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="p">))</span><span class="err">$</span>

<span class="mi">18</span> <span class="err">负浮点数：</span><span class="o">^-</span><span class="p">([</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">*|</span><span class="mi">0</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="p">)</span><span class="err">$</span> <span class="err">或</span> <span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="p">(([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="err">\</span><span class="p">.[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="p">)</span><span class="o">|</span><span class="p">([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="err">\</span><span class="p">.[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="p">)</span><span class="o">|</span><span class="p">([</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">*</span><span class="p">)))</span><span class="err">$</span>

<span class="mi">19</span> <span class="err">浮点数：</span><span class="o">^</span><span class="p">(</span><span class="o">-?</span><span class="err">\</span><span class="n">d</span><span class="o">+</span><span class="p">)(</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">+</span><span class="p">)</span><span class="o">?</span><span class="err">$</span> <span class="err">或</span> <span class="o">^-?</span><span class="p">([</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">*|</span><span class="mi">0</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">*</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="o">*|</span><span class="mi">0</span><span class="o">?</span><span class="err">\</span><span class="p">.</span><span class="mi">0</span><span class="o">+|</span><span class="mi">0</span><span class="p">)</span><span class="err">$</span>
</code></pre></div>


<h4>三、校验字符的表达式</h4>
<div class="highlight"><pre><span></span><code><span class="mi">1</span> <span class="err">汉字：</span><span class="o">^</span><span class="p">[</span><span class="err">\</span><span class="n">u4e00</span><span class="o">-</span><span class="err">\</span><span class="n">u9fa5</span><span class="p">]</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="err">}$</span>

<span class="mi">2</span> <span class="err">英文和数字：</span><span class="o">^</span><span class="p">[</span><span class="n">A</span><span class="o">-</span><span class="n">Za</span><span class="o">-</span><span class="n">z0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="err">$</span> <span class="err">或</span> <span class="o">^</span><span class="p">[</span><span class="n">A</span><span class="o">-</span><span class="n">Za</span><span class="o">-</span><span class="n">z0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">{</span><span class="mi">4</span><span class="p">,</span><span class="mi">40</span><span class="err">}$</span>

<span class="mi">3</span> <span class="err">长度为</span><span class="mi">3</span><span class="o">-</span><span class="mi">20</span><span class="err">的所有字符：</span><span class="o">^</span><span class="p">.</span><span class="err">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">20</span><span class="err">}$</span>

<span class="mi">4</span> <span class="err">由</span><span class="mi">26</span><span class="err">个英文字母组成的字符串：</span><span class="o">^</span><span class="p">[</span><span class="n">A</span><span class="o">-</span><span class="n">Za</span><span class="o">-</span><span class="n">z</span><span class="p">]</span><span class="o">+</span><span class="err">$</span>

<span class="mi">5</span> <span class="err">由</span><span class="mi">26</span><span class="err">个大写英文字母组成的字符串：</span><span class="o">^</span><span class="p">[</span><span class="n">A</span><span class="o">-</span><span class="n">Z</span><span class="p">]</span><span class="o">+</span><span class="err">$</span>

<span class="mi">6</span> <span class="err">由</span><span class="mi">26</span><span class="err">个小写英文字母组成的字符串：</span><span class="o">^</span><span class="p">[</span><span class="n">a</span><span class="o">-</span><span class="n">z</span><span class="p">]</span><span class="o">+</span><span class="err">$</span>

<span class="mi">7</span> <span class="err">由数字和</span><span class="mi">26</span><span class="err">个英文字母组成的字符串：</span><span class="o">^</span><span class="p">[</span><span class="n">A</span><span class="o">-</span><span class="n">Za</span><span class="o">-</span><span class="n">z0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="err">$</span>

<span class="mi">8</span> <span class="err">由数字、</span><span class="mi">26</span><span class="err">个英文字母或者下划线组成的字符串：</span><span class="o">^</span><span class="err">\</span><span class="n">w</span><span class="o">+</span><span class="err">$</span> <span class="err">或</span> <span class="o">^</span><span class="err">\</span><span class="n">w</span><span class="err">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">20</span><span class="err">}$</span>

<span class="mi">9</span> <span class="err">中文、英文、数字包括下划线：</span><span class="o">^</span><span class="p">[</span><span class="err">\</span><span class="n">u4E00</span><span class="o">-</span><span class="err">\</span><span class="n">u9FA5A</span><span class="o">-</span><span class="n">Za</span><span class="o">-</span><span class="n">z0</span><span class="o">-</span><span class="mi">9</span><span class="n">_</span><span class="p">]</span><span class="o">+</span><span class="err">$</span>

<span class="mi">10</span> <span class="err">中文、英文、数字但不包括下划线等符号：</span><span class="o">^</span><span class="p">[</span><span class="err">\</span><span class="n">u4E00</span><span class="o">-</span><span class="err">\</span><span class="n">u9FA5A</span><span class="o">-</span><span class="n">Za</span><span class="o">-</span><span class="n">z0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="err">$</span> <span class="err">或</span> <span class="o">^</span><span class="p">[</span><span class="err">\</span><span class="n">u4E00</span><span class="o">-</span><span class="err">\</span><span class="n">u9FA5A</span><span class="o">-</span><span class="n">Za</span><span class="o">-</span><span class="n">z0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">{</span><span class="mi">2</span><span class="p">,</span><span class="mi">20</span><span class="err">}$</span>

<span class="mi">11</span> <span class="err">可以输入含有</span><span class="o">^%&amp;</span><span class="s1">&#39;,;=?$\&quot;等字符：[^%&amp;&#39;</span><span class="p">,;</span><span class="o">=?</span><span class="err">$\</span><span class="n">x22</span><span class="p">]</span><span class="o">+</span>

<span class="mi">12</span> <span class="err">禁止输入含有</span><span class="o">~</span><span class="err">的字符：</span><span class="p">[</span><span class="o">^~</span><span class="err">\</span><span class="n">x22</span><span class="p">]</span><span class="o">+</span>
</code></pre></div>


<h4>四、特殊需求表达式</h4>
<div class="highlight"><pre><span></span><code><span class="mi">1</span> <span class="n">Email地址</span><span class="err">：</span><span class="o">^</span><span class="err">\</span><span class="n">w</span><span class="o">+</span><span class="p">([</span><span class="o">-+</span><span class="p">.]</span><span class="err">\</span><span class="n">w</span><span class="o">+</span><span class="p">)</span><span class="o">*@</span><span class="err">\</span><span class="n">w</span><span class="o">+</span><span class="p">([</span><span class="o">-</span><span class="p">.]</span><span class="err">\</span><span class="n">w</span><span class="o">+</span><span class="p">)</span><span class="o">*</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">w</span><span class="o">+</span><span class="p">([</span><span class="o">-</span><span class="p">.]</span><span class="err">\</span><span class="n">w</span><span class="o">+</span><span class="p">)</span><span class="o">*</span><span class="err">$</span>

<span class="mi">2</span> <span class="err">域名：</span><span class="p">[</span><span class="n">a</span><span class="o">-</span><span class="n">zA</span><span class="o">-</span><span class="n">Z0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="o">-</span><span class="n">a</span><span class="o">-</span><span class="n">zA</span><span class="o">-</span><span class="n">Z0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">62</span><span class="err">}</span><span class="p">(</span><span class="o">/</span><span class="p">.[</span><span class="n">a</span><span class="o">-</span><span class="n">zA</span><span class="o">-</span><span class="n">Z0</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="o">-</span><span class="n">a</span><span class="o">-</span><span class="n">zA</span><span class="o">-</span><span class="n">Z0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">62</span><span class="err">}</span><span class="p">)</span><span class="o">+/</span><span class="p">.</span><span class="o">?</span>

<span class="mi">3</span> <span class="n">InternetURL</span><span class="err">：</span><span class="p">[</span><span class="n">a</span><span class="o">-</span><span class="n">zA</span><span class="o">-</span><span class="n">z</span><span class="p">]</span><span class="o">+</span><span class="p">:</span><span class="o">//</span><span class="p">[</span><span class="o">^</span><span class="err">\</span><span class="n">s</span><span class="p">]</span><span class="o">*</span> <span class="err">或</span> <span class="o">^</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="p">([</span><span class="err">\</span><span class="n">w</span><span class="o">-</span><span class="p">]</span><span class="o">+</span><span class="err">\</span><span class="p">.)</span><span class="o">+</span><span class="p">[</span><span class="err">\</span><span class="n">w</span><span class="o">-</span><span class="p">]</span><span class="o">+</span><span class="p">(</span><span class="o">/</span><span class="p">[</span><span class="err">\</span><span class="n">w</span><span class="o">-</span><span class="p">.</span><span class="o">/?%&amp;=</span><span class="p">]</span><span class="o">*</span><span class="p">)</span><span class="o">?</span><span class="err">$</span>

<span class="mi">4</span> <span class="err">手机号码：</span><span class="o">^</span><span class="p">(</span><span class="mi">13</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">|</span><span class="mi">14</span><span class="p">[</span><span class="mi">5</span><span class="o">|</span><span class="mi">7</span><span class="p">]</span><span class="o">|</span><span class="mi">15</span><span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">|</span><span class="mi">2</span><span class="o">|</span><span class="mi">3</span><span class="o">|</span><span class="mi">5</span><span class="o">|</span><span class="mi">6</span><span class="o">|</span><span class="mi">7</span><span class="o">|</span><span class="mi">8</span><span class="o">|</span><span class="mi">9</span><span class="p">]</span><span class="o">|</span><span class="mi">18</span><span class="p">[</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">|</span><span class="mi">2</span><span class="o">|</span><span class="mi">3</span><span class="o">|</span><span class="mi">5</span><span class="o">|</span><span class="mi">6</span><span class="o">|</span><span class="mi">7</span><span class="o">|</span><span class="mi">8</span><span class="o">|</span><span class="mi">9</span><span class="p">])</span><span class="err">\</span><span class="n">d</span><span class="err">{</span><span class="mi">8</span><span class="err">}$</span>

<span class="mi">5</span> <span class="err">电话号码</span><span class="p">(</span><span class="ss">&quot;XXX-XXXXXXX&quot;</span><span class="err">、</span><span class="ss">&quot;XXXX-XXXXXXXX&quot;</span><span class="err">、</span><span class="ss">&quot;XXX-XXXXXXX&quot;</span><span class="err">、</span><span class="ss">&quot;XXX-XXXXXXXX&quot;</span><span class="err">、</span><span class="ss">&quot;XXXXXXX&quot;</span><span class="err">和</span><span class="ss">&quot;XXXXXXXX)：^(\(\d{3,4}-)|\d{3.4}-)?\d{7,8}$</span>

<span class="ss">6 国内电话号码(0511-4405222、021-87888822)：\d{3}-\d{8}|\d{4}-\d{7}</span>

<span class="ss">7 身份证号(15位、18位数字)：^\d{15}|\d{18}$</span>

<span class="ss">8 短身份证号码(数字、字母x结尾)：^([0-9]){7,18}(x|X)?$ 或 ^\d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$</span>

<span class="ss">9 帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$</span>

<span class="ss">10 密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：^[a-zA-Z]\w{5,17}$</span>

<span class="ss">11 强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$</span>

<span class="ss">12 日期格式：^\d{4}-\d{1,2}-\d{1,2}</span>

<span class="ss">13 一年的12个月(01～09和1～12)：^(0?[1-9]|1[0-2])$</span>

<span class="ss">14 一个月的31天(01～09和1～31)：^((0?[1-9])|((1|2)[0-9])|30|31)$</span>

<span class="ss">15 钱的输入格式：</span>

<span class="ss">16 1.有四种钱的表示形式我们可以接受:&quot;</span><span class="mi">10000</span><span class="p">.</span><span class="mi">00</span><span class="ss">&quot; 和 &quot;</span><span class="mi">10</span><span class="p">,</span><span class="mi">000</span><span class="p">.</span><span class="mi">00</span><span class="ss">&quot;, 和没有 &quot;</span><span class="err">分</span><span class="ss">&quot; 的 &quot;</span><span class="mi">10000</span><span class="ss">&quot; 和 &quot;</span><span class="mi">10</span><span class="p">,</span><span class="mi">000</span><span class="ss">&quot;：^[1-9][0-9]*$</span>

<span class="ss">17 2.这表示任意一个不以0开头的数字,但是,这也意味着一个字符&quot;</span><span class="mi">0</span><span class="ss">&quot;不通过,所以我们采用下面的形式：^(0|[1-9][0-9]*)$</span>

<span class="ss">18 3.一个0或者一个不以0开头的数字.我们还可以允许开头有一个负号：^(0|-?[1-9][0-9]*)$</span>

<span class="ss">19 4.这表示一个0或者一个可能为负的开头不为0的数字.让用户以0开头好了.把负号的也去掉,因为钱总不能是负的吧.下面我们要加的是说明可能的小数部分：^[0-9]+(.[0-9]+)?$</span>

<span class="ss">20 5.必须说明的是,小数点后面至少应该有1位数,所以&quot;</span><span class="mi">10</span><span class="p">.</span><span class="ss">&quot;是不通过的,但是 &quot;</span><span class="mi">10</span><span class="ss">&quot; 和 &quot;</span><span class="mi">10</span><span class="p">.</span><span class="mi">2</span><span class="ss">&quot; 是通过的：^[0-9]+(.[0-9]{2})?$</span>

<span class="ss">21 6.这样我们规定小数点后面必须有两位,如果你认为太苛刻了,可以这样：^[0-9]+(.[0-9]{1,2})?$</span>

<span class="ss">22 7.这样就允许用户只写一位小数.下面我们该考虑数字中的逗号了,我们可以这样：^[0-9]{1,3}(,[0-9]{3})*(.[0-9]{1,2})?$</span>

<span class="ss">23 8.1到3个数字,后面跟着任意个 逗号+3个数字,逗号成为可选,而不是必须：^([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(.[0-9]{1,2})?$</span>

<span class="ss">24 备注：这就是最终结果了,别忘了&quot;</span><span class="o">+</span><span class="ss">&quot;可以用&quot;</span><span class="o">*</span><span class="err">&quot;替代如果你觉得空字符串也可以接受的话</span><span class="p">(</span><span class="err">奇怪</span><span class="p">,</span><span class="err">为什么</span><span class="o">?</span><span class="p">)</span><span class="err">最后</span><span class="p">,</span><span class="err">别忘了在用函数时去掉去掉那个反斜杠</span><span class="p">,</span><span class="err">一般的错误都在这里</span>

<span class="mi">25</span> <span class="n">xml文件</span><span class="err">：</span><span class="o">^</span><span class="p">([</span><span class="n">a</span><span class="o">-</span><span class="n">zA</span><span class="o">-</span><span class="n">Z</span><span class="p">]</span><span class="o">+-?</span><span class="p">)</span><span class="o">+</span><span class="p">[</span><span class="n">a</span><span class="o">-</span><span class="n">zA</span><span class="o">-</span><span class="n">Z0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="o">+</span><span class="err">\\</span><span class="p">.[</span><span class="n">x</span><span class="o">|</span><span class="n">X</span><span class="p">][</span><span class="n">m</span><span class="o">|</span><span class="n">M</span><span class="p">][</span><span class="n">l</span><span class="o">|</span><span class="n">L</span><span class="p">]</span><span class="err">$</span>

<span class="mi">26</span> <span class="err">中文字符的正则表达式：</span><span class="p">[</span><span class="err">\</span><span class="n">u4e00</span><span class="o">-</span><span class="err">\</span><span class="n">u9fa5</span><span class="p">]</span>

<span class="mi">27</span> <span class="err">双字节字符：</span><span class="p">[</span><span class="o">^</span><span class="err">\</span><span class="n">x00</span><span class="o">-</span><span class="err">\</span><span class="n">xff</span><span class="p">]</span> <span class="p">(</span><span class="err">包括汉字在内，可以用来计算字符串的长度</span><span class="p">(</span><span class="err">一个双字节字符长度计</span><span class="mi">2</span><span class="err">，</span><span class="n">ASCII字符计1</span><span class="p">))</span>

<span class="mi">28</span> <span class="err">空白行的正则表达式：\</span><span class="n">n</span><span class="err">\</span><span class="n">s</span><span class="o">*</span><span class="err">\</span><span class="n">r</span> <span class="p">(</span><span class="err">可以用来删除空白行</span><span class="p">)</span>

<span class="mi">29</span> <span class="n">HTML标记的正则表达式</span><span class="err">：</span><span class="o">&lt;</span><span class="p">(</span><span class="err">\</span><span class="n">S</span><span class="o">*?</span><span class="p">)[</span><span class="o">^&gt;</span><span class="p">]</span><span class="o">*&gt;</span><span class="p">.</span><span class="o">*?&lt;/</span><span class="err">\</span><span class="mi">1</span><span class="o">&gt;|&lt;</span><span class="p">.</span><span class="o">*?</span> <span class="o">/&gt;</span> <span class="p">(</span><span class="err">网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力</span><span class="p">)</span>

<span class="mi">30</span> <span class="err">首尾空白字符的正则表达式：</span><span class="o">^</span><span class="err">\</span><span class="n">s</span><span class="o">*|</span><span class="err">\</span><span class="n">s</span><span class="o">*</span><span class="err">$或</span><span class="p">(</span><span class="o">^</span><span class="err">\</span><span class="n">s</span><span class="o">*</span><span class="p">)</span><span class="o">|</span><span class="p">(</span><span class="err">\</span><span class="n">s</span><span class="o">*</span><span class="err">$</span><span class="p">)</span> <span class="p">(</span><span class="err">可以用来删除行首行尾的空白字符</span><span class="p">(</span><span class="err">包括空格、制表符、换页符等等</span><span class="p">)</span><span class="err">，非常有用的表达式</span><span class="p">)</span>

<span class="mi">31</span> <span class="err">腾讯</span><span class="n">QQ号</span><span class="err">：</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">][</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">{</span><span class="mi">4</span><span class="p">,</span><span class="err">}</span> <span class="p">(</span><span class="err">腾讯</span><span class="n">QQ号从10000开始</span><span class="p">)</span>

<span class="mi">32</span> <span class="err">中国邮政编码：</span><span class="p">[</span><span class="mi">1</span><span class="o">-</span><span class="mi">9</span><span class="p">]</span><span class="err">\</span><span class="n">d</span><span class="err">{</span><span class="mi">5</span><span class="err">}</span><span class="p">(</span><span class="o">?!</span><span class="err">\</span><span class="n">d</span><span class="p">)</span> <span class="p">(</span><span class="err">中国邮政编码为</span><span class="mi">6</span><span class="err">位数字</span><span class="p">)</span> <span class="mi">33</span> <span class="n">IP地址</span><span class="err">：\</span><span class="n">d</span><span class="o">+</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">+</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">+</span><span class="err">\</span><span class="p">.</span><span class="err">\</span><span class="n">d</span><span class="o">+</span> <span class="p">(</span><span class="err">提取</span><span class="n">IP地址时有用</span><span class="p">)</span> <span class="mi">34</span> <span class="n">IP地址</span><span class="err">：</span><span class="p">((</span><span class="o">?</span><span class="p">:(</span><span class="o">?</span><span class="p">:</span><span class="mi">25</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span><span class="o">|</span><span class="mi">2</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="err">\\</span><span class="n">d</span><span class="o">|</span><span class="p">[</span><span class="mi">01</span><span class="p">]</span><span class="o">?</span><span class="err">\\</span><span class="n">d</span><span class="o">?</span><span class="err">\\</span><span class="n">d</span><span class="p">)</span><span class="err">\\</span><span class="p">.)</span><span class="err">{</span><span class="mi">3</span><span class="err">}</span><span class="p">(</span><span class="o">?</span><span class="p">:</span><span class="mi">25</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span><span class="o">|</span><span class="mi">2</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span><span class="err">\\</span><span class="n">d</span><span class="o">|</span><span class="p">[</span><span class="mi">01</span><span class="p">]</span><span class="o">?</span><span class="err">\\</span><span class="n">d</span><span class="o">?</span><span class="err">\\</span><span class="n">d</span><span class="p">))</span>
</code></pre></div>


<ul>
<li><strong>排除特定字符串</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># 不以com结尾的</span>
^.*?<span class="o">(</span>?&lt;!com<span class="o">)</span>$
<span class="c1"># 以com结尾</span>
^.*?<span class="o">(</span>?&lt;<span class="o">=</span>com<span class="o">)</span>$
^.*?com$
<span class="c1"># 不包含helloworld的字符串</span>
^<span class="o">(</span>?!.*helloworld<span class="o">)</span>.*$
</code></pre></div>


<h3>匹配测试工具</h3>
<ul>
<li>在线验证工具</li>
<li>https://regexr.com/</li>
<li>https://www.debuggex.com/</li>
<li>https://deerchao.cn/tools/wegester/</li>
<li>https://regex101.com/</li>
<li>正则可视化工具</li>
<li>https://jex.im/regulex/#!flags=&amp;re=%5E(a%7Cb)*%3F%24</li>
<li>https://regexper.com/</li>
</ul>
<h3>参考</h3>
<p><a href="https://segmentfault.com/a/1190000021787021">正则表达式引擎执行原理</a></p>
<p><a href="https://www.zhihu.com/question/24824487">如何匹配 3 的倍数</a></p>
<p><a href="https://juejin.im/post/6844903951414870023">实现一个正则表达式</a></p>
<p><a href="https://deerchao.cn/tutorials/regex/regex.htm">正则表达式 30 分钟入门</a></p>
<p><a href="https://segmentfault.com/a/1190000018622193">Python 正则表达式</a></p>
<p><a href="https://www.cnblogs.com/huxi/archive/2010/07/04/1771073.html">Python 正则表达式指南</a></p>
<p><a href="https://www.cnblogs.com/wangqiguo/archive/2012/05/08/2486548.html">利用正则表达式排除特定字符串</a></p>
<p><a href="https://www.jiqizhixin.com/articles/2020-09-25-7">一文掌握开发利器：正则表达式</a></p>
<p><a href="https://www.debuggex.com/cheatsheet/regex/javascript">Javascript 正则 cheatsheet</a></p>
<p><a href="https://www.debuggex.com/cheatsheet/regex/python">Python 正则 cheatsheet</a></p>

      </div><!-- /.entry-content -->
      <div class="comments">
        <h2>Comments</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
          var disqus_identifier = "pages/2020/10/11/Re-Usage/";
          (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//niuhemoon.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
      </div>

    </article>
  </section>
</div>
            </div>
        </div>
    </div>

    <footer id="site-footer">
        <div class="row-fluid">
            <div class="span10 offset1">
                <address>
                    <p>
                        This blog is proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                    </p>
                    <p>
                        <a href="http://github.com/jsliang/pelican-fresh/">Fresh</a> is a responsive theme designed by <a href="http://jsliang.com/">jsliang</a> and <a href="https://github.com/jsliang/pelican-fresh/graphs/contributors">contributors</a>.
                        Special thanks to <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a> and <a href="http://getbootstrap.com/">Twitter Bootstrap</a>.
                    </p>
                </address>
            </div>
        </div>
    </footer>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-116933089-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'niuhemoon';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
    <script src="//code.jquery.com/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
</body>
</html>