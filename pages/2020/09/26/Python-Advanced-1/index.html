<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="author" content="niuhe" />
    <meta name="robots" content="index, follow"/>

    <meta property="og:title" content="Python进阶上"/>
    <meta property="og:url" content="../../../../../pages/2020/09/26/Python-Advanced-1/"/>
    <meta property="og:site_name" content="Niuhe's Blog"/>
    <meta property="og:type" content="article"/>

    <link rel="canonical" href="../../../../../pages/2020/09/26/Python-Advanced-1/" />

    <title>Python进阶上 | Niuhe's Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?">
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" />
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" />

    <link rel="stylesheet" type="text/css" href="../../../../../theme/css/main.css" />

    <script type="text/javascript">var switchTo5x=true;</script>
    <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
    <script type="text/javascript">
        stLight.options({
            publisher: "",
            doNotHash: false,
            doNotCopy: false,
            hashAddressBar: false
        });
    </script>
</head>

<body id="index">
<a class="hidden-phone" href="https://github.com/2niuhe">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub" />
</a>
    <div class="row-fluid">
        <div class="span10 offset1">
            <header id="banner" >
                <h1>
                    <a href="../../../../../">Niuhe's Blog </a>
                </h1>
                <nav class="navbar">
                    <div class="navbar-inner">
                        <ul class="nav">
                            <li ><a href="../../../../../category/angular.html">Angular</a></li>
                            <li ><a href="../../../../../category/arduino.html">Arduino</a></li>
                            <li ><a href="../../../../../category/golang.html">Golang</a></li>
                            <li ><a href="../../../../../category/life.html">Life : )</a></li>
                            <li ><a href="../../../../../category/linux.html">Linux</a></li>
                            <li ><a href="../../../../../category/openstack.html">Openstack</a></li>
                            <li ><a href="../../../../../category/others.html">Others</a></li>
                            <li class="active"><a href="../../../../../category/python.html">Python</a></li>
                            <li ><a href="../../../../../category/raspberry.html">Raspberry</a></li>
                            <li ><a href="../../../../../category/ros.html">ROS</a></li>
                        </ul>

                    </div>
                </nav>
            </header><!-- /#banner -->
        </div>
    </div>

    <div class="row-fluid">
        <div class="span10 offset1">
            <div class="row-fluid">
<div class="span10 offset1">
  <section>
    <article>
      <header>
        <h1 class="entry-title">
          <a href="../../../../../pages/2020/09/26/Python-Advanced-1/" rel="bookmark"
             title="Permalink to Python进阶上">Python进阶上</a></h1>
      </header>
      <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="../../../../../author/niuhe.html">niuhe</a>
    </address>

    in <a href="../../../../../category/python.html">Python</a>

    on 2020-09-26

        |
        tags:         <a href="../../../../../tag/python.html">Python</a>


        |
        <a href="../../../../../pages/2020/09/26/Python-Advanced-1/#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->

        <p>Python种基本类型的比较：</p>
<ul>
<li>List is a collection which is ordered and mutable. Allows duplicate members.</li>
<li>Tuple is a collection which is ordered and immutable. Allows duplicate members.</li>
<li>Set is a collection which is unordered and unindexed. No duplicate members.</li>
<li>Dictionary is a collection which is unordered, mutable and indexed. No duplicate members.</li>
<li>Strings are immutable sequences of Unicode code points.</li>
</ul>
<h3>List</h3>
<blockquote>
<p>Python中的list是一个有序容器，容纳不同类型的数据（但推荐列表内数据类型相同)，同时其是可变类型的．</p>
</blockquote>
<h4>创建列表</h4>
<div class="highlight"><pre><span></span><code><span class="n">list_1</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="s2">&quot;cherry&quot;</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list_1</span><span class="p">)</span>

<span class="c1"># Or create an empty list with the list function</span>
<span class="n">list_2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list_2</span><span class="p">)</span>

<span class="c1"># Lists allow different data types</span>
<span class="n">list_3</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list_3</span><span class="p">)</span>

<span class="c1"># Lists allow duplicates</span>
<span class="n">list_4</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list_4</span><span class="p">)</span>
</code></pre></div>


<h4>内置方法</h4>
<blockquote>
<p>修改列表的方法尽量使用内置方法，内置方法效率较高</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="s2">&quot;cherry&quot;</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">]</span>

<span class="c1"># len() : get the number of elements in a list</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Length:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">my_list</span><span class="p">))</span>

<span class="c1"># append() : adds an element to the end of the list</span>
<span class="n">my_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;orange&quot;</span><span class="p">)</span>

<span class="c1"># insert() : adds an element at the specified position</span>
<span class="n">my_list</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;blueberry&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>

<span class="c1"># pop() : removes and returns the item at the given position, default is the last item</span>
<span class="n">item</span> <span class="o">=</span> <span class="n">my_list</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Popped item: &quot;</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>

<span class="c1"># remove() : removes an item from the list</span>
<span class="n">my_list</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;cherry&quot;</span><span class="p">)</span> <span class="c1"># Value error if not in the list</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>

<span class="c1"># clear() : removes all items from the list</span>
<span class="n">my_list</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>

<span class="c1"># reverse() : reverse the items</span>
<span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="s2">&quot;cherry&quot;</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">]</span>
<span class="n">my_list</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Reversed: &#39;</span><span class="p">,</span> <span class="n">my_list</span><span class="p">)</span>

<span class="c1"># sort() : sort items in ascending order</span>
<span class="n">my_list</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Sorted: &#39;</span><span class="p">,</span> <span class="n">my_list</span><span class="p">)</span>

<span class="c1"># use sorted() to get a new list, and leave the original unaffected.</span>
<span class="c1"># sorted() works on any iterable type, not just lists</span>
<span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="s2">&quot;cherry&quot;</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">]</span>
<span class="n">new_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>

<span class="c1"># create list with repeated elements</span>
<span class="n">list_with_zeros</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list_with_zeros</span><span class="p">)</span>

<span class="c1"># concatenation</span>
<span class="n">list_concat</span> <span class="o">=</span> <span class="n">list_with_zeros</span> <span class="o">+</span> <span class="n">my_list</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list_concat</span><span class="p">)</span>

<span class="c1"># convert string to list</span>
<span class="n">string_to_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">string_to_list</span><span class="p">)</span>
</code></pre></div>


<h4>复制列表</h4>
<blockquote>
<p>注意拷贝列表内容还是拷贝引用</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="n">list_org</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="s2">&quot;cherry&quot;</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">]</span>

<span class="c1"># this just copies the reference to the list, so be careful</span>
<span class="n">list_copy</span> <span class="o">=</span> <span class="n">list_org</span>

<span class="c1"># now modifying the copy also affects the original</span>
<span class="n">list_copy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list_copy</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list_org</span><span class="p">)</span>

<span class="c1"># use copy(), or list(x) to actually copy the list</span>
<span class="c1"># slicing also works: list_copy = list_org[:]</span>
<span class="n">list_org</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="s2">&quot;cherry&quot;</span><span class="p">,</span> <span class="s2">&quot;apple&quot;</span><span class="p">]</span>

<span class="n">list_copy</span> <span class="o">=</span> <span class="n">list_org</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="c1"># list_copy = list(list_org)</span>
<span class="c1"># list_copy = list_org[:]</span>

<span class="c1"># now modifying the copy does not affect the original</span>
<span class="n">list_copy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list_copy</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list_org</span><span class="p">)</span>
</code></pre></div>


<h4>列表切片</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># a[start:stop:step], default step is 1</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="c1"># Note that the last index is not included</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="c1"># until the end</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="c1"># from beginning</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># replace sub-parts, you need an iterable here</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># start to end with every second item</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># reverse the list with a negative step:</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[:]</span> <span class="c1"># copy a list with slicing</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</code></pre></div>


<h3>Tuple</h3>
<blockquote>
<p>Tuple又称为元组，和List列表类似，主要区别在于元组是不可变类型．不可变意味着元组中的元素无法被重新赋值．使用元组而非列表的有如下原因：</p>
<ul>
<li>Generally used for objects that belong together.</li>
<li>Use tuple for heterogeneous (different) datatypes and list for homogeneous (similar) datatypes.</li>
<li>Since tuple are immutable, iterating through tuple is slightly faster than with list.</li>
<li>Tuples with their immutable elements can be used as key for a dictionary. This is not possible with lists.</li>
<li>If you have data that doesn't change, implementing it as tuple will guarantee that it remains write-protected.</li>
</ul>
</blockquote>
<h4>创建元组</h4>
<div class="highlight"><pre><span></span><code><span class="n">tuple_1</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Max&quot;</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;New York&quot;</span><span class="p">)</span>
<span class="n">tuple_2</span> <span class="o">=</span> <span class="s2">&quot;Linda&quot;</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="s2">&quot;Miami&quot;</span> <span class="c1"># Parentheses are optional</span>

<span class="c1"># Special case: a tuple with only one element needs to have a comma at the end, </span>
<span class="c1"># otherwise it is not recognized as tuple</span>
<span class="n">tuple_3</span> <span class="o">=</span> <span class="p">(</span><span class="mi">25</span><span class="p">,)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tuple_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tuple_2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tuple_3</span><span class="p">)</span>

<span class="c1"># Or convert an iterable (list, dict, string) with the built-in tuple function</span>
<span class="n">tuple_4</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tuple_4</span><span class="p">)</span>
</code></pre></div>


<h4>不可变解释</h4>
<blockquote>
<p>元组不提供修改元素的方法，其中的item本身无法被赋值，即其指向的对象id（类似内存地址)无法改变，但是若元组中元素item自身是可变类型的，元素本身可以改变．</p>
<p>Python中可变类型的解释：</p>
<blockquote>
<p>python中对可变数据类型的定义为：<strong>当该数据类型的对应变量的值发生了改变，那么它对应的内存地址不发生改变，就称可变数据类型</strong>。包括：set（集合）、list（列表）、dict（字典）</p>
</blockquote>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="n">In</span> <span class="p">[</span><span class="mi">7</span><span class="p">]:</span> <span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>                                                           

<span class="n">In</span> <span class="p">[</span><span class="mi">8</span><span class="p">]:</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>                                                                    
<span class="n">Out</span><span class="p">[</span><span class="mi">8</span><span class="p">]:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">9</span><span class="p">]:</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>                                                          
<span class="o">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span>                                 <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">9</span><span class="o">-</span><span class="n">f8fa7e0d45e2</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>

<span class="ne">TypeError</span><span class="p">:</span> <span class="s1">&#39;tuple&#39;</span> <span class="nb">object</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">support</span> <span class="n">item</span> <span class="n">assignment</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">10</span><span class="p">]:</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>                                                         

<span class="n">In</span> <span class="p">[</span><span class="mi">11</span><span class="p">]:</span> <span class="n">a</span>                                                                      
<span class="n">Out</span><span class="p">[</span><span class="mi">11</span><span class="p">]:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
</code></pre></div>


<blockquote>
<p>以此执行下面指令，可以理解一下浅拷贝和深拷贝</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="c1"># shadow copy</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span>
<span class="n">b</span> <span class="ow">is</span> <span class="n">a</span>　　<span class="c1"># True,has same address</span>
<span class="nb">id</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">id</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="c1"># deep copy,a point to another memory address</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">+</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">a</span>
<span class="nb">id</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="c1"># b&#39;s address doesn&#39;t change</span>
<span class="nb">id</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</code></pre></div>


<h4>内置方法</h4>
<div class="highlight"><pre><span></span><code><span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;p&#39;</span><span class="p">,</span><span class="s1">&#39;p&#39;</span><span class="p">,</span><span class="s1">&#39;l&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">,)</span>

<span class="c1"># len() : get the number of elements in a tuple</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">))</span>

<span class="c1"># count(x) : Return the number of items that is equal to x</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_tuple</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">))</span>

<span class="c1"># index(x) : Return index of first item that is equal to x</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_tuple</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;l&#39;</span><span class="p">))</span>

<span class="c1"># repetition</span>
<span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">)</span>

<span class="c1"># concatenation</span>
<span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">)</span>

<span class="c1"># convert list to a tuple and vice versa</span>
<span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
<span class="n">list_to_tuple</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">list_to_tuple</span><span class="p">)</span>

<span class="n">tuple_to_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">list_to_tuple</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tuple_to_list</span><span class="p">)</span>

<span class="c1"># convert string to tuple</span>
<span class="n">string_to_tuple</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">string_to_tuple</span><span class="p">)</span>

<span class="c1"># Result</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">5</span>
<span class="sd">2</span>
<span class="sd">3</span>
<span class="sd">(&#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;b&#39;)</span>
<span class="sd">(1, 2, 3, 4, 5, 6)</span>
<span class="sd">(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;)</span>
<span class="sd">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]</span>
<span class="sd">(&#39;H&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;)</span>
<span class="sd">&quot;&quot;&quot;</span>
</code></pre></div>


<h4>元组切片</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># a[start:stop:step], default step is 1</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="c1"># Note that the last index is not included</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="c1"># until the end</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="c1"># from beginning</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># start to end with every second item</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># reverse tuple</span>
<span class="c1"># don&#39;t change a ,create a new tuple and assign it to b</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

<span class="c1"># Result</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">(2, 3)</span>
<span class="sd">(3, 4, 5, 6, 7, 8, 9, 10)</span>
<span class="sd">(1, 2, 3)</span>
<span class="sd">(1, 3, 5, 7, 9)</span>
<span class="sd">(10, 9, 8, 7, 6, 5, 4, 3, 2, 1)</span>
<span class="sd">&quot;&quot;&quot;</span>
</code></pre></div>


<h4>元组解包</h4>
<blockquote>
<p>在Python中互换两个变量的值，如</p>
<p><code>a,b = b,a</code></p>
<p>就是等号右侧将b,a自动打包为元组<code>(b,a)</code>，赋值给左侧后再自动解包，同样的，Python中函数返回多个值，也是隐式的将多个值打包为元组，并返回一个元组．</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="c1"># number of variables have to match number of tuple elements</span>
<span class="n">tuple_1</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Max&quot;</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;New York&quot;</span><span class="p">)</span>
<span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">city</span> <span class="o">=</span> <span class="n">tuple_1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">age</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">city</span><span class="p">)</span>

<span class="c1"># tip: unpack multiple elements to a list with *</span>
<span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">item_first</span><span class="p">,</span> <span class="o">*</span><span class="n">items_between</span><span class="p">,</span> <span class="n">item_last</span> <span class="o">=</span> <span class="n">my_tuple</span>
<span class="nb">print</span><span class="p">(</span><span class="n">item_first</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">items_between</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">item_last</span><span class="p">)</span>

<span class="c1"># Result</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Max</span>
<span class="sd">28</span>
<span class="sd">New York</span>
<span class="sd">0</span>
<span class="sd">[1, 2, 3, 4]</span>
<span class="sd">5</span>
<span class="sd">&quot;&quot;&quot;</span>
</code></pre></div>


<h4>元组列表对比</h4>
<blockquote>
<p>容纳同样的数据，元组的占用空间和迭代速度更高</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="c1"># compare the size</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span>
<span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">getsizeof</span><span class="p">(</span><span class="n">my_list</span><span class="p">),</span> <span class="s2">&quot;bytes&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">getsizeof</span><span class="p">(</span><span class="n">my_tuple</span><span class="p">),</span> <span class="s2">&quot;bytes&quot;</span><span class="p">)</span>

<span class="c1"># compare the execution time of a list vs. tuple creation statement</span>
<span class="kn">import</span> <span class="nn">timeit</span>
<span class="nb">print</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">timeit</span><span class="p">(</span><span class="n">stmt</span><span class="o">=</span><span class="s2">&quot;[0, 1, 2, 3, 4, 5]&quot;</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">1000000</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">timeit</span><span class="o">.</span><span class="n">timeit</span><span class="p">(</span><span class="n">stmt</span><span class="o">=</span><span class="s2">&quot;(0, 1, 2, 3, 4, 5)&quot;</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">1000000</span><span class="p">))</span>

<span class="c1"># Result</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">104 bytes</span>
<span class="sd">88 bytes</span>
<span class="sd">0.12474981700000853</span>
<span class="sd">0.014836141000017733</span>
<span class="sd">&quot;&quot;&quot;</span>
</code></pre></div>


<h3>Dictionary</h3>
<blockquote>
<p>字典是无序的、可变的、可索引的一种数据类型。</p>
</blockquote>
<h4>字典创建</h4>
<div class="highlight"><pre><span></span><code><span class="n">my_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Max&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span><span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">:</span><span class="s2">&quot;New York&quot;</span><span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">)</span>

<span class="c1"># or use the dict constructor, note: no quotes necessary for keys</span>
<span class="n">my_dict_2</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Lisa&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">27</span><span class="p">,</span> <span class="n">city</span><span class="o">=</span><span class="s2">&quot;Boston&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_dict_2</span><span class="p">)</span>
</code></pre></div>


<h4>常用方法</h4>
<ul>
<li>删除字典元素</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">my_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Max&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span><span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">:</span><span class="s2">&quot;New York&quot;</span><span class="p">}</span>

<span class="c1"># delete a key-value pair</span>
<span class="k">del</span> <span class="n">my_dict</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]</span>

<span class="c1"># this returns the value and removes the key-value pair</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;popped value:&quot;</span><span class="p">,</span> <span class="n">my_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;age&quot;</span><span class="p">))</span>

<span class="c1"># return and removes the last inserted key-value pair </span>
<span class="c1"># (in versions before Python 3.7 it removes an arbitrary pair)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;popped item:&quot;</span><span class="p">,</span> <span class="n">my_dict</span><span class="o">.</span><span class="n">popitem</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">)</span>

<span class="c1"># clear() : remove all pairs</span>
<span class="c1"># my_dict.clear()</span>
</code></pre></div>


<ul>
<li>检查key是否存在</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">my_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Max&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span><span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">:</span><span class="s2">&quot;New York&quot;</span><span class="p">}</span>
<span class="c1"># use if .. in ..</span>
<span class="k">if</span> <span class="s2">&quot;name&quot;</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span>

<span class="c1"># use try except</span>
<span class="k">try</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">[</span><span class="s2">&quot;firstname&quot;</span><span class="p">])</span>
<span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No key found&quot;</span><span class="p">)</span>
</code></pre></div>


<ul>
<li>迭代字典元素</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># loop over keys</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">my_dict</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>

<span class="c1"># loop over keys</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

<span class="c1"># loop over values</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># loop over keys and values</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">my_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div>


<ul>
<li>复制字典</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">dict_org</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Max&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span><span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">:</span><span class="s2">&quot;New York&quot;</span><span class="p">}</span>

<span class="c1"># this just copies the reference to the dict, so be careful</span>
<span class="n">dict_copy</span> <span class="o">=</span> <span class="n">dict_org</span>

<span class="c1"># now modifying the copy also affects the original</span>
<span class="n">dict_copy</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Lisa&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dict_copy</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dict_org</span><span class="p">)</span>

<span class="c1"># use copy(), or dict(x) to actually copy the dict</span>
<span class="n">dict_org</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Max&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span><span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">:</span><span class="s2">&quot;New York&quot;</span><span class="p">}</span>

<span class="n">dict_copy</span> <span class="o">=</span> <span class="n">dict_org</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="c1"># dict_copy = dict(dict_org)</span>

<span class="c1"># now modifying the copy does not affect the original</span>
<span class="n">dict_copy</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Lisa&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dict_copy</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dict_org</span><span class="p">)</span>
</code></pre></div>


<ul>
<li>合并两个字典</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># Use the update() method to merge 2 dicts</span>
<span class="c1"># existing keys are overwritten, new keys are added</span>
<span class="n">my_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Max&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">:</span><span class="mi">28</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span><span class="p">:</span><span class="s2">&quot;max@xyz.com&quot;</span><span class="p">}</span>
<span class="n">my_dict_2</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Lisa&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">27</span><span class="p">,</span> <span class="n">city</span><span class="o">=</span><span class="s2">&quot;Boston&quot;</span><span class="p">)</span>

<span class="n">my_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">my_dict_2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">)</span>
</code></pre></div>


<ul>
<li>可能的Key类型</li>
</ul>
<blockquote>
<p>任何不可变类型都可以作为字典的key，包括数字、字符串。元组如果所有元素都是不可变的，也可以作为key。</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="c1"># use numbers as key, but be careful</span>
<span class="n">my_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">3</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span><span class="mi">81</span><span class="p">}</span>
<span class="c1"># do not mistake the keys as indices of a list, e.g my_dict[0] is not possible here</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">my_dict</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">my_dict</span><span class="p">[</span><span class="mi">9</span><span class="p">])</span>

<span class="c1"># use a tuple with immutable elements (e.g. number, string)</span>
<span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">my_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">my_tuple</span><span class="p">:</span> <span class="mi">15</span><span class="p">}</span>

<span class="nb">print</span><span class="p">(</span><span class="n">my_dict</span><span class="p">[</span><span class="n">my_tuple</span><span class="p">])</span>
<span class="c1"># print(my_dict[8, 7])</span>

<span class="c1"># a list is not possible because it is not immutable</span>
<span class="c1"># this will raise an Error:</span>
<span class="c1"># my_list = [8, 7]</span>
<span class="c1"># my_dict = {my_list: 15}</span>
</code></pre></div>


<h3>Sets</h3>
<blockquote>
<p>A Set is an unordered collection data type that is unindexed, mutable, and has no duplicate elements. </p>
</blockquote>
<h4>创建集合</h4>
<div class="highlight"><pre><span></span><code><span class="n">my_set</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="s2">&quot;cherry&quot;</span><span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_set</span><span class="p">)</span>

<span class="c1"># or use the set function and create from an iterable, e.g. list, tuple, string</span>
<span class="n">my_set_2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;three&quot;</span><span class="p">])</span>
<span class="n">my_set_2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">((</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;three&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_set_2</span><span class="p">)</span>

<span class="n">my_set_3</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s2">&quot;aaabbbcccdddeeeeeffff&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_set_3</span><span class="p">)</span>

<span class="c1"># careful: an empty set cannot be created with {}, as this is interpreted as dict</span>
<span class="c1"># use set() instead</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">{}</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="n">a</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
</code></pre></div>


<h4>常用方法</h4>
<ul>
<li>添加元素</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">my_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

<span class="c1"># use the add() method to add elements</span>
<span class="n">my_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="n">my_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">my_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>

<span class="c1"># note: the order does not matter, and might differ when printed</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_set</span><span class="p">)</span>

<span class="c1"># nothing happens when the element is already present:</span>
<span class="n">my_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_set</span><span class="p">)</span>
</code></pre></div>


<ul>
<li>移除元素</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># remove(x): removes x, raises a KeyError if element is not present</span>
<span class="n">my_set</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;banana&quot;</span><span class="p">,</span> <span class="s2">&quot;cherry&quot;</span><span class="p">}</span>
<span class="n">my_set</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s2">&quot;apple&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_set</span><span class="p">)</span>

<span class="c1"># KeyError:</span>
<span class="c1"># my_set.remove(&quot;orange&quot;)</span>

<span class="c1"># discard(x): removes x, does nothing if element is not present</span>
<span class="n">my_set</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="s2">&quot;cherry&quot;</span><span class="p">)</span>
<span class="n">my_set</span><span class="o">.</span><span class="n">discard</span><span class="p">(</span><span class="s2">&quot;blueberry&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_set</span><span class="p">)</span>

<span class="c1"># clear() : remove all elements</span>
<span class="n">my_set</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_set</span><span class="p">)</span>

<span class="c1"># pop() : return and remove a random element</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">{</span><span class="kc">True</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;hi&quot;</span><span class="p">,</span> <span class="s2">&quot;hello&quot;</span><span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">pop</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</code></pre></div>


<ul>
<li>交集和并集</li>
</ul>
<blockquote>
<p>不改变原有集合，只是会产生新的集合</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="n">odds</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">}</span>
<span class="n">evens</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">}</span>
<span class="n">primes</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">}</span>

<span class="c1"># union() : combine elements from both sets, no duplication</span>
<span class="c1"># note that this does not change the two sets</span>
<span class="n">u</span> <span class="o">=</span> <span class="n">odds</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">evens</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>

<span class="c1"># intersection(): take elements that are in both sets</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">odds</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">evens</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">i</span> <span class="o">=</span> <span class="n">odds</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">primes</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">i</span> <span class="o">=</span> <span class="n">evens</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">primes</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</code></pre></div>


<ul>
<li>差集</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">setB</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">}</span>

<span class="c1"># difference() : returns a set with all the elements from the setA that are not in setB.</span>
<span class="n">diff_set</span> <span class="o">=</span> <span class="n">setA</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">setB</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">diff_set</span><span class="p">)</span>

<span class="c1"># A.difference(B) is not the same as B.difference(A)</span>
<span class="n">diff_set</span> <span class="o">=</span> <span class="n">setB</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">setA</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">diff_set</span><span class="p">)</span>

<span class="c1"># symmetric_difference() : returns a set with all the elements that are in setA and setB but not in both</span>
<span class="n">diff_set</span> <span class="o">=</span> <span class="n">setA</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">setB</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">diff_set</span><span class="p">)</span>

<span class="c1"># A.symmetric_difference(B) = B.symmetric_difference(A)</span>
<span class="n">diff_set</span> <span class="o">=</span> <span class="n">setB</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">setA</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">diff_set</span><span class="p">)</span>
</code></pre></div>


<ul>
<li>更新集合（交/并/差）</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">setA</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">}</span>
<span class="n">setB</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">}</span>

<span class="c1"># update() : Update the set by adding elements from another set.</span>
<span class="n">setA</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">setB</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">setA</span><span class="p">)</span>

<span class="c1"># intersection_update() : Update the set by keeping only the elements found in both</span>
<span class="n">setA</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">}</span>
<span class="n">setA</span><span class="o">.</span><span class="n">intersection_update</span><span class="p">(</span><span class="n">setB</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">setA</span><span class="p">)</span>

<span class="c1"># difference_update() : Update the set by removing elements found in another set.</span>
<span class="n">setA</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">}</span>
<span class="n">setA</span><span class="o">.</span><span class="n">difference_update</span><span class="p">(</span><span class="n">setB</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">setA</span><span class="p">)</span>

<span class="c1"># symmetric_difference_update() : Update the set by only keeping the elements found in either set, but not in both</span>
<span class="n">setA</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">}</span>
<span class="n">setA</span><span class="o">.</span><span class="n">symmetric_difference_update</span><span class="p">(</span><span class="n">setB</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">setA</span><span class="p">)</span>

<span class="c1"># Note: all update methods also work with other iterables as argument, e.g lists, tuples</span>
<span class="c1"># setA.update([1, 2, 3, 4, 5, 6])</span>
</code></pre></div>


<ul>
<li>复制集合</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">set_org</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>

<span class="c1"># this just copies the reference to the set, so be careful</span>
<span class="n">set_copy</span> <span class="o">=</span> <span class="n">set_org</span>

<span class="c1"># now modifying the copy also affects the original</span>
<span class="n">set_copy</span><span class="o">.</span><span class="n">update</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">set_copy</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">set_org</span><span class="p">)</span>

<span class="c1"># use copy() to actually copy the set</span>
<span class="n">set_org</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
<span class="n">set_copy</span> <span class="o">=</span> <span class="n">set_org</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># now modifying the copy does not affect the original</span>
<span class="n">set_copy</span><span class="o">.</span><span class="n">update</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">set_copy</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">set_org</span><span class="p">)</span>
</code></pre></div>


<ul>
<li>子集/不相交</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">setA</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">}</span>
<span class="n">setB</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
<span class="c1"># issubset(setX): Returns True if setX contains the set</span>
<span class="nb">print</span><span class="p">(</span><span class="n">setA</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">setB</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">setB</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">setA</span><span class="p">))</span> <span class="c1"># True</span>

<span class="c1"># issuperset(setX): Returns True if the set contains setX</span>
<span class="nb">print</span><span class="p">(</span><span class="n">setA</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">setB</span><span class="p">))</span> <span class="c1"># True</span>
<span class="nb">print</span><span class="p">(</span><span class="n">setB</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">setA</span><span class="p">))</span>

<span class="c1"># isdisjoint(setX) : Return True if both sets have a null intersection, i.e. no same elements</span>
<span class="n">setC</span> <span class="o">=</span> <span class="p">{</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">setA</span><span class="o">.</span><span class="n">isdisjoint</span><span class="p">(</span><span class="n">setB</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">setA</span><span class="o">.</span><span class="n">isdisjoint</span><span class="p">(</span><span class="n">setC</span><span class="p">))</span>
</code></pre></div>


<h4>Frozenset不可变集合</h4>
<blockquote>
<p>Frozen set是一种不可变的集合，其在创建以后，集合中的元素id不可变</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>

<span class="c1"># The following is not allowed:</span>
<span class="c1"># a.add(5)</span>
<span class="c1"># a.remove(1)</span>
<span class="c1"># a.discard(1)</span>
<span class="c1"># a.clear()</span>

<span class="c1"># Also no update methods are allowed:</span>
<span class="c1"># a.update([1,2,3])</span>

<span class="c1"># Other set operations work</span>
<span class="n">odds</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">})</span>
<span class="n">evens</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">({</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">odds</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">evens</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">odds</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">evens</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">odds</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">evens</span><span class="p">))</span>
</code></pre></div>


<h3>Strings</h3>
<blockquote>
<p>字符串是一个字符序列，是不可变类型，对于同一个id下的字符串不可变。</p>
</blockquote>
<h4>字符串创建</h4>
<div class="highlight"><pre><span></span><code> <span class="c1"># use singe or double quotes</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s1">&#39;Hello&#39;</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s2">&quot;Hello&quot;</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s2">&quot;I&#39; m  a &#39;Geek&#39;&quot;</span>

<span class="c1"># escaping backslash</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s1">&#39;I</span><span class="se">\&#39;</span><span class="s1"> m  a &quot;Geek&quot;&#39;</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s1">&#39;I</span><span class="se">\&#39;</span><span class="s1"> m a </span><span class="se">\&#39;</span><span class="s1">Geek</span><span class="se">\&#39;</span><span class="s1">&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>

<span class="c1"># triple quotes for multiline strings</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Hello</span>
<span class="s2">World&quot;&quot;&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>

<span class="c1"># backslash if you want to continue in the next line</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s2">&quot;Hello </span><span class="se">\</span>
<span class="s2">World&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>
</code></pre></div>


<h4>访问字符或者子串</h4>
<div class="highlight"><pre><span></span><code><span class="n">my_string</span> <span class="o">=</span> <span class="s2">&quot;Hello World&quot;</span>

<span class="c1"># get character by referring to index</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

<span class="c1"># Substrings with slicing</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="c1"># Note that the last index is not included</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span> <span class="c1"># from beginning</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">[</span><span class="mi">6</span><span class="p">:]</span> <span class="c1"># until the end</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># start to end with every second item</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">my_string</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># reverse the string with a negative step:</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</code></pre></div>


<h4>常用方法</h4>
<div class="highlight"><pre><span></span><code><span class="n">my_string</span> <span class="o">=</span> <span class="s2">&quot;     Hello World &quot;</span>

<span class="c1"># remove white space</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="n">my_string</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_string</span><span class="p">)</span>

<span class="c1"># number of characters</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">my_string</span><span class="p">))</span>

<span class="c1"># Upper and lower cases</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_string</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_string</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>

<span class="c1"># startswith and endswith</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;he&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;llo&quot;</span><span class="p">))</span>

<span class="c1"># find first index of a given substring, -1 otherwise</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;o&quot;</span><span class="p">))</span>

<span class="c1"># count number of characters/substrings</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">))</span>

<span class="c1"># replace a substring with another string (only if the substring is found)</span>
<span class="c1"># Note: The original string stays the same</span>
<span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;Hello World&quot;</span>
<span class="n">new_message</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;World&quot;</span><span class="p">,</span> <span class="s2">&quot;Universe&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">new_message</span><span class="p">)</span>

<span class="c1"># split the string into a list</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s2">&quot;how are you doing&quot;</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">my_string</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="c1"># default argument is &quot; &quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">my_string</span> <span class="o">=</span> <span class="s2">&quot;one,two,three&quot;</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">my_string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1"># join elements of a list into a string</span>
<span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;How&#39;</span><span class="p">,</span> <span class="s1">&#39;are&#39;</span><span class="p">,</span> <span class="s1">&#39;you&#39;</span><span class="p">,</span> <span class="s1">&#39;doing&#39;</span><span class="p">]</span>
<span class="n">a</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span> <span class="c1"># the given string is the separator, e.g. &#39; &#39; between each argument</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</code></pre></div>


<h4>格式化字符串</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># use braces as placeholders</span>
<span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;Hello </span><span class="si">{0}</span><span class="s2"> and </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Tom&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1"># the positions are optional for the default order</span>
<span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;Hello </span><span class="si">{}</span><span class="s2"> and </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Tom&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;The integer value is </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1"># some special format rules for numbers</span>
<span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;The float value is </span><span class="si">{0:.3f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">2.1234</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;The float value is </span><span class="si">{0:e}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">2.1234</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;The binary value is </span><span class="si">{0:b}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1"># old style formatting by using % operator</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello </span><span class="si">%s</span><span class="s2"> and </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Tom&quot;</span><span class="p">))</span> <span class="c1"># must be a tuple for multiple arguments</span>
<span class="n">val</span> <span class="o">=</span>  <span class="mf">3.14159265359</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The decimal value is </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">val</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The float value is </span><span class="si">%f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">val</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The float value is </span><span class="si">%.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">val</span><span class="p">)</span>

<span class="c1"># since python3.6</span>
<span class="c1"># Use the variables directly inside the braces.</span>
<span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Eric&quot;</span>
<span class="n">age</span> <span class="o">=</span> <span class="mi">25</span>
<span class="n">a</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">. You are </span><span class="si">{</span><span class="n">age</span><span class="si">}</span><span class="s2">.&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">pi</span> <span class="o">=</span> <span class="mf">3.14159</span>
<span class="n">a</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Pi is </span><span class="si">{</span><span class="n">pi</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="c1"># f-Strings are evaluated at runtime, which allows expressions</span>
<span class="n">a</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The value is </span><span class="si">{</span><span class="mi">2</span><span class="o">*</span><span class="mi">60</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</code></pre></div>


<h4>More on immutability and concatenation</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># since a string is immutable, adding strings with +,  or += always </span>
<span class="c1"># creates a new string, and therefore is expensive for multiple operations</span>
<span class="c1"># --&gt; join method is much faster</span>
<span class="kn">from</span> <span class="nn">timeit</span> <span class="kn">import</span> <span class="n">default_timer</span> <span class="k">as</span> <span class="n">timer</span>
<span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">1000000</span>

<span class="c1"># bad</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">timer</span><span class="p">()</span>
<span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">my_list</span><span class="p">:</span>
    <span class="n">a</span> <span class="o">+=</span> <span class="n">i</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">timer</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;concatenate string with + : </span><span class="si">%.5f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">))</span>

<span class="c1"># good</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">timer</span><span class="p">()</span>
<span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">my_list</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">timer</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;concatenate string with join(): </span><span class="si">%.5f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">))</span>
</code></pre></div>


<h3>参考</h3>
<p><a href="https://github.com/python-engineer/python-engineer-notebooks">Python-Notebook</a></p>

      </div><!-- /.entry-content -->
      <div class="comments">
        <h2>Comments</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
          var disqus_identifier = "pages/2020/09/26/Python-Advanced-1/";
          (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//niuhemoon.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
      </div>

    </article>
  </section>
</div>
            </div>
        </div>
    </div>

    <footer id="site-footer">
        <div class="row-fluid">
            <div class="span10 offset1">
                <address>
                    <p>
                        This blog is proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                    </p>
                    <p>
                        <a href="http://github.com/jsliang/pelican-fresh/">Fresh</a> is a responsive theme designed by <a href="http://jsliang.com/">jsliang</a> and <a href="https://github.com/jsliang/pelican-fresh/graphs/contributors">contributors</a>.
                        Special thanks to <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a> and <a href="http://getbootstrap.com/">Twitter Bootstrap</a>.
                    </p>
                </address>
            </div>
        </div>
    </footer>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-116933089-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
<script type="text/javascript">
    var disqus_shortname = 'niuhemoon';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
    <script src="//code.jquery.com/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
</body>
</html>